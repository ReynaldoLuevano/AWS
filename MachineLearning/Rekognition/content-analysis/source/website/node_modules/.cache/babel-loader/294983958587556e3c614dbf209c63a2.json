{"remainingRequest":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/Transcript.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/Transcript.vue","mtime":1759685740382},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/babel.config.js","mtime":1759685740381},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1759686089126},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js","mtime":1759686089251},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js","mtime":1759686084280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcmV5bmFsZG8vRG9jdW1lbnRzL0FXUy9NYWNoaW5lTGVhcm5pbmcvUmVrb2duaXRpb24vY29udGVudC1hbmFseXNpcy1vbi1hd3Mvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUcmFuc2NyaXB0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJhbnNjcmlwdDogIiIsCiAgICAgIGlzQnVzeTogZmFsc2UsCiAgICAgIG9wZXJhdG9yOiAidHJhbnNjcmlwdCIsCiAgICAgIG5vVHJhbnNjcmlwdDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNQcm9mYW5lOiBmdW5jdGlvbiBpc1Byb2ZhbmUoKSB7CiAgICAgIHZhciBGaWx0ZXIgPSByZXF1aXJlKCdiYWQtd29yZHMnKTsKICAgICAgdmFyIHByb2Zhbml0eUZpbHRlciA9IG5ldyBGaWx0ZXIoewogICAgICAgIHBsYWNlSG9sZGVyOiAnXycKICAgICAgfSk7CiAgICAgIHJldHVybiBwcm9mYW5pdHlGaWx0ZXIuaXNQcm9mYW5lKHRoaXMudHJhbnNjcmlwdCk7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLnRyYW5zY3JpcHQgPSAiIjsKICAgIGNvbnNvbGUubG9nKCdkZWFjdGl2YXRlZCBjb21wb25lbnQ6JywgdGhpcy5vcGVyYXRvcik7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogICAgdGhpcy5mZXRjaEFzc2V0RGF0YSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMudHJhbnNjcmlwdCA9ICcnOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hBc3NldERhdGE6IGZ1bmN0aW9uIGZldGNoQXNzZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcXVlcnksIGFwaU5hbWUsIHBhdGgsIGFwaVBhcmFtcywgcmVzcG9uc2UsIHJlc3VsdCwgZGF0YSwgaSwgbGVuOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcXVlcnkgPSAnQXNzZXRJZDonICsgX3RoaXMuJHJvdXRlLnBhcmFtcy5hc3NldF9pZCArICcgX2luZGV4Om1pZXZpZGVvdHJhbnNjcmlwdCc7CiAgICAgICAgICAgICAgYXBpTmFtZSA9ICdjb250ZW50QW5hbHlzaXNFbGFzdGljc2VhcmNoJzsKICAgICAgICAgICAgICBwYXRoID0gJy9fc2VhcmNoJzsKICAgICAgICAgICAgICBhcGlQYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZ1BhcmFtZXRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ3EnOiBxdWVyeSwKICAgICAgICAgICAgICAgICAgJ2RlZmF1bHRfb3BlcmF0b3InOiAnQU5EJywKICAgICAgICAgICAgICAgICAgJ3NpemUnOiAxMDAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDE7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBbXBsaWZ5LkFQSS5nZXQoYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zKTsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzLnNob3dFbGFzdGljU2VhcmNoQWxlcnQgPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBkYXRhID0gcmVzdWx0LmhpdHMuaGl0czsKICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIF90aGlzLm5vVHJhbnNjcmlwdCA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgaWYgKCd0cmFuc2NyaXB0JyBpbiBkYXRhW2ldLl9zb3VyY2UpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmFuc2NyaXB0ID0gX3RoaXMudHJhbnNjcmlwdC5jb25jYXQoZGF0YVtpXS5fc291cmNlLnRyYW5zY3JpcHQgKyAiICIpOwogICAgICAgICAgICAgICAgICAgIF90aGlzLm5vVHJhbnNjcmlwdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzLmlzQnVzeSA9IGZhbHNlOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["name","data","transcript","isBusy","operator","noTranscript","computed","isProfane","Filter","require","profanityFilter","placeHolder","deactivated","console","log","activated","fetchAssetData","beforeDestroy","methods","_this","_asyncToGenerator","_regenerator","m","_callee","query","apiName","path","apiParams","response","result","i","len","w","_context","n","$route","params","asset_id","headers","queryStringParameters","$Amplify","API","get","v","showElasticSearchAlert","hits","length","_source","concat","a"],"sources":["src/components/Transcript.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"noTranscript === true\">\n      No transcript found for this asset\n    </div>\n    <div v-if=\"isBusy\">\n      <b-spinner\n        variant=\"secondary\"\n        label=\"Loading...\"\n      />\n      <p class=\"text-muted\">\n        (Loading...)\n      </p>\n    </div>\n    <div v-else>\n      <div v-if=\"isProfane\">\n        <span style=\"color:red\">WARNING: Transcript contains potentially offensive words.</span>\n        <br>\n        <br>\n      </div>\n      {{ transcript }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Transcript\",\n  data() {\n    return {\n      transcript: \"\",\n      isBusy: false,\n      operator: \"transcript\",\n      noTranscript: false\n    }\n  },\n  computed: {\n    isProfane() {\n      const Filter = require('bad-words');\n      const profanityFilter = new Filter({ placeHolder: '_' });\n      return profanityFilter.isProfane(this.transcript);\n    },\n  },\n  deactivated: function () {\n    this.transcript = \"\"\n    console.log('deactivated component:', this.operator)\n  },\n  activated: function () {\n    console.log('activated component:', this.operator);\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n      this.transcript = ''\n  },\n  methods: {\n    async fetchAssetData () {\n      let query = 'AssetId:'+this.$route.params.asset_id+ ' _index:mievideotranscript';\n      let apiName = 'contentAnalysisElasticsearch';\n      let path = '/_search';\n      let apiParams = {\n        headers: {'Content-Type': 'application/json'},\n        queryStringParameters: {'q': query, 'default_operator': 'AND', 'size': 10000}\n      };\n      let response = await this.$Amplify.API.get(apiName, path, apiParams);\n      if (!response) {\n        this.showElasticSearchAlert = true\n      }\n      else {\n        let result = await response;\n        let data = result.hits.hits;\n        if (data.length === 0) {\n          this.noTranscript = true\n        }\n        else {\n          for (let i = 0, len = data.length; i < len; i++) {\n            if ('transcript' in data[i]._source) {\n              this.transcript = this.transcript.concat(data[i]._source.transcript + \" \")\n              this.noTranscript = false;\n            }\n          }\n        }\n        this.isBusy = false\n      }\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;EACAA,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,QAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA,IAAAC,MAAA,GAAAC,OAAA;MACA,IAAAC,eAAA,OAAAF,MAAA;QAAAG,WAAA;MAAA;MACA,OAAAD,eAAA,CAAAH,SAAA,MAAAL,UAAA;IACA;EACA;EACAU,WAAA,WAAAA,YAAA;IACA,KAAAV,UAAA;IACAW,OAAA,CAAAC,GAAA,gCAAAV,QAAA;EACA;EACAW,SAAA,WAAAA,UAAA;IACAF,OAAA,CAAAC,GAAA,8BAAAV,QAAA;IACA,KAAAY,cAAA;EACA;EACAC,aAAA,WAAAA,cAAA;IACA,KAAAf,UAAA;EACA;EACAgB,OAAA;IACAF,cAAA,WAAAA,eAAA;MAAA,IAAAG,KAAA;MAAA,OAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAA;QAAA,IAAAC,KAAA,EAAAC,OAAA,EAAAC,IAAA,EAAAC,SAAA,EAAAC,QAAA,EAAAC,MAAA,EAAA5B,IAAA,EAAA6B,CAAA,EAAAC,GAAA;QAAA,OAAAV,YAAA,GAAAW,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA;YAAA;cACAV,KAAA,gBAAAL,KAAA,CAAAgB,MAAA,CAAAC,MAAA,CAAAC,QAAA;cACAZ,OAAA;cACAC,IAAA;cACAC,SAAA;gBACAW,OAAA;kBAAA;gBAAA;gBACAC,qBAAA;kBAAA,KAAAf,KAAA;kBAAA;kBAAA;gBAAA;cACA;cAAAS,QAAA,CAAAC,CAAA;cAAA,OACAf,KAAA,CAAAqB,QAAA,CAAAC,GAAA,CAAAC,GAAA,CAAAjB,OAAA,EAAAC,IAAA,EAAAC,SAAA;YAAA;cAAAC,QAAA,GAAAK,QAAA,CAAAU,CAAA;cAAA,IACAf,QAAA;gBAAAK,QAAA,CAAAC,CAAA;gBAAA;cAAA;cACAf,KAAA,CAAAyB,sBAAA;cAAAX,QAAA,CAAAC,CAAA;cAAA;YAAA;cAAAD,QAAA,CAAAC,CAAA;cAAA,OAGAN,QAAA;YAAA;cAAAC,MAAA,GAAAI,QAAA,CAAAU,CAAA;cACA1C,IAAA,GAAA4B,MAAA,CAAAgB,IAAA,CAAAA,IAAA;cACA,IAAA5C,IAAA,CAAA6C,MAAA;gBACA3B,KAAA,CAAAd,YAAA;cACA,OACA;gBACA,KAAAyB,CAAA,MAAAC,GAAA,GAAA9B,IAAA,CAAA6C,MAAA,EAAAhB,CAAA,GAAAC,GAAA,EAAAD,CAAA;kBACA,oBAAA7B,IAAA,CAAA6B,CAAA,EAAAiB,OAAA;oBACA5B,KAAA,CAAAjB,UAAA,GAAAiB,KAAA,CAAAjB,UAAA,CAAA8C,MAAA,CAAA/C,IAAA,CAAA6B,CAAA,EAAAiB,OAAA,CAAA7C,UAAA;oBACAiB,KAAA,CAAAd,YAAA;kBACA;gBACA;cACA;cACAc,KAAA,CAAAhB,MAAA;YAAA;cAAA,OAAA8B,QAAA,CAAAgB,CAAA;UAAA;QAAA,GAAA1B,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}