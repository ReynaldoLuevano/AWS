{"remainingRequest":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/Celebrities.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/Celebrities.vue","mtime":1759685740382},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/babel.config.js","mtime":1759685740381},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1759686089126},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js","mtime":1759686089251},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js","mtime":1759686084280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcmV5bmFsZG8vRG9jdW1lbnRzL0FXUy9NYWNoaW5lTGVhcm5pbmcvUmVrb2duaXRpb24vY29udGVudC1hbmFseXNpcy1vbi1hd3Mvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3JleW5hbGRvL0RvY3VtZW50cy9BV1MvTWFjaGluZUxlYXJuaW5nL1Jla29nbml0aW9uL2NvbnRlbnQtYW5hbHlzaXMtb24tYXdzL3NvdXJjZS93ZWJzaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3JleW5hbGRvL0RvY3VtZW50cy9BV1MvTWFjaGluZUxlYXJuaW5nL1Jla29nbml0aW9uL2NvbnRlbnQtYW5hbHlzaXMtb24tYXdzL3NvdXJjZS93ZWJzaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2VsZWJyaXRpZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIHByb3BzOiB7CiAgICBtZWRpYVR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cmxDb21tYW5kOiAnJywKICAgICAgc2VhcmNoUXVlcnk6ICcnLAogICAgICBzaG93RWxhc3RpY3NlYXJjaEFwaVJlcXVlc3Q6IGZhbHNlLAogICAgICBDb25maWRlbmNlOiA5MCwKICAgICAgaGlnaF9jb25maWRlbmNlX2RhdGE6IFtdLAogICAgICBlbGFzdGljc2VhcmNoX2RhdGE6IFtdLAogICAgICBib3hlc19hdmFpbGFibGU6IFtdLAogICAgICBjb3VudF9kaXN0aW5jdF9sYWJlbHM6IDAsCiAgICAgIGNvdW50X2xhYmVsczogMCwKICAgICAgaXNCdXN5OiBmYWxzZSwKICAgICAgb3BlcmF0b3I6ICdjZWxlYnJpdHlfZGV0ZWN0aW9uJywKICAgICAgY2FudmFzUmVmcmVzaEludGVydmFsOiB1bmRlZmluZWQsCiAgICAgIHRpbWVzZXJpZXM6IG5ldyBNYXAoKSwKICAgICAgc2VsZWN0ZWRMYWJlbDogJycsCiAgICAgIGxvd2VyQ29uZmlkZW5jZTogZmFsc2UsCiAgICAgIGxvd2VyQ29uZmlkZW5jZU1lc3NhZ2U6ICdUcnkgbG93ZXJpbmcgY29uZmlkZW5jZSB0aHJlc2hvbGQnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydwbGF5ZXInXSkpLCB7fSwgewogICAgc29ydGVkX3VuaXF1ZV9sYWJlbHM6IGZ1bmN0aW9uIHNvcnRlZF91bmlxdWVfbGFiZWxzKCkgewogICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNvcnRzIGFuZCBjb3VudHMgdW5pcXVlIGxhYmVscyBmb3IgbW91c2Ugb3ZlciBldmVudHMgb24gbGFiZWwgYnV0dG9ucwogICAgICB2YXIgZXNfZGF0YSA9IHRoaXMuZWxhc3RpY3NlYXJjaF9kYXRhOwogICAgICB2YXIgdW5pcXVlX2xhYmVscyA9IG5ldyBNYXAoKTsKICAgICAgLy8gc29ydCBhbmQgY291bnQgdW5pcXVlIGxhYmVscyBmb3IgbGFiZWwgbW91c2Ugb3ZlciBldmVudHMKICAgICAgZXNfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICB1bmlxdWVfbGFiZWxzLnNldChyZWNvcmQuTmFtZSwgdW5pcXVlX2xhYmVscy5nZXQocmVjb3JkLk5hbWUpID8gdW5pcXVlX2xhYmVscy5nZXQocmVjb3JkLk5hbWUpICsgMSA6IDEpOwogICAgICAgIGlmIChyZWNvcmQuQm91bmRpbmdCb3gpIHsKICAgICAgICAgIC8vIFNhdmUgdGhpcyBsYWJlbCBuYW1lIHRvIGEgbGlzdCBvZiBsYWJlbHMgdGhhdCBoYXZlIGJvdW5kaW5nIGJveGVzCiAgICAgICAgICB0aGlzLnNhdmVCb3hlZExhYmVsKHJlY29yZC5OYW1lKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIHZhciBzb3J0ZWRfdW5pcXVlX2xhYmVscyA9IG5ldyBNYXAoX3RvQ29uc3VtYWJsZUFycmF5KHVuaXF1ZV9sYWJlbHMuZW50cmllcygpKS5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYlsxXSAtIGFbMV07CiAgICAgIH0pKTsKICAgICAgLy8gSWYgRWxhc3RpY3NlYXJjaCByZXR1cm5lZCB1bmRlZmluZWQgbGFiZWxzIHRoZW4gZGVsZXRlIHRoZW06CiAgICAgIHNvcnRlZF91bmlxdWVfbGFiZWxzLmRlbGV0ZSh1bmRlZmluZWQpOwogICAgICB0aGlzLmNvdW50TGFiZWxzKHNvcnRlZF91bmlxdWVfbGFiZWxzLnNpemUsIGVzX2RhdGEubGVuZ3RoKTsKICAgICAgcmV0dXJuIHNvcnRlZF91bmlxdWVfbGFiZWxzOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICAvLyBUaGVzZSB3YXRjaGVzIHVwZGF0ZSB0aGUgbGluZSBjaGFydAogICAgc2VsZWN0ZWRMYWJlbDogZnVuY3Rpb24gc2VsZWN0ZWRMYWJlbCgpIHsKICAgICAgdGhpcy5jaGFydERhdGEoKTsKICAgIH0sCiAgICBlbGFzdGljc2VhcmNoX2RhdGE6IGZ1bmN0aW9uIGVsYXN0aWNzZWFyY2hfZGF0YSgpIHsKICAgICAgdGhpcy5jaGFydERhdGEoKTsKICAgIH0KICB9LAogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdkZWFjdGl2YXRlZCBjb21wb25lbnQ6JywgdGhpcy5vcGVyYXRvcik7CiAgICB0aGlzLmJveGVzX2F2YWlsYWJsZSA9IFtdOwogICAgdGhpcy5zZWxlY3RlZExhYmVsID0gJyc7CiAgICBjbGVhckludGVydmFsKHRoaXMuY2FudmFzUmVmcmVzaEludGVydmFsKTsKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7CiAgICBpZiAoY2FudmFzKSB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICBpZiAoY3R4KSBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogICAgdGhpcy5mZXRjaEFzc2V0RGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q3VybENvbW1hbmQoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmhpZ2hfY29uZmlkZW5jZV9kYXRhID0gW107CiAgICB0aGlzLmVsYXN0aWNzZWFyY2hfZGF0YSA9IFtdOwogICAgdGhpcy5jb3VudF9kaXN0aW5jdF9sYWJlbHMgPSAwOwogICAgdGhpcy5jb3VudF9sYWJlbHMgPSAwOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNhbnZhc1JlZnJlc2hJbnRlcnZhbCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDdXJsQ29tbWFuZDogZnVuY3Rpb24gZ2V0Q3VybENvbW1hbmQoKSB7CiAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSAnQXNzZXRJZDonICsgdGhpcy4kcm91dGUucGFyYW1zLmFzc2V0X2lkICsgJyBDb25maWRlbmNlOj4nICsgdGhpcy5Db25maWRlbmNlICsgJyBPcGVyYXRvcjonICsgdGhpcy5vcGVyYXRvcjsKICAgICAgLy8gZ2V0IGN1cmwgY29tbWFuZCB0byBzZWFyY2ggZWxhc3RpY3NlYXJjaAogICAgICB0aGlzLmN1cmxDb21tYW5kID0gJ2F3c2N1cmwgLVggR0VUIC0tcHJvZmlsZSBkZWZhdWx0IC0tc2VydmljZSBlcyAtLXJlZ2lvbiAnICsgdGhpcy5BV1NfUkVHSU9OICsgJyBcJycgKyB0aGlzLlNFQVJDSF9FTkRQT0lOVCArICcvX3NlYXJjaD9xPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5zZWFyY2hRdWVyeSkgKyAnXCcnOwogICAgfSwKICAgIHNhdmVCb3hlZExhYmVsOiBmdW5jdGlvbiBzYXZlQm94ZWRMYWJlbChsYWJlbF9uYW1lKSB7CiAgICAgIGlmICghdGhpcy5ib3hlc19hdmFpbGFibGUuaW5jbHVkZXMobGFiZWxfbmFtZSkpIHsKICAgICAgICB0aGlzLmJveGVzX2F2YWlsYWJsZS5wdXNoKGxhYmVsX25hbWUpOwogICAgICB9CiAgICB9LAogICAgY291bnRMYWJlbHM6IGZ1bmN0aW9uIGNvdW50TGFiZWxzKHVuaXF1ZV9jb3VudCwgdG90YWxfY291bnQpIHsKICAgICAgdGhpcy5jb3VudF9kaXN0aW5jdF9sYWJlbHMgPSB1bmlxdWVfY291bnQ7CiAgICAgIHRoaXMuY291bnRfbGFiZWxzID0gdG90YWxfY291bnQ7CiAgICB9LAogICAgc2F2ZUZpbGU6IGZ1bmN0aW9uIHNhdmVGaWxlKCkgewogICAgICB2YXIgZWxhc3RpY3NlYXJjaF9kYXRhID0gdGhpcy5lbGFzdGljc2VhcmNoX2RhdGE7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGVsYXN0aWNzZWFyY2hfZGF0YSldLCB7CiAgICAgICAgdHlwZTogJ3RleHQvcGxhaW4nCiAgICAgIH0pOwogICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpLAogICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGEuZG93bmxvYWQgPSAiZGF0YS5qc29uIjsKICAgICAgYS5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgIGEuZGF0YXNldC5kb3dubG9hZHVybCA9IFsndGV4dC9qc29uJywgYS5kb3dubG9hZCwgYS5ocmVmXS5qb2luKCc6Jyk7CiAgICAgIGUuaW5pdEV2ZW50KCdjbGljaycsIHRydWUsIGZhbHNlLCB3aW5kb3csIDAsIDAsIDAsIDAsIDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTsKICAgICAgYS5kaXNwYXRjaEV2ZW50KGUpOwogICAgfSwKICAgIHVwZGF0ZUNvbmZpZGVuY2U6IGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZGVuY2UoZXZlbnQpIHsKICAgICAgdGhpcy5pc0J1c3kgPSAhdGhpcy5pc0J1c3k7CiAgICAgIHRoaXMuQ29uZmlkZW5jZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgLy8gVE9ETzogbW92ZSBpbWFnZSBwcm9jZXNzaW5nIHRvIGEgc2VwYXJhdGUgY29tcG9uZW50CiAgICAgIGlmICh0aGlzLm1lZGlhVHlwZSA9PT0gInZpZGVvIikgewogICAgICAgIC8vIHJlZHJhdyBtYXJrZXJzIG9uIHZpZGVvIHRpbWVsaW5lCiAgICAgICAgdGhpcy5wbGF5ZXIubWFya2Vycy5yZW1vdmVBbGwoKTsKICAgICAgfQogICAgICB0aGlzLmdldEN1cmxDb21tYW5kKCk7CiAgICAgIHRoaXMuZmV0Y2hBc3NldERhdGEoKTsKICAgIH0sCiAgICAvLyB1cGRhdGVNYXJrZXJzIHVwZGF0ZXMgbWFya2VycyBpbiB0aGUgdmlkZW8gcGxheWVyIGFuZCBpcyBjYWxsZWQgd2hlbiBzb21lb25lIGNsaWNrcyBvbiBhIGxhYmVsIGJ1dHRvbgogICAgdXBkYXRlTWFya2VyczogZnVuY3Rpb24gdXBkYXRlTWFya2VycyhsYWJlbCkgewogICAgICAvLyBjbGVhciBjYW52YXMgZm9yIHJlZHJhd2luZwogICAgICB0aGlzLmJveGVzX2F2YWlsYWJsZSA9IFtdOwogICAgICBjbGVhckludGVydmFsKHRoaXMuY2FudmFzUmVmcmVzaEludGVydmFsKTsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICJyZWQiOwogICAgICBjdHguZm9udCA9ICIxNXB4IEFyaWFsIjsKICAgICAgY3R4LnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICBjdHgudGV4dEJhc2VsaW5lID0gIm1pZGRsZSI7CiAgICAgIGN0eC5maWxsU3R5bGUgPSAicmVkIjsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRMYWJlbCA9PT0gbGFiZWwpIHsKICAgICAgICAvLyBrZWVwIHRoZSBjYW52YXMgY2xlYXIgY2FudmFzIGlmIHVzZXIgY2xpY2tlZCB0aGUgbGFiZWwgYnV0dG9uIGEgc2Vjb25kIGNvbnNlY3V0aXZlIHRpbWUKICAgICAgICB0aGlzLnNlbGVjdGVkTGFiZWwgPSAiIjsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3RlZExhYmVsID0gbGFiZWw7IC8vIGluaXRpYWxpemUgbGlzdHMgb2YgYm94ZXMgYW5kIG1hcmtlcnMgdG8gYmUgZHJhd24KICAgICAgdmFyIGJveE1hcCA9IG5ldyBNYXAoKTsKICAgICAgdmFyIG1hcmtlcnMgPSBbXTsKICAgICAgdmFyIGVzX2RhdGEgPSB0aGlzLmVsYXN0aWNzZWFyY2hfZGF0YTsKICAgICAgdmFyIGkgPSAwOwogICAgICBlc19kYXRhLmZvckVhY2goZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgIGlmIChyZWNvcmQuTmFtZSA9PT0gbGFiZWwpIHsKICAgICAgICAgIC8vIFNhdmUgbGFiZWwgbmFtZSBvdmVybGF5aW5nIG9uIHZpZGVvIHRpbWVsaW5lCiAgICAgICAgICBtYXJrZXJzLnB1c2goewogICAgICAgICAgICAndGltZSc6IHJlY29yZC5UaW1lc3RhbXAgLyAxMDAwLAogICAgICAgICAgICAndGV4dCc6IHJlY29yZC5OYW1lLAogICAgICAgICAgICAnb3ZlcmxheVRleHQnOiByZWNvcmQuTmFtZQogICAgICAgICAgfSk7CiAgICAgICAgICAvLyBTYXZlIGJvdW5kaW5nIGJveCBpbmZvIGlmIGl0IGV4aXN0cwogICAgICAgICAgaWYgKHJlY29yZC5Cb3VuZGluZ0JveCkgewogICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIGltYWdlIHByb2Nlc3NpbmcgdG8gYSBzZXBhcmF0ZSBjb21wb25lbnQKICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFUeXBlID09PSAiaW1hZ2UiKSB7CiAgICAgICAgICAgICAgdmFyIGJveGluZm8gPSB7CiAgICAgICAgICAgICAgICAnaW5zdGFuY2UnOiBpLAogICAgICAgICAgICAgICAgJ25hbWUnOiByZWNvcmQuTmFtZSwKICAgICAgICAgICAgICAgICdjb25maWRlbmNlJzogKHJlY29yZC5Db25maWRlbmNlICogMSkudG9GaXhlZCgyKSwKICAgICAgICAgICAgICAgICd4JzogcmVjb3JkLkJvdW5kaW5nQm94LkxlZnQgKiBjYW52YXMud2lkdGgsCiAgICAgICAgICAgICAgICAneSc6IHJlY29yZC5Cb3VuZGluZ0JveC5Ub3AgKiBjYW52YXMuaGVpZ2h0LAogICAgICAgICAgICAgICAgJ3dpZHRoJzogcmVjb3JkLkJvdW5kaW5nQm94LldpZHRoICogY2FudmFzLndpZHRoLAogICAgICAgICAgICAgICAgJ2hlaWdodCc6IHJlY29yZC5Cb3VuZGluZ0JveC5IZWlnaHQgKiBjYW52YXMuaGVpZ2h0CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBib3hNYXAuc2V0KGkrKywgW2JveGluZm9dKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBVc2UgdGltZSByZXNvbHV0aW9uIG9mIDAuMSBzZWNvbmQKICAgICAgICAgICAgICB2YXIgdGltZXN0YW1wID0gTWF0aC5yb3VuZChyZWNvcmQuVGltZXN0YW1wIC8gMTAwKTsKICAgICAgICAgICAgICB2YXIgX2JveGluZm8gPSB7CiAgICAgICAgICAgICAgICAnaW5zdGFuY2UnOiAwLAogICAgICAgICAgICAgICAgJ3RpbWVzdGFtcCc6IE1hdGguY2VpbChyZWNvcmQuVGltZXN0YW1wIC8gMTAwKSwKICAgICAgICAgICAgICAgICduYW1lJzogcmVjb3JkLk5hbWUsCiAgICAgICAgICAgICAgICAnY29uZmlkZW5jZSc6IChyZWNvcmQuQ29uZmlkZW5jZSAqIDEpLnRvRml4ZWQoMiksCiAgICAgICAgICAgICAgICAneCc6IHJlY29yZC5Cb3VuZGluZ0JveC5MZWZ0ICogY2FudmFzLndpZHRoLAogICAgICAgICAgICAgICAgJ3knOiByZWNvcmQuQm91bmRpbmdCb3guVG9wICogY2FudmFzLmhlaWdodCwKICAgICAgICAgICAgICAgICd3aWR0aCc6IHJlY29yZC5Cb3VuZGluZ0JveC5XaWR0aCAqIGNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICAgICdoZWlnaHQnOiByZWNvcmQuQm91bmRpbmdCb3guSGVpZ2h0ICogY2FudmFzLmhlaWdodAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgYm94TWFwLnNldCh0aW1lc3RhbXAsIFtfYm94aW5mb10pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LmJpbmQodGhpcykpOwogICAgICBpZiAoYm94TWFwLnNpemUgPiAwKSB7CiAgICAgICAgdGhpcy5kcmF3Qm94ZXMoYm94TWFwKTsKICAgICAgfQogICAgICAvLyBUT0RPOiBtb3ZlIGltYWdlIHByb2Nlc3NpbmcgdG8gYSBzZXBhcmF0ZSBjb21wb25lbnQKICAgICAgaWYgKHRoaXMubWVkaWFUeXBlID09PSAidmlkZW8iKSB7CiAgICAgICAgLy8gcmVkcmF3IG1hcmtlcnMgb24gdmlkZW8gdGltZWxpbmUKICAgICAgICB0aGlzLnBsYXllci5tYXJrZXJzLnJlbW92ZUFsbCgpOwogICAgICAgIHRoaXMucGxheWVyLm1hcmtlcnMuYWRkKG1hcmtlcnMpOwogICAgICB9CiAgICB9LAogICAgZmV0Y2hBc3NldERhdGE6IGZ1bmN0aW9uIGZldGNoQXNzZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zLCByZXNwb25zZSwgZXNfZGF0YSwgcmVzdWx0LCBkYXRhLCBpLCBsZW47CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhcGlOYW1lID0gJ2NvbnRlbnRBbmFseXNpc0VsYXN0aWNzZWFyY2gnOwogICAgICAgICAgICAgIHBhdGggPSAnL19zZWFyY2gnOwogICAgICAgICAgICAgIGFwaVBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nUGFyYW1ldGVyczogewogICAgICAgICAgICAgICAgICAncSc6IF90aGlzLnNlYXJjaFF1ZXJ5LAogICAgICAgICAgICAgICAgICAnZGVmYXVsdF9vcGVyYXRvcic6ICdBTkQnLAogICAgICAgICAgICAgICAgICAnc2l6ZSc6IDEwMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uID0gMTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJEFtcGxpZnkuQVBJLmdldChhcGlOYW1lLCBwYXRoLCBhcGlQYXJhbXMpOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC52OwogICAgICAgICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMuc2hvd0VsYXN0aWNTZWFyY2hBbGVydCA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBlc19kYXRhID0gW107CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBkYXRhID0gcmVzdWx0LmhpdHMuaGl0czsKICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDAgJiYgX3RoaXMuQ29uZmlkZW5jZSA+IDU1KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5sb3dlckNvbmZpZGVuY2UgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMubG93ZXJDb25maWRlbmNlTWVzc2FnZSA9ICdUcnkgbG93ZXJpbmcgY29uZmlkZW5jZSB0aHJlc2hvbGQnOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy5sb3dlckNvbmZpZGVuY2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgZXNfZGF0YS5wdXNoKGRhdGFbaV0uX3NvdXJjZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzLmVsYXN0aWNzZWFyY2hfZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZXNfZGF0YSkpOwogICAgICAgICAgICAgIF90aGlzLmlzQnVzeSA9IGZhbHNlOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRyYXdCb3hlczogZnVuY3Rpb24gZHJhd0JveGVzKGJveE1hcCkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIC8vIFRPRE86IG1vdmUgaW1hZ2UgcHJvY2Vzc2luZyB0byBhIHNlcGFyYXRlIGNvbXBvbmVudAogICAgICBpZiAodGhpcy5tZWRpYVR5cGUgPT09ICJpbWFnZSIpIHsKICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICJyZWQiOwogICAgICAgIGN0eC5mb250ID0gIjE1cHggQXJpYWwiOwogICAgICAgIGN0eC50ZXh0QWxpZ24gPSAiY2VudGVyIjsKICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gIm1pZGRsZSI7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICJyZWQiOwogICAgICAgIC8vIEZvciBlYWNoIGJveCBpbnN0YW5jZS4uLgogICAgICAgIGJveE1hcC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICB2YXIgZHJhd01lID0gaVswXTsKICAgICAgICAgIGlmIChkcmF3TWUpIHsKICAgICAgICAgICAgY3R4LnJlY3QoZHJhd01lLngsIGRyYXdNZS55LCBkcmF3TWUud2lkdGgsIGRyYXdNZS5oZWlnaHQpOwogICAgICAgICAgICAvLyBEcmF3IG9iamVjdCBuYW1lIGFuZCBjb25maWRlbmNlIHNjb3JlCiAgICAgICAgICAgIGN0eC5maWxsVGV4dChkcmF3TWUubmFtZSArICIgKCIgKyBkcmF3TWUuY29uZmlkZW5jZSArICIlKSIsIGRyYXdNZS54ICsgZHJhd01lLndpZHRoIC8gMiwgZHJhd01lLnkgLSAxMCk7CiAgICAgICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAvLyBub3cgcmV0dXJuIHNvIHdlIGF2b2lkIHJlbmRlcmluZyBhbnkgb2YgdGhlIHZpZGVvIHJlbGF0ZWQgY29tcG9uZW50cyBiZWxvdwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyBJZiB1c2VyIGp1c3QgY2xpY2tlZCBhIG5ldyBsYWJlbC4uLgogICAgICBpZiAodGhpcy5jYW52YXNSZWZyZXNoSW50ZXJ2YWwgIT09IHVuZGVmaW5lZCkgewogICAgICAgIC8vIC4uLnRoZW4gcmVzZXQgdGhlIG9sZCBjYW52YXMgcmVmcmVzaCBpbnRlcnZhbC4KICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2FudmFzUmVmcmVzaEludGVydmFsKTsKICAgICAgfQogICAgICAvLyBMb29rIGZvciBhbmQgZHJhdyBib3VuZGluZyBib3hlcyBldmVyeSAxMDBtcwogICAgICB2YXIgaW50ZXJ2YWxfbXMgPSAxMDA7CiAgICAgIHZhciBlcmFzZV9vbl9pdGVyYXRpb24gPSAyOwogICAgICB2YXIgaSA9IDA7CiAgICAgIHRoaXMuY2FudmFzUmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGkrKzsKICAgICAgICAvLyBlcmFzZSBvbGQgYm91bmRpbmcgYm94ZXMKICAgICAgICBpZiAoIXRoaXMucGxheWVyLnBhdXNlZCgpICYmIGkgJSBlcmFzZV9vbl9pdGVyYXRpb24gPT09IDApIHsKICAgICAgICAgIGkgPSAwOwogICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gInJlZCI7CiAgICAgICAgICBjdHguZm9udCA9ICIxNXB4IEFyaWFsIjsKICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAiY2VudGVyIjsKICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAibWlkZGxlIjsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAicmVkIjsKICAgICAgICB9CiAgICAgICAgLy8gR2V0IGN1cnJlbnQgcGxheWVyIHRpbWVzdGFtcCB0byB0aGUgbmVhcmVzdCAxLzEwdGggc2Vjb25kCiAgICAgICAgdmFyIHBsYXllcl90aW1lc3RhbXAgPSBNYXRoLnJvdW5kKHRoaXMucGxheWVyLmN1cnJlbnRUaW1lKCkgKiAxMC4wKTsKICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgYm94IGZvciB0aGUgcGxheWVyJ3MgdGltZXN0YW1wLi4uCiAgICAgICAgaWYgKGJveE1hcC5oYXMocGxheWVyX3RpbWVzdGFtcCkpIHsKICAgICAgICAgIGkgPSAwOwogICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gInJlZCI7CiAgICAgICAgICBjdHguZm9udCA9ICIxNXB4IEFyaWFsIjsKICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAiY2VudGVyIjsKICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAibWlkZGxlIjsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAicmVkIjsKICAgICAgICAgIC8vIC4uLnRoZW4gZ2V0IGEgbGlzdCBvZiBib3ggaW5zdGFuY2VzCiAgICAgICAgICB2YXIgaW5zdGFuY2VfbGlzdCA9IGJveE1hcC5nZXQocGxheWVyX3RpbWVzdGFtcCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmluc3RhbmNlOwogICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBhKSB7CiAgICAgICAgICAgIHJldHVybiBhLmluZGV4T2YodikgPT09IGk7CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIEZvciBlYWNoIGJveCBpbnN0YW5jZS4uLgogICAgICAgICAgaW5zdGFuY2VfbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgIC8vIC4uLmdldCBhbGwgb2YgdGhlIGJveGVzIGJlbG9uZ2luZyB0byB0aGlzIGluc3RhbmNlCiAgICAgICAgICAgIC8vIGF0IHRoZSBjdXJyZW50IHRpbWVzdGFtcC4KICAgICAgICAgICAgdmFyIGJveGVzID0gYm94TWFwLmdldChwbGF5ZXJfdGltZXN0YW1wKS5maWx0ZXIoZnVuY3Rpb24gKGJveCkgewogICAgICAgICAgICAgIHJldHVybiBib3guaW5zdGFuY2UgPT09IGk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChkcmF3TWUpIHsKICAgICAgICAgICAgICBpZiAoZHJhd01lKSB7CiAgICAgICAgICAgICAgICBjdHgucmVjdChkcmF3TWUueCwgZHJhd01lLnksIGRyYXdNZS53aWR0aCwgZHJhd01lLmhlaWdodCk7CiAgICAgICAgICAgICAgICAvLyBEcmF3IG9iamVjdCBuYW1lIGFuZCBjb25maWRlbmNlIHNjb3JlCiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoZHJhd01lLm5hbWUgKyAiICgiICsgZHJhd01lLmNvbmZpZGVuY2UgKyAiJSkiLCBkcmF3TWUueCArIGRyYXdNZS53aWR0aCAvIDIsIGRyYXdNZS55IC0gMTApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKSwgaW50ZXJ2YWxfbXMpOwogICAgfSwKICAgIGNoYXJ0RGF0YTogZnVuY3Rpb24gY2hhcnREYXRhKCkgewogICAgICB2YXIgdGltZXNlcmllcyA9IG5ldyBNYXAoKTsKICAgICAgZnVuY3Rpb24gc2F2ZVRpbWVzdGFtcChtaWxsaXNlY29uZCkgewogICAgICAgIGlmICh0aW1lc2VyaWVzLmhhcyhtaWxsaXNlY29uZCkpIHsKICAgICAgICAgIHRpbWVzZXJpZXMuc2V0KG1pbGxpc2Vjb25kLCB7CiAgICAgICAgICAgICJ4IjogbWlsbGlzZWNvbmQsCiAgICAgICAgICAgICJ5IjogdGltZXNlcmllcy5nZXQobWlsbGlzZWNvbmQpLnkgKyAxCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGltZXNlcmllcy5zZXQobWlsbGlzZWNvbmQsIHsKICAgICAgICAgICAgIngiOiBtaWxsaXNlY29uZCwKICAgICAgICAgICAgInkiOiAxCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIGVzX2RhdGEgPSB0aGlzLmVsYXN0aWNzZWFyY2hfZGF0YTsKICAgICAgZXNfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICAvLyBEZWZpbmUgdGltZXN0YW1wIHdpdGggbWlsbGlzZWNvbmQgcmVzb2x1dGlvbgogICAgICAgIHZhciBtaWxsaXNlY29uZCA9IE1hdGgucm91bmQocmVjb3JkLlRpbWVzdGFtcCk7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRMYWJlbCkgewogICAgICAgICAgLy8gSWYgbGFiZWwgaXMgZGVmaW5lZCwgdGhlbiBlbnVtZXJhdGUgdGltZXN0YW1wcyBmb3IgdGhhdCBsYWJlbAogICAgICAgICAgaWYgKHJlY29yZC5OYW1lID09PSB0aGlzLnNlbGVjdGVkTGFiZWwpIHsKICAgICAgICAgICAgc2F2ZVRpbWVzdGFtcChtaWxsaXNlY29uZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIE5vIGxhYmVsIGhhcyBiZWVuIHNlbGVjdGVkLCBzbyBlbnVtZXJhdGUgdGltZXN0YW1wcyBmb3IgYWxsIGxhYmVsIG5hbWVzLgogICAgICAgICAgc2F2ZVRpbWVzdGFtcChtaWxsaXNlY29uZCk7CiAgICAgICAgfQogICAgICB9LmJpbmQodGhpcykpOwogICAgICAvL3NvcnQgdGhlIHRpbWVzZXJpZXMgbWFwIGJ5IGl0cyBtaWxsaXNlY29uZCBrZXkKICAgICAgdmFyIG9yZGVyZWRfdGltZXNlcmllcyA9IG5ldyBNYXAoX3RvQ29uc3VtYWJsZUFycmF5KHRpbWVzZXJpZXMuZW50cmllcygpKS5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07CiAgICAgIH0pKTsKICAgICAgdmFyIGNoYXJ0VHVwbGVzID0gQXJyYXkuZnJvbShvcmRlcmVkX3RpbWVzZXJpZXMudmFsdWVzKCkpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVRpbWVzZXJpZXMnLCBjaGFydFR1cGxlcyk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlU2VsZWN0ZWRMYWJlbCcsIHRoaXMuc2VsZWN0ZWRMYWJlbCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","Loading","name","components","props","mediaType","type","String","default","data","curlCommand","searchQuery","showElasticsearchApiRequest","Confidence","high_confidence_data","elasticsearch_data","boxes_available","count_distinct_labels","count_labels","isBusy","operator","canvasRefreshInterval","undefined","timeseries","Map","selectedLabel","lowerConfidence","lowerConfidenceMessage","computed","_objectSpread","sorted_unique_labels","es_data","unique_labels","forEach","record","set","Name","get","BoundingBox","saveBoxedLabel","bind","_toConsumableArray","entries","slice","sort","a","b","delete","countLabels","size","length","watch","chartData","deactivated","console","log","clearInterval","canvas","document","getElementById","ctx","getContext","clearRect","width","height","activated","fetchAssetData","mounted","getCurlCommand","beforeDestroy","methods","$route","params","asset_id","AWS_REGION","SEARCH_ENDPOINT","encodeURIComponent","label_name","includes","push","unique_count","total_count","saveFile","blob","Blob","JSON","stringify","e","createEvent","createElement","download","href","window","URL","createObjectURL","dataset","downloadurl","join","initEvent","dispatchEvent","updateConfidence","event","target","value","player","markers","removeAll","updateMarkers","label","strokeStyle","font","textAlign","textBaseline","fillStyle","boxMap","i","Timestamp","boxinfo","toFixed","Left","Top","Width","Height","timestamp","Math","round","ceil","drawBoxes","add","_this","_asyncToGenerator","_regenerator","m","_callee","apiName","path","apiParams","response","result","len","w","_context","n","headers","queryStringParameters","$Amplify","API","v","showElasticSearchAlert","hits","_source","parse","beginPath","drawMe","rect","x","y","fillText","confidence","stroke","interval_ms","erase_on_iteration","setInterval","paused","player_timestamp","currentTime","has","instance_list","map","item","instance","filter","indexOf","boxes","box","saveTimestamp","millisecond","ordered_timeseries","chartTuples","Array","from","values","$store","commit"],"sources":["src/components/Celebrities.vue"],"sourcesContent":["<!--suppress ALL -->\n<template>\n  <b-container fluid>\n    <b-col>\n      <b-row\n        align-h=\"center\"\n        class=\"my-1\"\n      >\n        <div class=\"wrapper\">\n          Confidence Threshold<br>\n          <input\n            type=\"range\"\n            value=\"90\"\n            min=\"55\"\n            max=\"99\"\n            step=\"1\"\n            @click=\"updateConfidence\"\n          >\n          {{ Confidence }}%<br>\n        </div>\n      </b-row>\n      <div v-if=\"lowerConfidence === true\">\n        {{ lowerConfidenceMessage }}\n      </div>\n      <div\n        v-if=\"isBusy\"\n        class=\"wrapper\"\n      >\n        <Loading />\n      </div>\n      <b-row\n        align-h=\"center\"\n        class=\"my-1\"\n      >\n        <div class=\"wrapper\">\n          <br>\n          <template v-for=\"label in sorted_unique_labels\">\n            <template v-if=\"boxes_available.includes(label[0])\">\n              <!-- Show darker button outline if boxes are available for the label -->\n              <b-button\n                v-b-tooltip.hover\n                variant=\"outline-dark\"\n                :title=\"label[1]\"\n                size=\"sm\"\n                pill\n                @click=\"updateMarkers(label[0])\"\n              >\n                {{ label[0]+\"*\" }}\n              </b-button> &nbsp;\n            </template>\n            <template v-else>\n              <b-button\n                v-b-tooltip.hover\n                variant=\"outline-secondary\"\n                :title=\"label[1]\"\n                size=\"sm\"\n                pill\n                @click=\"updateMarkers(label[0])\"\n              >\n                {{ label[0] }}\n              </b-button> &nbsp;\n            </template>\n          </template>\n        </div>\n      </b-row>\n\n      <b-row\n        align-h=\"center\"\n        class=\"my-1\"\n      >\n        <div\n          v-if=\"isBusy === false\"\n          class=\"wrapper\"\n        >\n          <br><p class=\"text-muted\">\n            ({{ count_labels }} identified objects, {{ count_distinct_labels }} unique)\n          </p>\n          <hr>\n          <p class=\"text-muted\">\n            * Indicates bounding boxes are available.\n          </p>\n        </div>\n      </b-row>\n    </b-col>\n    <b-button\n      type=\"button\"\n      @click=\"saveFile()\"\n    >\n      Download Data\n    </b-button>\n    <br>\n    <b-button\n        :pressed=\"false\"\n        size=\"sm\"\n        variant=\"link\"\n        class=\"text-decoration-none\"\n        @click=\"showElasticsearchApiRequest = true\"\n    >\n      Show API request to get these results\n    </b-button>\n    <b-modal\n        v-model=\"showElasticsearchApiRequest\"\n        scrollable\n        title=\"SEARCH API\"\n        ok-only\n    >\n      <label>Request URL:</label>\n      <pre v-highlightjs><code class=\"bash\">GET {{ SEARCH_ENDPOINT }}workflow/execution</code></pre>\n      <label>Search query:</label>\n      <pre v-highlightjs=\"JSON.stringify(searchQuery)\"><code class=\"json\"></code></pre>\n      <label>Sample command:</label>\n      <pre v-highlightjs=\"curlCommand\"><code class=\"bash\"></code></pre>\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  import Loading from '@/components/Loading.vue'\n\n  export default {\n    name: \"Celebrities\",\n    components: {\n      Loading\n    },\n    props: {\n      mediaType: {\n        type: String,\n        default: \"\"\n      },\n    },\n    data() {\n      return {\n        curlCommand: '',\n        searchQuery: '',\n        showElasticsearchApiRequest: false,\n        Confidence: 90,\n        high_confidence_data: [],\n        elasticsearch_data: [],\n        boxes_available: [],\n        count_distinct_labels: 0,\n        count_labels: 0,\n        isBusy: false,\n        operator: 'celebrity_detection',\n        canvasRefreshInterval: undefined,\n        timeseries: new Map(),\n        selectedLabel: '',\n        lowerConfidence: false,\n        lowerConfidenceMessage: 'Try lowering confidence threshold'\n      }\n    },\n    computed: {\n      ...mapState(['player']),\n      sorted_unique_labels() {\n        // This function sorts and counts unique labels for mouse over events on label buttons\n        const es_data = this.elasticsearch_data;\n        const unique_labels = new Map();\n        // sort and count unique labels for label mouse over events\n        es_data.forEach(function (record) {\n          unique_labels.set(record.Name, unique_labels.get(record.Name) ? unique_labels.get(record.Name) + 1 : 1);\n          if (record.BoundingBox) {\n            // Save this label name to a list of labels that have bounding boxes\n            this.saveBoxedLabel(record.Name)\n          }\n        }.bind(this));\n        const sorted_unique_labels = new Map([...unique_labels.entries()].slice().sort((a, b) => b[1] - a[1]));\n        // If Elasticsearch returned undefined labels then delete them:\n        sorted_unique_labels.delete(undefined);\n        this.countLabels(sorted_unique_labels.size, es_data.length);\n        return sorted_unique_labels\n      }\n    },\n    watch: {\n      // These watches update the line chart\n      selectedLabel: function() {\n        this.chartData();\n      },\n      elasticsearch_data: function() {\n        this.chartData();\n      },\n    },\n    deactivated: function () {\n      console.log('deactivated component:', this.operator);\n      this.boxes_available = [];\n      this.selectedLabel = '';\n      clearInterval(this.canvasRefreshInterval);\n      const canvas = document.getElementById('canvas');\n      if (canvas) var ctx = canvas.getContext('2d');\n      if (ctx) ctx.clearRect(0, 0, canvas.width, canvas.height);\n    },\n    activated: function () {\n      console.log('activated component:', this.operator);\n      this.fetchAssetData();\n    },\n    mounted: function() {\n      this.getCurlCommand();\n    },\n    beforeDestroy: function () {\n      this.high_confidence_data = [];\n      this.elasticsearch_data = [];\n      this.count_distinct_labels = 0;\n      this.count_labels = 0;\n      clearInterval(this.canvasRefreshInterval);\n    },\n    methods: {\n      getCurlCommand() {\n        this.searchQuery = 'AssetId:'+this.$route.params.asset_id+' Confidence:>'+this.Confidence+' Operator:'+this.operator;\n        // get curl command to search elasticsearch\n        this.curlCommand = 'awscurl -X GET --profile default --service es --region ' + this.AWS_REGION + ' \\'' + this.SEARCH_ENDPOINT + '/_search?q=' + encodeURIComponent(this.searchQuery) + '\\''\n      },\n      saveBoxedLabel(label_name){\n        if (!this.boxes_available.includes(label_name)) {\n          this.boxes_available.push(label_name);\n        }\n      },\n      countLabels(unique_count, total_count) {\n        this.count_distinct_labels = unique_count;\n        this.count_labels = total_count;\n      },\n      saveFile() {\n        const elasticsearch_data = this.elasticsearch_data;\n        const blob = new Blob([JSON.stringify(elasticsearch_data)], {type: 'text/plain'});\n        const e = document.createEvent('MouseEvents'),\n          a = document.createElement('a');\n        a.download = \"data.json\";\n        a.href = window.URL.createObjectURL(blob);\n        a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n        e.initEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        a.dispatchEvent(e);\n      },\n      updateConfidence (event) {\n        this.isBusy = !this.isBusy;\n        this.Confidence = event.target.value;\n        // TODO: move image processing to a separate component\n        if (this.mediaType === \"video\") {\n          // redraw markers on video timeline\n          this.player.markers.removeAll();\n        }\n        this.getCurlCommand();\n        this.fetchAssetData();\n      },\n      // updateMarkers updates markers in the video player and is called when someone clicks on a label button\n      updateMarkers (label) {\n        // clear canvas for redrawing\n        this.boxes_available = [];\n        clearInterval(this.canvasRefreshInterval);\n        var canvas = document.getElementById('canvas');\n        var ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.strokeStyle = \"red\";\n        ctx.font = \"15px Arial\";\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillStyle = \"red\";\n        if (this.selectedLabel === label) {\n          // keep the canvas clear canvas if user clicked the label button a second consecutive time\n          this.selectedLabel = \"\";\n          return\n        }\n        this.selectedLabel = label;        // initialize lists of boxes and markers to be drawn\n        var boxMap = new Map();\n        var markers = [];\n        var es_data = this.elasticsearch_data;\n        var i=0;\n        es_data.forEach( function(record) {\n          if (record.Name === label) {\n            // Save label name overlaying on video timeline\n            markers.push({'time': record.Timestamp/1000, 'text': record.Name, 'overlayText': record.Name});\n            // Save bounding box info if it exists\n            if (record.BoundingBox) {\n              // TODO: move image processing to a separate component\n              if (this.mediaType === \"image\") {\n                const boxinfo = {\n                  'instance': i,\n                  'name': record.Name,\n                  'confidence': (record.Confidence * 1).toFixed(2),\n                  'x': record.BoundingBox.Left * canvas.width,\n                  'y': record.BoundingBox.Top * canvas.height,\n                  'width': record.BoundingBox.Width * canvas.width,\n                  'height': record.BoundingBox.Height * canvas.height\n                };\n                boxMap.set(i++, [boxinfo])\n              } else {\n                // Use time resolution of 0.1 second\n                const timestamp = Math.round(record.Timestamp / 100);\n                const boxinfo = {\n                  'instance': 0,\n                  'timestamp': Math.ceil(record.Timestamp / 100),\n                  'name': record.Name,\n                  'confidence': (record.Confidence * 1).toFixed(2),\n                  'x': record.BoundingBox.Left * canvas.width,\n                  'y': record.BoundingBox.Top * canvas.height,\n                  'width': record.BoundingBox.Width * canvas.width,\n                  'height': record.BoundingBox.Height * canvas.height\n                };\n                boxMap.set(timestamp, [boxinfo])\n              }\n            }\n          }\n        }.bind(this));\n        if (boxMap.size > 0) {\n          this.drawBoxes(boxMap);\n        }\n        // TODO: move image processing to a separate component\n        if (this.mediaType === \"video\") {\n          // redraw markers on video timeline\n          this.player.markers.removeAll();\n          this.player.markers.add(markers);\n        }\n      },\n      async fetchAssetData () {\n        let apiName = 'contentAnalysisElasticsearch';\n        let path = '/_search';\n        let apiParams = {\n          headers: {'Content-Type': 'application/json'},\n          queryStringParameters: {'q': this.searchQuery, 'default_operator': 'AND', 'size': 10000}\n        };\n        let response = await this.$Amplify.API.get(apiName, path, apiParams);\n        if (!response) {\n          this.showElasticSearchAlert = true\n        }\n        else {\n          let es_data = [];\n          let result = await response;\n          let data = result.hits.hits;\n          if (data.length === 0 && this.Confidence > 55) {\n            this.lowerConfidence = true;\n            this.lowerConfidenceMessage = 'Try lowering confidence threshold'\n          }\n          else {\n            this.lowerConfidence = false;\n            for (var i = 0, len = data.length; i < len; i++) {\n              es_data.push(data[i]._source)\n            }\n          }\n          this.elasticsearch_data = JSON.parse(JSON.stringify(es_data));\n          this.isBusy = false\n        }\n      },\n      drawBoxes: function(boxMap) {\n        var canvas = document.getElementById('canvas');\n        var ctx = canvas.getContext('2d');\n        // TODO: move image processing to a separate component\n        if (this.mediaType === \"image\") {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.beginPath();\n          ctx.strokeStyle = \"red\";\n          ctx.font = \"15px Arial\";\n          ctx.textAlign = \"center\";\n          ctx.textBaseline = \"middle\";\n          ctx.fillStyle = \"red\";\n          // For each box instance...\n          boxMap.forEach( i => {\n            var drawMe = i[0];\n            if (drawMe) {\n              ctx.rect(drawMe.x, drawMe.y, drawMe.width, drawMe.height);\n              // Draw object name and confidence score\n              ctx.fillText(drawMe.name + \" (\" + drawMe.confidence + \"%)\", (drawMe.x + drawMe.width / 2), drawMe.y - 10);\n              ctx.stroke();\n            }\n          });\n          // now return so we avoid rendering any of the video related components below\n          return\n        }\n        // If user just clicked a new label...\n        if (this.canvasRefreshInterval !== undefined) {\n          // ...then reset the old canvas refresh interval.\n          clearInterval(this.canvasRefreshInterval)\n        }\n        // Look for and draw bounding boxes every 100ms\n        const interval_ms = 100;\n        const erase_on_iteration = 2;\n        var i = 0;\n        this.canvasRefreshInterval = setInterval(function () {\n          i++;\n          // erase old bounding boxes\n          if (!this.player.paused() && i % erase_on_iteration === 0) {\n            i=0;\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.beginPath();\n            ctx.strokeStyle = \"red\";\n            ctx.font = \"15px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.fillStyle = \"red\";\n          }\n          // Get current player timestamp to the nearest 1/10th second\n          var player_timestamp = Math.round(this.player.currentTime()*10.0);\n          // If we have a box for the player's timestamp...\n          if (boxMap.has(player_timestamp)) {\n            i=0;\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.beginPath();\n            ctx.strokeStyle = \"red\";\n            ctx.font = \"15px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.fillStyle = \"red\";\n            // ...then get a list of box instances\n            var instance_list = (boxMap.get(player_timestamp)).map( item => item.instance).filter((v, i, a) => a.indexOf(v) === i);\n            // For each box instance...\n            instance_list.forEach( i => {\n              // ...get all of the boxes belonging to this instance\n              // at the current timestamp.\n              var boxes = boxMap.get(player_timestamp).filter(box => box.instance === i);\n              boxes.forEach (drawMe => {\n                if (drawMe) {\n                  ctx.rect(drawMe.x, drawMe.y, drawMe.width, drawMe.height);\n                  // Draw object name and confidence score\n                  ctx.fillText(drawMe.name + \" (\" + drawMe.confidence + \"%)\", (drawMe.x + drawMe.width / 2), drawMe.y - 10);\n                }\n              })\n            });\n            ctx.stroke();\n          }\n        }.bind(this), interval_ms);\n      },\n      chartData() {\n        let timeseries = new Map();\n        function saveTimestamp (millisecond) {\n          if (timeseries.has(millisecond)) {\n            timeseries.set(millisecond, {\"x\": millisecond, \"y\": timeseries.get(millisecond).y + 1})\n          } else {\n            timeseries.set(millisecond, {\"x\": millisecond, \"y\":1})\n          }\n        }\n        var es_data = this.elasticsearch_data;\n        es_data.forEach( function(record) {\n          // Define timestamp with millisecond resolution\n          const millisecond = Math.round(record.Timestamp);\n          if (this.selectedLabel) {\n            // If label is defined, then enumerate timestamps for that label\n            if (record.Name === this.selectedLabel) {\n              saveTimestamp(millisecond);\n            }\n          } else {\n            // No label has been selected, so enumerate timestamps for all label names.\n            saveTimestamp(millisecond);\n          }\n        }.bind(this));\n        //sort the timeseries map by its millisecond key\n        const ordered_timeseries = new Map([...timeseries.entries()].slice().sort((a, b) => a[0] - b[0]));\n        const chartTuples = Array.from(ordered_timeseries.values());\n        this.$store.commit('updateTimeseries', chartTuples);\n        this.$store.commit('updateSelectedLabel', this.selectedLabel);\n      },\n    }\n  }\n</script>\n"],"mappings":"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","ignoreList":[]}]}