{"remainingRequest":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/FaceDetection.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/FaceDetection.vue","mtime":1759685740382},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/babel.config.js","mtime":1759685740381},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1759686089126},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js","mtime":1759686089251},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js","mtime":1759686084280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcmV5bmFsZG8vRG9jdW1lbnRzL0FXUy9NYWNoaW5lTGVhcm5pbmcvUmVrb2duaXRpb24vY29udGVudC1hbmFseXNpcy1vbi1hd3Mvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3JleW5hbGRvL0RvY3VtZW50cy9BV1MvTWFjaGluZUxlYXJuaW5nL1Jla29nbml0aW9uL2NvbnRlbnQtYW5hbHlzaXMtb24tYXdzL3NvdXJjZS93ZWJzaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3JleW5hbGRvL0RvY3VtZW50cy9BV1MvTWFjaGluZUxlYXJuaW5nL1Jla29nbml0aW9uL2NvbnRlbnQtYW5hbHlzaXMtb24tYXdzL3NvdXJjZS93ZWJzaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZSc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRmFjZURldGVjdGlvbiIsCiAgY29tcG9uZW50czogewogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgcHJvcHM6IHsKICAgIG1lZGlhVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VybENvbW1hbmQ6ICcnLAogICAgICBzZWFyY2hRdWVyeTogJycsCiAgICAgIHNob3dFbGFzdGljc2VhcmNoQXBpUmVxdWVzdDogZmFsc2UsCiAgICAgIENvbmZpZGVuY2U6IDkwLAogICAgICBoaWdoX2NvbmZpZGVuY2VfZGF0YTogW10sCiAgICAgIGVsYXN0aWNzZWFyY2hfZGF0YTogW10sCiAgICAgIGNvdW50X2Rpc3RpbmN0X2xhYmVsczogMCwKICAgICAgY291bnRfbGFiZWxzOiAwLAogICAgICBpc0J1c3k6IGZhbHNlLAogICAgICBvcGVyYXRvcjogJ2ZhY2VfZGV0ZWN0aW9uJywKICAgICAgY2FudmFzUmVmcmVzaEludGVydmFsOiB1bmRlZmluZWQsCiAgICAgIHRpbWVzZXJpZXM6IG5ldyBNYXAoKSwKICAgICAgc2VsZWN0ZWRMYWJlbDogJycsCiAgICAgIGJveGVzX2F2YWlsYWJsZTogW10sCiAgICAgIGxvd2VyQ29uZmlkZW5jZTogZmFsc2UsCiAgICAgIGxvd2VyQ29uZmlkZW5jZU1lc3NhZ2U6ICdUcnkgbG93ZXJpbmcgY29uZmlkZW5jZSB0aHJlc2hvbGQnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydwbGF5ZXInXSkpLCB7fSwgewogICAgc29ydGVkX3VuaXF1ZV9sYWJlbHM6IGZ1bmN0aW9uIHNvcnRlZF91bmlxdWVfbGFiZWxzKCkgewogICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNvcnRzIGFuZCBjb3VudHMgdW5pcXVlIGxhYmVscyBmb3IgbW91c2Ugb3ZlciBldmVudHMgb24gbGFiZWwgYnV0dG9ucwogICAgICB2YXIgZXNfZGF0YSA9IHRoaXMuZWxhc3RpY3NlYXJjaF9kYXRhOwogICAgICB2YXIgdW5pcXVlX2xhYmVscyA9IG5ldyBNYXAoKTsKICAgICAgLy8gc29ydCBhbmQgY291bnQgdW5pcXVlIGxhYmVscyBmb3IgbGFiZWwgbW91c2Ugb3ZlciBldmVudHMKICAgICAgZXNfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICB1bmlxdWVfbGFiZWxzLnNldChyZWNvcmQuTmFtZSwgdW5pcXVlX2xhYmVscy5nZXQocmVjb3JkLk5hbWUpID8gdW5pcXVlX2xhYmVscy5nZXQocmVjb3JkLk5hbWUpICsgMSA6IDEpOwogICAgICAgIGlmIChyZWNvcmQuQm91bmRpbmdCb3gpIHsKICAgICAgICAgIC8vIFNhdmUgdGhpcyBsYWJlbCBuYW1lIHRvIGEgbGlzdCBvZiBsYWJlbHMgdGhhdCBoYXZlIGJvdW5kaW5nIGJveGVzCiAgICAgICAgICB0aGlzLnNhdmVCb3hlZExhYmVsKHJlY29yZC5OYW1lKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIHZhciBzb3J0ZWRfdW5pcXVlX2xhYmVscyA9IG5ldyBNYXAoX3RvQ29uc3VtYWJsZUFycmF5KHVuaXF1ZV9sYWJlbHMuZW50cmllcygpKS5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYlsxXSAtIGFbMV07CiAgICAgIH0pKTsKICAgICAgLy8gSWYgRWxhc3RpY3NlYXJjaCByZXR1cm5lZCB1bmRlZmluZWQgbGFiZWxzIHRoZW4gZGVsZXRlIHRoZW06CiAgICAgIHNvcnRlZF91bmlxdWVfbGFiZWxzLmRlbGV0ZSh1bmRlZmluZWQpOwogICAgICB0aGlzLmNvdW50TGFiZWxzKHNvcnRlZF91bmlxdWVfbGFiZWxzLnNpemUsIGVzX2RhdGEubGVuZ3RoKTsKICAgICAgcmV0dXJuIHNvcnRlZF91bmlxdWVfbGFiZWxzOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICAvLyBUaGVzZSB3YXRjaGVzIHVwZGF0ZSB0aGUgbGluZSBjaGFydAogICAgc2VsZWN0ZWRMYWJlbDogZnVuY3Rpb24gc2VsZWN0ZWRMYWJlbCgpIHsKICAgICAgdGhpcy5jaGFydERhdGEoKTsKICAgIH0sCiAgICBlbGFzdGljc2VhcmNoX2RhdGE6IGZ1bmN0aW9uIGVsYXN0aWNzZWFyY2hfZGF0YSgpIHsKICAgICAgdGhpcy5jaGFydERhdGEoKTsKICAgIH0KICB9LAogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogICAgdGhpcy5ib3hlc19hdmFpbGFibGUgPSBbXTsKICAgIHRoaXMuc2VsZWN0ZWRMYWJlbCA9ICcnOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNhbnZhc1JlZnJlc2hJbnRlcnZhbCk7CiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpOwogICAgdmFyIGN0eDsKICAgIGlmIChjYW52YXMpIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgaWYgKGN0eCkgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogIH0sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnYWN0aXZhdGVkIGNvbXBvbmVudDonLCB0aGlzLm9wZXJhdG9yKTsKICAgIHRoaXMuZmV0Y2hBc3NldERhdGEoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEN1cmxDb21tYW5kKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5oaWdoX2NvbmZpZGVuY2VfZGF0YSA9IFtdOwogICAgdGhpcy5lbGFzdGljc2VhcmNoX2RhdGEgPSBbXTsKICAgIHRoaXMuY291bnRfZGlzdGluY3RfbGFiZWxzID0gMDsKICAgIHRoaXMuY291bnRfbGFiZWxzID0gMDsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEN1cmxDb21tYW5kOiBmdW5jdGlvbiBnZXRDdXJsQ29tbWFuZCgpIHsKICAgICAgdGhpcy5zZWFyY2hRdWVyeSA9ICdBc3NldElkOicgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuYXNzZXRfaWQgKyAnIENvbmZpZGVuY2U6PicgKyB0aGlzLkNvbmZpZGVuY2UgKyAnIE9wZXJhdG9yOicgKyB0aGlzLm9wZXJhdG9yOwogICAgICAvLyBnZXQgY3VybCBjb21tYW5kIHRvIHNlYXJjaCBlbGFzdGljc2VhcmNoCiAgICAgIHRoaXMuY3VybENvbW1hbmQgPSAnYXdzY3VybCAtWCBHRVQgLS1wcm9maWxlIGRlZmF1bHQgLS1zZXJ2aWNlIGVzIC0tcmVnaW9uICcgKyB0aGlzLkFXU19SRUdJT04gKyAnIFwnJyArIHRoaXMuU0VBUkNIX0VORFBPSU5UICsgJy9fc2VhcmNoP3E9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnNlYXJjaFF1ZXJ5KSArICdcJyc7CiAgICB9LAogICAgZmV0Y2hBc3NldERhdGE6IGZ1bmN0aW9uIGZldGNoQXNzZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zLCByZXNwb25zZSwgcmVzdWx0LCBkYXRhLCBlc19kYXRhLCBpLCBsZW4sIGl0ZW0sIGVtb3Rpb24sIGVtb3Rpb25zTGVuOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYXBpTmFtZSA9ICdjb250ZW50QW5hbHlzaXNFbGFzdGljc2VhcmNoJzsKICAgICAgICAgICAgICBwYXRoID0gJy9fc2VhcmNoJzsKICAgICAgICAgICAgICBhcGlQYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZ1BhcmFtZXRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ3EnOiBfdGhpcy5zZWFyY2hRdWVyeSwKICAgICAgICAgICAgICAgICAgJ2RlZmF1bHRfb3BlcmF0b3InOiAnQU5EJywKICAgICAgICAgICAgICAgICAgJ3NpemUnOiAxMDAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDE7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBbXBsaWZ5LkFQSS5nZXQoYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zKTsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF90aGlzLnNob3dFbGFzdGljU2VhcmNoQWxlcnQgPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBkYXRhID0gcmVzdWx0LmhpdHMuaGl0czsKICAgICAgICAgICAgICBlc19kYXRhID0gW107CiAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwICYmIF90aGlzLkNvbmZpZGVuY2UgPiA1NSkgewogICAgICAgICAgICAgICAgX3RoaXMubG93ZXJDb25maWRlbmNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLmxvd2VyQ29uZmlkZW5jZU1lc3NhZ2UgPSAnVHJ5IGxvd2VyaW5nIGNvbmZpZGVuY2UgdGhyZXNob2xkJzsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMubG93ZXJDb25maWRlbmNlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0gPSBkYXRhW2ldLl9zb3VyY2U7CiAgICAgICAgICAgICAgICAgIGlmICgiRW1vdGlvbnMiIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGVtb3Rpb24gPSAwLCBlbW90aW9uc0xlbiA9IGl0ZW0uRW1vdGlvbnMubGVuZ3RoOyBlbW90aW9uIDwgZW1vdGlvbnNMZW47IGVtb3Rpb24rKykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uRW1vdGlvbnNbZW1vdGlvbl0uQ29uZmlkZW5jZSA+PSBfdGhpcy5Db25maWRlbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVzX2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiBpdGVtLkVtb3Rpb25zW2Vtb3Rpb25dLlR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIlRpbWVzdGFtcCI6IGl0ZW0uVGltZXN0YW1wCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBpZiAoIkJlYXJkIiBpbiBpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uQmVhcmQuQ29uZmlkZW5jZSA+IF90aGlzLkNvbmZpZGVuY2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGVzX2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICJOYW1lIjogIkJlYXJkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRpbWVzdGFtcCI6IGl0ZW0uVGltZXN0YW1wCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaWYgKCJFeWVnbGFzc2VzIiBpbiBpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uRXllZ2xhc3Nlcy5Db25maWRlbmNlID4gX3RoaXMuQ29uZmlkZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgZXNfZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiAiRXllZ2xhc3NlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUaW1lc3RhbXAiOiBpdGVtLlRpbWVzdGFtcAogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmICgiRXllc09wZW4iIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5FeWVzT3Blbi5Db25maWRlbmNlID4gX3RoaXMuQ29uZmlkZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgZXNfZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiAiRXllc09wZW4iLAogICAgICAgICAgICAgICAgICAgICAgICAiVGltZXN0YW1wIjogaXRlbS5UaW1lc3RhbXAKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBpZiAoIk1vdXRoT3BlbiIgaW4gaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLk1vdXRoT3Blbi5Db25maWRlbmNlID4gX3RoaXMuQ29uZmlkZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgZXNfZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiAiTW91dGhPcGVuIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRpbWVzdGFtcCI6IGl0ZW0uVGltZXN0YW1wCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaWYgKCJNdXN0YWNoZSIgaW4gaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLk11c3RhY2hlLkNvbmZpZGVuY2UgPiBfdGhpcy5Db25maWRlbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICBlc19kYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6ICJNdXN0YWNoZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUaW1lc3RhbXAiOiBpdGVtLlRpbWVzdGFtcAogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmICgiU21pbGUiIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5TbWlsZS5Db25maWRlbmNlID4gX3RoaXMuQ29uZmlkZW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgZXNfZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiAiU21pbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAiVGltZXN0YW1wIjogaXRlbS5UaW1lc3RhbXAKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBpZiAoIlN1bmdsYXNzZXMiIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5TdW5nbGFzc2VzLkNvbmZpZGVuY2UgPiBfdGhpcy5Db25maWRlbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICBlc19kYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6ICJTdW5nbGFzc2VzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRpbWVzdGFtcCI6IGl0ZW0uVGltZXN0YW1wCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaWYgKCJHZW5kZXIiIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBlc19kYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiBpdGVtLkdlbmRlci5WYWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICJUaW1lc3RhbXAiOiBpdGVtLlRpbWVzdGFtcAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmICgiQm91bmRpbmdCb3giIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBlc19kYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgIk5hbWUiOiAiRmFjZSIsCiAgICAgICAgICAgICAgICAgICAgICAiVGltZXN0YW1wIjogaXRlbS5UaW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgICAiQ29uZmlkZW5jZSI6IGl0ZW0uQ29uZmlkZW5jZSwKICAgICAgICAgICAgICAgICAgICAgICJCb3VuZGluZ0JveCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIldpZHRoIjogaXRlbS5Cb3VuZGluZ0JveC5XaWR0aCwKICAgICAgICAgICAgICAgICAgICAgICAgIkhlaWdodCI6IGl0ZW0uQm91bmRpbmdCb3guSGVpZ2h0LAogICAgICAgICAgICAgICAgICAgICAgICAiTGVmdCI6IGl0ZW0uQm91bmRpbmdCb3guTGVmdCwKICAgICAgICAgICAgICAgICAgICAgICAgIlRvcCI6IGl0ZW0uQm91bmRpbmdCb3guVG9wCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMuZWxhc3RpY3NlYXJjaF9kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlc19kYXRhKSk7CiAgICAgICAgICAgICAgX3RoaXMuaXNCdXN5ID0gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZUJveGVkTGFiZWw6IGZ1bmN0aW9uIHNhdmVCb3hlZExhYmVsKGxhYmVsX25hbWUpIHsKICAgICAgaWYgKCF0aGlzLmJveGVzX2F2YWlsYWJsZS5pbmNsdWRlcyhsYWJlbF9uYW1lKSkgewogICAgICAgIHRoaXMuYm94ZXNfYXZhaWxhYmxlLnB1c2gobGFiZWxfbmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICBjb3VudExhYmVsczogZnVuY3Rpb24gY291bnRMYWJlbHModW5pcXVlX2NvdW50LCB0b3RhbF9jb3VudCkgewogICAgICB0aGlzLmNvdW50X2Rpc3RpbmN0X2xhYmVscyA9IHVuaXF1ZV9jb3VudDsKICAgICAgdGhpcy5jb3VudF9sYWJlbHMgPSB0b3RhbF9jb3VudDsKICAgIH0sCiAgICBzYXZlRmlsZTogZnVuY3Rpb24gc2F2ZUZpbGUoKSB7CiAgICAgIHZhciBlbGFzdGljc2VhcmNoX2RhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmVsYXN0aWNzZWFyY2hfZGF0YSk7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2VsYXN0aWNzZWFyY2hfZGF0YV0sIHsKICAgICAgICB0eXBlOiAndGV4dC9wbGFpbicKICAgICAgfSk7CiAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyksCiAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgYS5kb3dubG9hZCA9ICJkYXRhLmpzb24iOwogICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgYS5kYXRhc2V0LmRvd25sb2FkdXJsID0gWyd0ZXh0L2pzb24nLCBhLmRvd25sb2FkLCBhLmhyZWZdLmpvaW4oJzonKTsKICAgICAgZS5pbml0RXZlbnQoJ2NsaWNrJywgdHJ1ZSwgZmFsc2UsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpOwogICAgICBhLmRpc3BhdGNoRXZlbnQoZSk7CiAgICB9LAogICAgdXBkYXRlQ29uZmlkZW5jZTogZnVuY3Rpb24gdXBkYXRlQ29uZmlkZW5jZShldmVudCkgewogICAgICB0aGlzLmlzQnVzeSA9IHRydWU7CiAgICAgIHRoaXMuQ29uZmlkZW5jZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgaWYgKHRoaXMubWVkaWFUeXBlID09PSAidmlkZW8iKSB7CiAgICAgICAgLy8gcmVkcmF3IG1hcmtlcnMgb24gdmlkZW8gdGltZWxpbmUKICAgICAgICB0aGlzLnBsYXllci5tYXJrZXJzLnJlbW92ZUFsbCgpOwogICAgICB9CiAgICAgIHRoaXMuZ2V0Q3VybENvbW1hbmQoKTsKICAgICAgdGhpcy5mZXRjaEFzc2V0RGF0YSgpOwogICAgfSwKICAgIC8vIHVwZGF0ZU1hcmtlcnMgdXBkYXRlcyBtYXJrZXJzIGluIHRoZSB2aWRlbyBwbGF5ZXIgYW5kIGlzIGNhbGxlZCB3aGVuIHNvbWVvbmUgY2xpY2tzIG9uIGEgbGFiZWwgYnV0dG9uCiAgICB1cGRhdGVNYXJrZXJzOiBmdW5jdGlvbiB1cGRhdGVNYXJrZXJzKGxhYmVsKSB7CiAgICAgIC8vIGNsZWFyIGNhbnZhcyBmb3IgcmVkcmF3aW5nCiAgICAgIHRoaXMuYm94ZXNfYXZhaWxhYmxlID0gW107CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jYW52YXNSZWZyZXNoSW50ZXJ2YWwpOwogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gInJlZCI7CiAgICAgIGN0eC5mb250ID0gIjE1cHggQXJpYWwiOwogICAgICBjdHgudGV4dEFsaWduID0gImNlbnRlciI7CiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAibWlkZGxlIjsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICJyZWQiOwogICAgICBpZiAodGhpcy5zZWxlY3RlZExhYmVsID09PSBsYWJlbCkgewogICAgICAgIC8vIGtlZXAgdGhlIGNhbnZhcyBjbGVhciBjYW52YXMgaWYgdXNlciBjbGlja2VkIHRoZSBsYWJlbCBidXR0b24gYSBzZWNvbmQgY29uc2VjdXRpdmUgdGltZQogICAgICAgIHRoaXMuc2VsZWN0ZWRMYWJlbCA9ICIiOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnNlbGVjdGVkTGFiZWwgPSBsYWJlbDsKICAgICAgLy8gaW5pdGlhbGl6ZSBsaXN0cyBvZiBib3hlcyBhbmQgbWFya2VycyB0byBiZSBkcmF3bgogICAgICB2YXIgYm94TWFwID0gbmV3IE1hcCgpOwogICAgICB2YXIgbWFya2VycyA9IFtdOwogICAgICB2YXIgZXNfZGF0YSA9IHRoaXMuZWxhc3RpY3NlYXJjaF9kYXRhOwogICAgICB2YXIgaW5zdGFuY2UgPSAwOwogICAgICB2YXIgaSA9IDA7CiAgICAgIGVzX2RhdGEuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgaWYgKHJlY29yZC5OYW1lID09PSBsYWJlbCkgewogICAgICAgICAgbWFya2Vycy5wdXNoKHsKICAgICAgICAgICAgJ3RpbWUnOiByZWNvcmQuVGltZXN0YW1wIC8gMTAwMCwKICAgICAgICAgICAgJ3RleHQnOiByZWNvcmQuTmFtZSwKICAgICAgICAgICAgJ292ZXJsYXlUZXh0JzogcmVjb3JkLk5hbWUKICAgICAgICAgIH0pOwogICAgICAgICAgLy8gU2F2ZSBib3VuZGluZyBib3ggaW5mbyBpZiBpdCBleGlzdHMKICAgICAgICAgIGlmIChyZWNvcmQuQm91bmRpbmdCb3gpIHsKICAgICAgICAgICAgLy8gVE9ETzogbW92ZSBpbWFnZSBwcm9jZXNzaW5nIHRvIGEgc2VwYXJhdGUgY29tcG9uZW50CiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhVHlwZSA9PT0gImltYWdlIikgewogICAgICAgICAgICAgIHZhciBib3hpbmZvID0gewogICAgICAgICAgICAgICAgJ2luc3RhbmNlJzogaSwKICAgICAgICAgICAgICAgICduYW1lJzogcmVjb3JkLk5hbWUsCiAgICAgICAgICAgICAgICAnY29uZmlkZW5jZSc6IChyZWNvcmQuQ29uZmlkZW5jZSAqIDEpLnRvRml4ZWQoMiksCiAgICAgICAgICAgICAgICAneCc6IHJlY29yZC5Cb3VuZGluZ0JveC5MZWZ0ICogY2FudmFzLndpZHRoLAogICAgICAgICAgICAgICAgJ3knOiByZWNvcmQuQm91bmRpbmdCb3guVG9wICogY2FudmFzLmhlaWdodCwKICAgICAgICAgICAgICAgICd3aWR0aCc6IHJlY29yZC5Cb3VuZGluZ0JveC5XaWR0aCAqIGNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICAgICdoZWlnaHQnOiByZWNvcmQuQm91bmRpbmdCb3guSGVpZ2h0ICogY2FudmFzLmhlaWdodAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgYm94TWFwLnNldChpKyssIFtib3hpbmZvXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gVXNlIHRpbWUgcmVzb2x1dGlvbiBvZiAwLjEgc2Vjb25kCiAgICAgICAgICAgICAgdmFyIHRpbWVzdGFtcCA9IE1hdGgucm91bmQocmVjb3JkLlRpbWVzdGFtcCAvIDEwMCk7CiAgICAgICAgICAgICAgaWYgKGJveE1hcC5oYXModGltZXN0YW1wKSkgewogICAgICAgICAgICAgICAgdmFyIF9ib3hpbmZvID0gewogICAgICAgICAgICAgICAgICAnaW5zdGFuY2UnOiBpbnN0YW5jZSsrLAogICAgICAgICAgICAgICAgICAndGltZXN0YW1wJzogTWF0aC5jZWlsKHJlY29yZC5UaW1lc3RhbXAgLyAxMDApLAogICAgICAgICAgICAgICAgICAnbmFtZSc6IHJlY29yZC5OYW1lLAogICAgICAgICAgICAgICAgICAnY29uZmlkZW5jZSc6IChyZWNvcmQuQ29uZmlkZW5jZSAqIDEpLnRvRml4ZWQoMiksCiAgICAgICAgICAgICAgICAgICd4JzogcmVjb3JkLkJvdW5kaW5nQm94LkxlZnQgKiBjYW52YXMud2lkdGgsCiAgICAgICAgICAgICAgICAgICd5JzogcmVjb3JkLkJvdW5kaW5nQm94LlRvcCAqIGNhbnZhcy5oZWlnaHQsCiAgICAgICAgICAgICAgICAgICd3aWR0aCc6IHJlY29yZC5Cb3VuZGluZ0JveC5XaWR0aCAqIGNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6IHJlY29yZC5Cb3VuZGluZ0JveC5IZWlnaHQgKiBjYW52YXMuaGVpZ2h0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgYm94TWFwLmdldCh0aW1lc3RhbXApLnB1c2goX2JveGluZm8pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IDA7CiAgICAgICAgICAgICAgICB2YXIgX2JveGluZm8yID0gewogICAgICAgICAgICAgICAgICAnaW5zdGFuY2UnOiBpbnN0YW5jZSsrLAogICAgICAgICAgICAgICAgICAndGltZXN0YW1wJzogTWF0aC5jZWlsKHJlY29yZC5UaW1lc3RhbXAgLyAxMDApLAogICAgICAgICAgICAgICAgICAnbmFtZSc6IHJlY29yZC5OYW1lLAogICAgICAgICAgICAgICAgICAnY29uZmlkZW5jZSc6IChyZWNvcmQuQ29uZmlkZW5jZSAqIDEpLnRvRml4ZWQoMiksCiAgICAgICAgICAgICAgICAgICd4JzogcmVjb3JkLkJvdW5kaW5nQm94LkxlZnQgKiBjYW52YXMud2lkdGgsCiAgICAgICAgICAgICAgICAgICd5JzogcmVjb3JkLkJvdW5kaW5nQm94LlRvcCAqIGNhbnZhcy5oZWlnaHQsCiAgICAgICAgICAgICAgICAgICd3aWR0aCc6IHJlY29yZC5Cb3VuZGluZ0JveC5XaWR0aCAqIGNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6IHJlY29yZC5Cb3VuZGluZ0JveC5IZWlnaHQgKiBjYW52YXMuaGVpZ2h0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgYm94TWFwLnNldCh0aW1lc3RhbXAsIFtfYm94aW5mbzJdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIGlmIChib3hNYXAuc2l6ZSA+IDApIHsKICAgICAgICB0aGlzLmRyYXdCb3hlcyhib3hNYXApOwogICAgICB9CiAgICAgIC8vIFRPRE86IG1vdmUgaW1hZ2UgcHJvY2Vzc2luZyB0byBhIHNlcGFyYXRlIGNvbXBvbmVudAogICAgICBpZiAodGhpcy5tZWRpYVR5cGUgPT09ICJ2aWRlbyIpIHsKICAgICAgICAvLyByZWRyYXcgbWFya2VycyBvbiB2aWRlbyB0aW1lbGluZQogICAgICAgIHRoaXMucGxheWVyLm1hcmtlcnMucmVtb3ZlQWxsKCk7CiAgICAgICAgdGhpcy5wbGF5ZXIubWFya2Vycy5hZGQobWFya2Vycyk7CiAgICAgIH0KICAgIH0sCiAgICBkcmF3Qm94ZXM6IGZ1bmN0aW9uIGRyYXdCb3hlcyhib3hNYXApIHsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAvLyBUT0RPOiBtb3ZlIGltYWdlIHByb2Nlc3NpbmcgdG8gYSBzZXBhcmF0ZSBjb21wb25lbnQKICAgICAgaWYgKHRoaXMubWVkaWFUeXBlID09PSAiaW1hZ2UiKSB7CiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmVkIjsKICAgICAgICBjdHguZm9udCA9ICIxNXB4IEFyaWFsIjsKICAgICAgICBjdHgudGV4dEFsaWduID0gImNlbnRlciI7CiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICJtaWRkbGUiOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSAicmVkIjsKICAgICAgICAvLyBGb3IgZWFjaCBib3ggaW5zdGFuY2UuLi4KICAgICAgICBib3hNYXAuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgdmFyIGRyYXdNZSA9IGlbMF07CiAgICAgICAgICBpZiAoZHJhd01lKSB7CiAgICAgICAgICAgIGN0eC5yZWN0KGRyYXdNZS54LCBkcmF3TWUueSwgZHJhd01lLndpZHRoLCBkcmF3TWUuaGVpZ2h0KTsKICAgICAgICAgICAgLy8gRHJhdyBvYmplY3QgbmFtZSBhbmQgY29uZmlkZW5jZSBzY29yZQogICAgICAgICAgICBjdHguZmlsbFRleHQoZHJhd01lLm5hbWUgKyAiICgiICsgZHJhd01lLmNvbmZpZGVuY2UgKyAiJSkiLCBkcmF3TWUueCArIGRyYXdNZS53aWR0aCAvIDIsIGRyYXdNZS55IC0gMTApOwogICAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgLy8gbm93IHJldHVybiBzbyB3ZSBhdm9pZCByZW5kZXJpbmcgYW55IG9mIHRoZSB2aWRlbyByZWxhdGVkIGNvbXBvbmVudHMgYmVsb3cKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gSWYgdXNlciBqdXN0IGNsaWNrZWQgYSBuZXcgbGFiZWwuLi4KICAgICAgaWYgKHRoaXMuY2FudmFzUmVmcmVzaEludGVydmFsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAvLyAuLi50aGVuIHJlc2V0IHRoZSBvbGQgY2FudmFzIHJlZnJlc2ggaW50ZXJ2YWwuCiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNhbnZhc1JlZnJlc2hJbnRlcnZhbCk7CiAgICAgIH0KICAgICAgLy8gTG9vayBmb3IgYW5kIGRyYXcgYm91bmRpbmcgYm94ZXMgZXZlcnkgMTAwbXMKICAgICAgdmFyIGludGVydmFsX21zID0gMTAwOwogICAgICB2YXIgZXJhc2Vfb25faXRlcmF0aW9uID0gMjsKICAgICAgdmFyIGkgPSAwOwogICAgICB0aGlzLmNhbnZhc1JlZnJlc2hJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpKys7CiAgICAgICAgLy8gZXJhc2Ugb2xkIGJvdW5kaW5nIGJveGVzCiAgICAgICAgaWYgKCF0aGlzLnBsYXllci5wYXVzZWQoKSAmJiBpICUgZXJhc2Vfb25faXRlcmF0aW9uID09PSAwKSB7CiAgICAgICAgICBpID0gMDsKICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICJyZWQiOwogICAgICAgICAgY3R4LmZvbnQgPSAiMTVweCBBcmlhbCI7CiAgICAgICAgICBjdHgudGV4dEFsaWduID0gImNlbnRlciI7CiAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gIm1pZGRsZSI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gInJlZCI7CiAgICAgICAgfQogICAgICAgIC8vIEdldCBjdXJyZW50IHBsYXllciB0aW1lc3RhbXAgdG8gdGhlIG5lYXJlc3QgMS8xMHRoIHNlY29uZAogICAgICAgIHZhciBwbGF5ZXJfdGltZXN0YW1wID0gTWF0aC5yb3VuZCh0aGlzLnBsYXllci5jdXJyZW50VGltZSgpICogMTAuMCk7CiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGJveCBmb3IgdGhlIHBsYXllcidzIHRpbWVzdGFtcC4uLgogICAgICAgIGlmIChib3hNYXAuaGFzKHBsYXllcl90aW1lc3RhbXApKSB7CiAgICAgICAgICBpID0gMDsKICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICJyZWQiOwogICAgICAgICAgY3R4LmZvbnQgPSAiMTVweCBBcmlhbCI7CiAgICAgICAgICBjdHgudGV4dEFsaWduID0gImNlbnRlciI7CiAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gIm1pZGRsZSI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gInJlZCI7CiAgICAgICAgICAvLyAuLi50aGVuIGdldCBhIGxpc3Qgb2YgYm94IGluc3RhbmNlcwogICAgICAgICAgdmFyIGluc3RhbmNlX2xpc3QgPSBib3hNYXAuZ2V0KHBsYXllcl90aW1lc3RhbXApLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5pbnN0YW5jZTsKICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAodiwgaSwgYSkgewogICAgICAgICAgICByZXR1cm4gYS5pbmRleE9mKHYpID09PSBpOwogICAgICAgICAgfSk7CiAgICAgICAgICAvLyBGb3IgZWFjaCBib3ggaW5zdGFuY2UuLi4KICAgICAgICAgIGluc3RhbmNlX2xpc3QuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAvLyAuLi5nZXQgYWxsIG9mIHRoZSBib3hlcyBiZWxvbmdpbmcgdG8gdGhpcyBpbnN0YW5jZQogICAgICAgICAgICAvLyBhdCB0aGUgY3VycmVudCB0aW1lc3RhbXAuCiAgICAgICAgICAgIHZhciBib3hlcyA9IGJveE1hcC5nZXQocGxheWVyX3RpbWVzdGFtcCkuZmlsdGVyKGZ1bmN0aW9uIChib3gpIHsKICAgICAgICAgICAgICByZXR1cm4gYm94Lmluc3RhbmNlID09PSBpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoZHJhd01lKSB7CiAgICAgICAgICAgICAgaWYgKGRyYXdNZSkgewogICAgICAgICAgICAgICAgY3R4LnJlY3QoZHJhd01lLngsIGRyYXdNZS55LCBkcmF3TWUud2lkdGgsIGRyYXdNZS5oZWlnaHQpOwogICAgICAgICAgICAgICAgLy8gRHJhdyBvYmplY3QgbmFtZSBhbmQgY29uZmlkZW5jZSBzY29yZQogICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGRyYXdNZS5uYW1lICsgIiAoIiArIGRyYXdNZS5jb25maWRlbmNlICsgIiUpIiwgZHJhd01lLnggKyBkcmF3TWUud2lkdGggLyAyLCBkcmF3TWUueSAtIDEwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgfQogICAgICB9LmJpbmQodGhpcyksIGludGVydmFsX21zKTsKICAgIH0sCiAgICBjaGFydERhdGE6IGZ1bmN0aW9uIGNoYXJ0RGF0YSgpIHsKICAgICAgdmFyIHRpbWVzZXJpZXMgPSBuZXcgTWFwKCk7CiAgICAgIGZ1bmN0aW9uIHNhdmVUaW1lc3RhbXAobWlsbGlzZWNvbmQpIHsKICAgICAgICBpZiAodGltZXNlcmllcy5oYXMobWlsbGlzZWNvbmQpKSB7CiAgICAgICAgICB0aW1lc2VyaWVzLnNldChtaWxsaXNlY29uZCwgewogICAgICAgICAgICAieCI6IG1pbGxpc2Vjb25kLAogICAgICAgICAgICAieSI6IHRpbWVzZXJpZXMuZ2V0KG1pbGxpc2Vjb25kKS55ICsgMQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRpbWVzZXJpZXMuc2V0KG1pbGxpc2Vjb25kLCB7CiAgICAgICAgICAgICJ4IjogbWlsbGlzZWNvbmQsCiAgICAgICAgICAgICJ5IjogMQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBlc19kYXRhID0gdGhpcy5lbGFzdGljc2VhcmNoX2RhdGE7CiAgICAgIGVzX2RhdGEuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgLy8gRGVmaW5lIHRpbWVzdGFtcCB3aXRoIG1pbGxpc2Vjb25kIHJlc29sdXRpb24KICAgICAgICB2YXIgbWlsbGlzZWNvbmQgPSBNYXRoLnJvdW5kKHJlY29yZC5UaW1lc3RhbXApOwogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGFiZWwpIHsKICAgICAgICAgIC8vIE5vIGxhYmVsIGhhcyBiZWVuIHNlbGVjdGVkLCBzbyBlbnVtZXJhdGUgdGltZXN0YW1wcyBmb3IgYWxsIGxhYmVsIG5hbWVzLgogICAgICAgICAgaWYgKHJlY29yZC5OYW1lID09PSB0aGlzLnNlbGVjdGVkTGFiZWwpIHsKICAgICAgICAgICAgc2F2ZVRpbWVzdGFtcChtaWxsaXNlY29uZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIExhYmVsIGlzIHVuZGVmaW5lZC4gRW51bWVyYXRlIHRpbWVzdGFtcHMgZm9yIGFsbCBsYWJlbCBuYW1lcy4KICAgICAgICAgIHNhdmVUaW1lc3RhbXAobWlsbGlzZWNvbmQpOwogICAgICAgIH0KICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgLy9zb3J0IHRoZSB0aW1lc2VyaWVzIG1hcCBieSBpdHMgbWlsbGlzZWNvbmQga2V5CiAgICAgIHZhciBvcmRlcmVkX3RpbWVzZXJpZXMgPSBuZXcgTWFwKF90b0NvbnN1bWFibGVBcnJheSh0aW1lc2VyaWVzLmVudHJpZXMoKSkuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdOwogICAgICB9KSk7CiAgICAgIHZhciBjaGFydFR1cGxlcyA9IEFycmF5LmZyb20ob3JkZXJlZF90aW1lc2VyaWVzLnZhbHVlcygpKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVUaW1lc2VyaWVzJywgY2hhcnRUdXBsZXMpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVNlbGVjdGVkTGFiZWwnLCB0aGlzLnNlbGVjdGVkTGFiZWwpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Loading","mapState","name","components","props","mediaType","type","String","default","data","curlCommand","searchQuery","showElasticsearchApiRequest","Confidence","high_confidence_data","elasticsearch_data","count_distinct_labels","count_labels","isBusy","operator","canvasRefreshInterval","undefined","timeseries","Map","selectedLabel","boxes_available","lowerConfidence","lowerConfidenceMessage","computed","_objectSpread","sorted_unique_labels","es_data","unique_labels","forEach","record","set","Name","get","BoundingBox","saveBoxedLabel","bind","_toConsumableArray","entries","slice","sort","a","b","delete","countLabels","size","length","watch","chartData","deactivated","console","log","clearInterval","canvas","document","getElementById","ctx","getContext","clearRect","width","height","activated","fetchAssetData","mounted","getCurlCommand","beforeDestroy","methods","$route","params","asset_id","AWS_REGION","SEARCH_ENDPOINT","encodeURIComponent","_this","_asyncToGenerator","_regenerator","m","_callee","apiName","path","apiParams","response","result","i","len","item","emotion","emotionsLen","w","_context","n","headers","queryStringParameters","$Amplify","API","v","showElasticSearchAlert","hits","_source","Emotions","push","Type","Timestamp","Beard","Eyeglasses","EyesOpen","MouthOpen","Mustache","Smile","Sunglasses","Gender","Value","Width","Height","Left","Top","JSON","parse","stringify","label_name","includes","unique_count","total_count","saveFile","blob","Blob","e","createEvent","createElement","download","href","window","URL","createObjectURL","dataset","downloadurl","join","initEvent","dispatchEvent","updateConfidence","event","target","value","player","markers","removeAll","updateMarkers","label","strokeStyle","font","textAlign","textBaseline","fillStyle","boxMap","instance","boxinfo","toFixed","timestamp","Math","round","has","ceil","drawBoxes","add","beginPath","drawMe","rect","x","y","fillText","confidence","stroke","interval_ms","erase_on_iteration","setInterval","paused","player_timestamp","currentTime","instance_list","map","filter","indexOf","boxes","box","saveTimestamp","millisecond","ordered_timeseries","chartTuples","Array","from","values","$store","commit"],"sources":["src/components/FaceDetection.vue"],"sourcesContent":["<template>\n  <b-container fluid>\n    <b-col>\n      <b-row\n        align-h=\"center\"\n        class=\"my-1\"\n      >\n        <div class=\"wrapper\">\n          Confidence Threshold<br>\n          <input\n            type=\"range\"\n            value=\"90\"\n            min=\"55\"\n            max=\"99\"\n            step=\"1\"\n            @click=\"updateConfidence\"\n          >\n          {{ Confidence }}%<br>\n        </div>\n      </b-row>\n      <div v-if=\"lowerConfidence === true\">\n        {{ lowerConfidenceMessage }}\n      </div>\n      <div\n        v-if=\"isBusy\"\n        class=\"wrapper\"\n      >\n        <Loading />\n      </div>\n      <b-row\n        align-h=\"center\"\n        class=\"my-1\"\n      >\n        <div class=\"wrapper\">\n          <br>\n          <template v-for=\"label in sorted_unique_labels\">\n            <template v-if=\"boxes_available.includes(label[0])\">\n              <!-- Show darker button outline if boxes are available for the label -->\n              <b-button\n                v-b-tooltip.hover\n                variant=\"outline-dark\"\n                :title=\"label[1]\"\n                size=\"sm\"\n                pill\n                @click=\"updateMarkers(label[0])\"\n              >\n                {{ label[0]+\"*\" }}\n              </b-button> &nbsp;\n            </template>\n            <template v-else>\n              <b-button\n                v-b-tooltip.hover\n                variant=\"outline-secondary\"\n                :title=\"label[1]\"\n                size=\"sm\"\n                pill\n                @click=\"updateMarkers(label[0])\"\n              >\n                {{ label[0] }}\n              </b-button> &nbsp;\n            </template>\n          </template>\n        </div>\n      </b-row>\n      <b-row\n        align-h=\"center\"\n        class=\"my-1\"\n      >\n        <div\n          v-if=\"isBusy === false\"\n          class=\"wrapper\"\n        >\n          <br><p class=\"text-muted\">\n            ({{ count_labels }} identified objects, {{ count_distinct_labels }} unique)\n          </p>\n          <hr>\n          <p class=\"text-muted\">\n            * Indicates bounding boxes are available.\n          </p>\n        </div>\n      </b-row>\n    </b-col>\n    <b-button\n      type=\"button\"\n      @click=\"saveFile()\"\n    >\n      Download Data\n    </b-button>\n    <br>\n    <b-button\n        :pressed=\"false\"\n        size=\"sm\"\n        variant=\"link\"\n        class=\"text-decoration-none\"\n        @click=\"showElasticsearchApiRequest = true\"\n    >\n      Show API request to get these results\n    </b-button>\n    <b-modal\n        v-model=\"showElasticsearchApiRequest\"\n        scrollable\n        title=\"SEARCH API\"\n        ok-only\n    >\n      <label>Request URL:</label>\n      <pre v-highlightjs><code class=\"bash\">GET {{ SEARCH_ENDPOINT }}workflow/execution</code></pre>\n      <label>Search query:</label>\n      <pre v-highlightjs=\"JSON.stringify(searchQuery)\"><code class=\"json\"></code></pre>\n      <label>Sample command:</label>\n      <pre v-highlightjs=\"curlCommand\"><code class=\"bash\"></code></pre>\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\n  import Loading from '@/components/Loading.vue'\n  import { mapState } from 'vuex'\n\n  export default {\n    name: \"FaceDetection\",\n    components: {\n      Loading\n    },\n    props: {\n      mediaType: {\n        type: String,\n        default: \"\"\n      },\n    },\n    data() {\n      return {\n        curlCommand: '',\n        searchQuery: '',\n        showElasticsearchApiRequest: false,\n        Confidence: 90,\n        high_confidence_data: [],\n        elasticsearch_data: [],\n        count_distinct_labels: 0,\n        count_labels: 0,\n        isBusy: false,\n        operator: 'face_detection',\n        canvasRefreshInterval: undefined,\n        timeseries: new Map(),\n        selectedLabel: '',\n        boxes_available: [],\n        lowerConfidence: false,\n        lowerConfidenceMessage: 'Try lowering confidence threshold'\n      }\n    },\n    computed: {\n      ...mapState(['player']),\n      sorted_unique_labels() {\n        // This function sorts and counts unique labels for mouse over events on label buttons\n        const es_data = this.elasticsearch_data;\n        const unique_labels = new Map();\n        // sort and count unique labels for label mouse over events\n        es_data.forEach(function (record) {\n          unique_labels.set(record.Name, unique_labels.get(record.Name) ? unique_labels.get(record.Name) + 1 : 1);\n          if (record.BoundingBox) {\n            // Save this label name to a list of labels that have bounding boxes\n            this.saveBoxedLabel(record.Name)\n          }\n        }.bind(this));\n        const sorted_unique_labels = new Map([...unique_labels.entries()].slice().sort((a, b) => b[1] - a[1]));\n        // If Elasticsearch returned undefined labels then delete them:\n        sorted_unique_labels.delete(undefined);\n        this.countLabels(sorted_unique_labels.size, es_data.length);\n        return sorted_unique_labels\n      }\n    },\n    watch: {\n      // These watches update the line chart\n      selectedLabel: function() {\n        this.chartData();\n      },\n      elasticsearch_data: function() {\n        this.chartData();\n      },\n    },\n    deactivated: function () {\n      console.log('activated component:', this.operator);\n      this.boxes_available = [];\n      this.selectedLabel = '';\n      clearInterval(this.canvasRefreshInterval);\n      const canvas = document.getElementById('canvas');\n      let ctx;\n      if (canvas) ctx = canvas.getContext('2d');\n      if (ctx) ctx.clearRect(0, 0, canvas.width, canvas.height);\n    },\n    activated: function () {\n      console.log('activated component:', this.operator);\n      this.fetchAssetData();\n    },\n    mounted: function() {\n      this.getCurlCommand();\n    },\n    beforeDestroy: function () {\n      this.high_confidence_data = [];\n      this.elasticsearch_data = [];\n      this.count_distinct_labels = 0;\n      this.count_labels = 0;\n    },\n    methods: {\n      getCurlCommand() {\n        this.searchQuery = 'AssetId:'+this.$route.params.asset_id+' Confidence:>'+this.Confidence+' Operator:'+this.operator;\n        // get curl command to search elasticsearch\n        this.curlCommand = 'awscurl -X GET --profile default --service es --region ' + this.AWS_REGION + ' \\'' + this.SEARCH_ENDPOINT + '/_search?q=' + encodeURIComponent(this.searchQuery) + '\\''\n      },\n      async fetchAssetData () {\n          let apiName = 'contentAnalysisElasticsearch';\n          let path = '/_search';\n          let apiParams = {\n            headers: {'Content-Type': 'application/json'},\n            queryStringParameters: {'q': this.searchQuery, 'default_operator': 'AND', 'size': 10000}\n          };\n          let response = await this.$Amplify.API.get(apiName, path, apiParams);\n          if (!response) {\n            this.showElasticSearchAlert = true\n          }\n          else {\n            let result = await response;\n            let data = result.hits.hits;\n            let es_data = [];\n            if (data.length === 0 && this.Confidence > 55) {\n              this.lowerConfidence = true;\n              this.lowerConfidenceMessage = 'Try lowering confidence threshold'\n            } else {\n              this.lowerConfidence = false;\n              for (let i = 0, len = data.length; i < len; i++) {\n                let item = data[i]._source;\n                if (\"Emotions\" in item) {\n                  for (let emotion = 0, emotionsLen = item.Emotions.length; emotion < emotionsLen; emotion++) {\n                    if (item.Emotions[emotion].Confidence >= this.Confidence) {\n                      es_data.push({\"Name\": item.Emotions[emotion].Type, \"Timestamp\": item.Timestamp})\n                    }\n                  }\n                }\n                if (\"Beard\" in item) {\n                  if (item.Beard.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"Beard\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"Eyeglasses\" in item) {\n                  if (item.Eyeglasses.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"Eyeglasses\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"EyesOpen\" in item) {\n                  if (item.EyesOpen.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"EyesOpen\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"MouthOpen\" in item) {\n                  if (item.MouthOpen.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"MouthOpen\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"Mustache\" in item) {\n                  if (item.Mustache.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"Mustache\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"Smile\" in item) {\n                  if (item.Smile.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"Smile\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"Sunglasses\" in item) {\n                  if (item.Sunglasses.Confidence > this.Confidence) {\n                    es_data.push({\"Name\": \"Sunglasses\", \"Timestamp\": item.Timestamp})\n                  }\n                }\n                if (\"Gender\" in item) {\n                  es_data.push({\"Name\": item.Gender.Value, \"Timestamp\": item.Timestamp})\n                }\n                if (\"BoundingBox\" in item) {\n                  es_data.push({\n                    \"Name\": \"Face\",\n                    \"Timestamp\": item.Timestamp,\n                    \"Confidence\": item.Confidence,\n                    \"BoundingBox\": {\n                      \"Width\": item.BoundingBox.Width,\n                      \"Height\": item.BoundingBox.Height,\n                      \"Left\": item.BoundingBox.Left,\n                      \"Top\": item.BoundingBox.Top\n                    }\n                  })\n                }\n              }\n            }\n            this.elasticsearch_data = JSON.parse(JSON.stringify(es_data));\n            this.isBusy = false\n        }\n      },\n      saveBoxedLabel(label_name) {\n        if (!this.boxes_available.includes(label_name)) {\n          this.boxes_available.push(label_name);\n        }\n      },\n      countLabels(unique_count, total_count) {\n        this.count_distinct_labels = unique_count;\n        this.count_labels = total_count;\n      },\n      saveFile() {\n        const elasticsearch_data = JSON.stringify(this.elasticsearch_data);\n        const blob = new Blob([elasticsearch_data], {type: 'text/plain'});\n        const e = document.createEvent('MouseEvents'),\n          a = document.createElement('a');\n        a.download = \"data.json\";\n        a.href = window.URL.createObjectURL(blob);\n        a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n        e.initEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        a.dispatchEvent(e);\n      },\n      updateConfidence (event) {\n        this.isBusy = true;\n        this.Confidence = event.target.value;\n        if (this.mediaType === \"video\") {\n          // redraw markers on video timeline\n          this.player.markers.removeAll();\n        }\n        this.getCurlCommand()\n        this.fetchAssetData()\n      },\n      // updateMarkers updates markers in the video player and is called when someone clicks on a label button\n      updateMarkers (label) {\n        // clear canvas for redrawing\n        this.boxes_available = [];\n        clearInterval(this.canvasRefreshInterval);\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.strokeStyle = \"red\";\n        ctx.font = \"15px Arial\";\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillStyle = \"red\";\n        if (this.selectedLabel === label) {\n          // keep the canvas clear canvas if user clicked the label button a second consecutive time\n          this.selectedLabel = \"\";\n          return\n        }\n        this.selectedLabel = label;\n        // initialize lists of boxes and markers to be drawn\n        const boxMap = new Map();\n        let markers = [];\n        const es_data = this.elasticsearch_data;\n        let instance = 0;\n        let i=0;\n        es_data.forEach(function (record) {\n          if (record.Name === label) {\n            markers.push({'time': record.Timestamp/1000, 'text': record.Name, 'overlayText': record.Name});\n            // Save bounding box info if it exists\n            if (record.BoundingBox) {\n              // TODO: move image processing to a separate component\n              if (this.mediaType === \"image\") {\n                const boxinfo = {\n                  'instance': i,\n                  'name': record.Name,\n                  'confidence': (record.Confidence * 1).toFixed(2),\n                  'x': record.BoundingBox.Left * canvas.width,\n                  'y': record.BoundingBox.Top * canvas.height,\n                  'width': record.BoundingBox.Width * canvas.width,\n                  'height': record.BoundingBox.Height * canvas.height\n                };\n                boxMap.set(i++, [boxinfo])\n              } else {\n                // Use time resolution of 0.1 second\n                const timestamp = Math.round(record.Timestamp / 100);\n                if (boxMap.has(timestamp)) {\n                  const boxinfo = {\n                    'instance': instance++,\n                    'timestamp': Math.ceil(record.Timestamp / 100),\n                    'name': record.Name,\n                    'confidence': (record.Confidence * 1).toFixed(2),\n                    'x': record.BoundingBox.Left * canvas.width,\n                    'y': record.BoundingBox.Top * canvas.height,\n                    'width': record.BoundingBox.Width * canvas.width,\n                    'height': record.BoundingBox.Height * canvas.height\n                  };\n                  boxMap.get(timestamp).push(boxinfo)\n                } else {\n                  instance = 0;\n                  const boxinfo = {\n                    'instance': instance++,\n                    'timestamp': Math.ceil(record.Timestamp / 100),\n                    'name': record.Name,\n                    'confidence': (record.Confidence * 1).toFixed(2),\n                    'x': record.BoundingBox.Left * canvas.width,\n                    'y': record.BoundingBox.Top * canvas.height,\n                    'width': record.BoundingBox.Width * canvas.width,\n                    'height': record.BoundingBox.Height * canvas.height\n                  };\n                  boxMap.set(timestamp, [boxinfo])\n                }\n              }\n            }\n          }\n        }.bind(this));\n        if (boxMap.size > 0) {\n          this.drawBoxes(boxMap);\n        }\n        // TODO: move image processing to a separate component\n        if (this.mediaType === \"video\") {\n          // redraw markers on video timeline\n          this.player.markers.removeAll();\n          this.player.markers.add(markers);\n        }\n      },\n      drawBoxes: function(boxMap) {\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        // TODO: move image processing to a separate component\n        if (this.mediaType === \"image\") {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.beginPath();\n          ctx.strokeStyle = \"red\";\n          ctx.font = \"15px Arial\";\n          ctx.textAlign = \"center\";\n          ctx.textBaseline = \"middle\";\n          ctx.fillStyle = \"red\";\n          // For each box instance...\n          boxMap.forEach( i => {\n            let drawMe = i[0];\n            if (drawMe) {\n              ctx.rect(drawMe.x, drawMe.y, drawMe.width, drawMe.height);\n              // Draw object name and confidence score\n              ctx.fillText(drawMe.name + \" (\" + drawMe.confidence + \"%)\", (drawMe.x + drawMe.width / 2), drawMe.y - 10);\n              ctx.stroke();\n            }\n          });\n          // now return so we avoid rendering any of the video related components below\n          return\n        }\n        // If user just clicked a new label...\n        if (this.canvasRefreshInterval !== undefined) {\n          // ...then reset the old canvas refresh interval.\n          clearInterval(this.canvasRefreshInterval)\n        }\n        // Look for and draw bounding boxes every 100ms\n        const interval_ms = 100;\n        const erase_on_iteration = 2;\n        let i = 0;\n        this.canvasRefreshInterval = setInterval(function () {\n          i++;\n          // erase old bounding boxes\n          if (!this.player.paused() && i % erase_on_iteration === 0) {\n            i=0;\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.beginPath();\n            ctx.strokeStyle = \"red\";\n            ctx.font = \"15px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.fillStyle = \"red\";\n          }\n          // Get current player timestamp to the nearest 1/10th second\n          const player_timestamp = Math.round(this.player.currentTime()*10.0);\n          // If we have a box for the player's timestamp...\n          if (boxMap.has(player_timestamp)) {\n            i=0;\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.beginPath();\n            ctx.strokeStyle = \"red\";\n            ctx.font = \"15px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.textBaseline = \"middle\";\n            ctx.fillStyle = \"red\";\n            // ...then get a list of box instances\n            const instance_list = (boxMap.get(player_timestamp)).map( item => item.instance).filter((v, i, a) => a.indexOf(v) === i);\n            // For each box instance...\n            instance_list.forEach( i => {\n              // ...get all of the boxes belonging to this instance\n              // at the current timestamp.\n              const boxes = boxMap.get(player_timestamp).filter(box => box.instance === i);\n              boxes.forEach (drawMe => {\n                if (drawMe) {\n                  ctx.rect(drawMe.x, drawMe.y, drawMe.width, drawMe.height);\n                  // Draw object name and confidence score\n                  ctx.fillText(drawMe.name + \" (\" + drawMe.confidence + \"%)\", (drawMe.x + drawMe.width / 2), drawMe.y - 10);\n                }\n              })\n            });\n            ctx.stroke();\n          }\n        }.bind(this), interval_ms);\n      },\n      chartData() {\n        let timeseries = new Map();\n        function saveTimestamp (millisecond) {\n          if (timeseries.has(millisecond)) {\n            timeseries.set(millisecond, {\"x\": millisecond, \"y\": timeseries.get(millisecond).y + 1})\n          } else {\n            timeseries.set(millisecond, {\"x\": millisecond, \"y\":1})\n          }\n        }\n        const es_data = this.elasticsearch_data;\n        es_data.forEach( function(record) {\n          // Define timestamp with millisecond resolution\n          const millisecond = Math.round(record.Timestamp);\n          if (this.selectedLabel) {\n            // No label has been selected, so enumerate timestamps for all label names.\n            if (record.Name === this.selectedLabel) {\n              saveTimestamp(millisecond);\n            }\n          } else {\n            // Label is undefined. Enumerate timestamps for all label names.\n            saveTimestamp(millisecond);\n          }\n        }.bind(this));\n        //sort the timeseries map by its millisecond key\n        const ordered_timeseries = new Map([...timeseries.entries()].slice().sort((a, b) => a[0] - b[0]));\n        const chartTuples = Array.from(ordered_timeseries.values());\n        this.$store.commit('updateTimeseries', chartTuples);\n        this.$store.commit('updateSelectedLabel', this.selectedLabel);\n      },\n    }\n  }\n</script>\n"],"mappings":"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","ignoreList":[]}]}