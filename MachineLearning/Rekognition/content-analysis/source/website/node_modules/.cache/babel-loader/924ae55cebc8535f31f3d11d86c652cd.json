{"remainingRequest":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/ComprehendEntities.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/ComprehendEntities.vue","mtime":1759685740382},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/babel.config.js","mtime":1759685740381},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1759686089126},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js","mtime":1759686089251},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js","mtime":1759686084280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcmV5bmFsZG8vRG9jdW1lbnRzL0FXUy9NYWNoaW5lTGVhcm5pbmcvUmVrb2duaXRpb24vY29udGVudC1hbmFseXNpcy1vbi1hd3Mvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZy52dWUnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVudGl0aWVzIiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQ29uZmlkZW5jZTogOTAsCiAgICAgIHNvcnRCeTogIkJlZ2luT2Zmc2V0IiwKICAgICAgZmllbGRzOiBbewogICAgICAgIGtleTogJ0VudGl0eVRleHQnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdFbnRpdHlUeXBlJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAnQ29uZmlkZW5jZScsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogJ0JlZ2luT2Zmc2V0JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAnRW5kT2Zmc2V0JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9XSwKICAgICAgZW50aXRpZXM6IFtdLAogICAgICBpc0J1c3k6IGZhbHNlLAogICAgICBvcGVyYXRvcjogImVudGl0aWVzIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3BsYXllciddKSksCiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2RlYWN0aXZhdGVkIGNvbXBvbmVudDonLCB0aGlzLm9wZXJhdG9yKTsKICAgIC8vIGNsZWFyaW5nIHRoaXMgdmFsdWUgYWZ0ZXIgZXZlcnkgZGVhY3RpdmF0aW9uIHNvIHdlIGRvbnQgY2FycnkgdGhpcyBodWdlIGFtb3VudCBvZiBkYXRhIGluIG1lbW9yeQogICAgdGhpcy5lbnRpdGllcyA9IFtdOwogIH0sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnYWN0aXZhdGVkIGNvbXBvbmVudDonLCB0aGlzLm9wZXJhdG9yKTsKICAgIHRoaXMuZmV0Y2hBc3NldERhdGEoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmVudGl0aWVzID0gW107CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVDb25maWRlbmNlOiBmdW5jdGlvbiB1cGRhdGVDb25maWRlbmNlKGV2ZW50KSB7CiAgICAgIHRoaXMuaXNCdXN5ID0gdHJ1ZTsKICAgICAgdGhpcy5lbnRpdGllcyA9IFtdOwogICAgICB0aGlzLkNvbmZpZGVuY2UgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIHRoaXMuZmV0Y2hBc3NldERhdGEoKTsKICAgIH0sCiAgICBmZXRjaEFzc2V0RGF0YTogZnVuY3Rpb24gZmV0Y2hBc3NldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBxdWVyeSwgYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zLCByZXNwb25zZSwgcmVzdWx0LCBkYXRhLCBpLCBsZW47CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBxdWVyeSA9ICdBc3NldElkOicgKyBfdGhpcy4kcm91dGUucGFyYW1zLmFzc2V0X2lkICsgJyBDb25maWRlbmNlOj4nICsgX3RoaXMuQ29uZmlkZW5jZSArICcgX2luZGV4Om1pZWVudGl0aWVzJzsKICAgICAgICAgICAgICBhcGlOYW1lID0gJ2NvbnRlbnRBbmFseXNpc0VsYXN0aWNzZWFyY2gnOwogICAgICAgICAgICAgIHBhdGggPSAnL19zZWFyY2gnOwogICAgICAgICAgICAgIGFwaVBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nUGFyYW1ldGVyczogewogICAgICAgICAgICAgICAgICAncSc6IHF1ZXJ5LAogICAgICAgICAgICAgICAgICAnZGVmYXVsdF9vcGVyYXRvcic6ICdBTkQnLAogICAgICAgICAgICAgICAgICAnc2l6ZSc6IDEwMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uID0gMTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJEFtcGxpZnkuQVBJLmdldChhcGlOYW1lLCBwYXRoLCBhcGlQYXJhbXMpOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC52OwogICAgICAgICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMuc2hvd0VsYXN0aWNTZWFyY2hBbGVydCA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dC5uID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC52OwogICAgICAgICAgICAgIGRhdGEgPSByZXN1bHQuaGl0cy5oaXRzOwogICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgICAgIF90aGlzLmVudGl0aWVzLnB1c2goewogICAgICAgICAgICAgICAgICAiRW50aXR5VGV4dCI6IGRhdGFbaV0uX3NvdXJjZS5FbnRpdHlUZXh0LAogICAgICAgICAgICAgICAgICAiRW50aXR5VHlwZSI6IGRhdGFbaV0uX3NvdXJjZS5FbnRpdHlUeXBlLAogICAgICAgICAgICAgICAgICAiQ29uZmlkZW5jZSI6IGRhdGFbaV0uX3NvdXJjZS5Db25maWRlbmNlLAogICAgICAgICAgICAgICAgICAiQmVnaW5PZmZzZXQiOiBkYXRhW2ldLl9zb3VyY2UuQmVnaW5PZmZzZXQsCiAgICAgICAgICAgICAgICAgICJFbmRPZmZzZXQiOiBkYXRhW2ldLl9zb3VyY2UuRW5kT2Zmc2V0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMuaXNCdXN5ID0gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Loading","mapState","name","components","data","Confidence","sortBy","fields","key","sortable","entities","isBusy","operator","computed","_objectSpread","deactivated","console","log","activated","fetchAssetData","beforeDestroy","methods","updateConfidence","event","target","value","_this","_asyncToGenerator","_regenerator","m","_callee","query","apiName","path","apiParams","response","result","i","len","w","_context","n","$route","params","asset_id","headers","queryStringParameters","$Amplify","API","get","v","showElasticSearchAlert","hits","length","push","_source","EntityText","EntityType","BeginOffset","EndOffset","a"],"sources":["src/components/ComprehendEntities.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"wrapper\">\n      Confidence Threshold<br>\n      <input\n        type=\"range\"\n        value=\"90\"\n        min=\"55\"\n        max=\"99\"\n        step=\"1\"\n        @click=\"updateConfidence\"\n      >\n      {{ Confidence }}%<br>\n    </div>\n    <div\n      v-if=\"isBusy\"\n      class=\"wrapper\"\n    >\n      <Loading />\n    </div>\n    <div class=\"wrapper\">\n      <b-table\n        responsive\n        fixed\n        :items=\"entities\"\n        :fields=\"fields\"\n        :sort-by=\"sortBy\"\n      >\n        <template #cell(Confidence)=\"data\">\n          {{ (data.item.Confidence * 1).toFixed(2) }}\n        </template>\n      </b-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from '@/components/Loading.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"Entities\",\n  components: {\n    Loading\n    },\n  data() {\n    return {\n      Confidence: 90,\n      sortBy: \"BeginOffset\",\n      fields: [\n        { key: 'EntityText', sortable: true },\n        { key: 'EntityType', sortable: true },\n        { key: 'Confidence', sortable: true },\n        { key: 'BeginOffset', sortable: true },\n        { key: 'EndOffset', sortable: true },\n      ],\n      entities: [],\n      isBusy: false,\n      operator: \"entities\"\n    }\n  },\n  computed: {\n    ...mapState(['player']),\n  },\n  deactivated: function () {\n    console.log('deactivated component:', this.operator)\n    // clearing this value after every deactivation so we dont carry this huge amount of data in memory\n    this.entities = []\n  },\n  activated: function () {\n    console.log('activated component:', this.operator);\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n    this.entities = []\n  },\n  methods: {\n    updateConfidence (event) {\n      this.isBusy = true;\n      this.entities = [];\n      this.Confidence = event.target.value;\n      this.fetchAssetData()\n    },\n    async fetchAssetData () {\n      let query = 'AssetId:'+this.$route.params.asset_id+' Confidence:>'+this.Confidence+' _index:mieentities';\n      let apiName = 'contentAnalysisElasticsearch';\n      let path = '/_search';\n      let apiParams = {\n        headers: {'Content-Type': 'application/json'},\n        queryStringParameters: {'q': query, 'default_operator': 'AND', 'size': 10000}\n      };\n      let response = await this.$Amplify.API.get(apiName, path, apiParams);\n      if (!response) {\n        this.showElasticSearchAlert = true\n      }\n      else {\n        let result = await response;\n        let data = result.hits.hits;\n        for (var i = 0, len = data.length; i < len; i++) {\n          this.entities.push({ \"EntityText\": data[i]._source.EntityText, \"EntityType\": data[i]._source.EntityType, \"Confidence\": data[i]._source.Confidence, \"BeginOffset\": data[i]._source.BeginOffset, \"EndOffset\": data[i]._source.EndOffset})\n        }\n        this.isBusy = false\n      }\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAAA,OAAA;AACA,SAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,OAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,MAAA,GACA;QAAAC,GAAA;QAAAC,QAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,QAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,QAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,QAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,QAAA;MAAA,EACA;MACAC,QAAA;MACAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,KACAb,QAAA,aACA;EACAc,WAAA,WAAAA,YAAA;IACAC,OAAA,CAAAC,GAAA,gCAAAL,QAAA;IACA;IACA,KAAAF,QAAA;EACA;EACAQ,SAAA,WAAAA,UAAA;IACAF,OAAA,CAAAC,GAAA,8BAAAL,QAAA;IACA,KAAAO,cAAA;EACA;EACAC,aAAA,WAAAA,cAAA;IACA,KAAAV,QAAA;EACA;EACAW,OAAA;IACAC,gBAAA,WAAAA,iBAAAC,KAAA;MACA,KAAAZ,MAAA;MACA,KAAAD,QAAA;MACA,KAAAL,UAAA,GAAAkB,KAAA,CAAAC,MAAA,CAAAC,KAAA;MACA,KAAAN,cAAA;IACA;IACAA,cAAA,WAAAA,eAAA;MAAA,IAAAO,KAAA;MAAA,OAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAA;QAAA,IAAAC,KAAA,EAAAC,OAAA,EAAAC,IAAA,EAAAC,SAAA,EAAAC,QAAA,EAAAC,MAAA,EAAAhC,IAAA,EAAAiC,CAAA,EAAAC,GAAA;QAAA,OAAAV,YAAA,GAAAW,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA;YAAA;cACAV,KAAA,gBAAAL,KAAA,CAAAgB,MAAA,CAAAC,MAAA,CAAAC,QAAA,qBAAAlB,KAAA,CAAArB,UAAA;cACA2B,OAAA;cACAC,IAAA;cACAC,SAAA;gBACAW,OAAA;kBAAA;gBAAA;gBACAC,qBAAA;kBAAA,KAAAf,KAAA;kBAAA;kBAAA;gBAAA;cACA;cAAAS,QAAA,CAAAC,CAAA;cAAA,OACAf,KAAA,CAAAqB,QAAA,CAAAC,GAAA,CAAAC,GAAA,CAAAjB,OAAA,EAAAC,IAAA,EAAAC,SAAA;YAAA;cAAAC,QAAA,GAAAK,QAAA,CAAAU,CAAA;cAAA,IACAf,QAAA;gBAAAK,QAAA,CAAAC,CAAA;gBAAA;cAAA;cACAf,KAAA,CAAAyB,sBAAA;cAAAX,QAAA,CAAAC,CAAA;cAAA;YAAA;cAAAD,QAAA,CAAAC,CAAA;cAAA,OAGAN,QAAA;YAAA;cAAAC,MAAA,GAAAI,QAAA,CAAAU,CAAA;cACA9C,IAAA,GAAAgC,MAAA,CAAAgB,IAAA,CAAAA,IAAA;cACA,KAAAf,CAAA,MAAAC,GAAA,GAAAlC,IAAA,CAAAiD,MAAA,EAAAhB,CAAA,GAAAC,GAAA,EAAAD,CAAA;gBACAX,KAAA,CAAAhB,QAAA,CAAA4C,IAAA;kBAAA,cAAAlD,IAAA,CAAAiC,CAAA,EAAAkB,OAAA,CAAAC,UAAA;kBAAA,cAAApD,IAAA,CAAAiC,CAAA,EAAAkB,OAAA,CAAAE,UAAA;kBAAA,cAAArD,IAAA,CAAAiC,CAAA,EAAAkB,OAAA,CAAAlD,UAAA;kBAAA,eAAAD,IAAA,CAAAiC,CAAA,EAAAkB,OAAA,CAAAG,WAAA;kBAAA,aAAAtD,IAAA,CAAAiC,CAAA,EAAAkB,OAAA,CAAAI;gBAAA;cACA;cACAjC,KAAA,CAAAf,MAAA;YAAA;cAAA,OAAA6B,QAAA,CAAAoB,CAAA;UAAA;QAAA,GAAA9B,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]}]}