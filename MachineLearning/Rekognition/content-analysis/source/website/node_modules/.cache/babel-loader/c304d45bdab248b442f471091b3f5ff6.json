{"remainingRequest":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/LineChart.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/LineChart.vue","mtime":1759685740382},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/babel.config.js","mtime":1759685740381},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1759686089126},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js","mtime":1759686089251},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js","mtime":1759686084280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcmV5bmFsZG8vRG9jdW1lbnRzL0FXUy9NYWNoaW5lTGVhcm5pbmcvUmVrb2duaXRpb24vY29udGVudC1hbmFseXNpcy1vbi1hd3Mvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaW5lQ2hhcnQiLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkdXJhdGlvbjogdW5kZWZpbmVkLAogICAgICBjaGFydENvbmZpZzoge30sCiAgICAgIGNoYXJ0OiB1bmRlZmluZWQsCiAgICAgIGlzQnVzeTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydjaGFydF90dXBsZXMnLCAnc2VsZWN0ZWRfbGFiZWwnLCAncGxheWVyJ10pKSwKICB3YXRjaDogewogICAgY2hhcnRfdHVwbGVzOiBmdW5jdGlvbiBjaGFydF90dXBsZXMoKSB7CiAgICAgIHRoaXMucmVuZGVyTGluZUNoYXJ0KCk7CiAgICB9LAogICAgcGxheWVyOiBmdW5jdGlvbiBwbGF5ZXIoKSB7CiAgICAgIHRoaXMuZ2V0RHVyYXRpb24oKTsKICAgICAgdGhpcy5nZXRUaW1lVXBkYXRlKCk7CiAgICAgIHRoaXMucmVuZGVyTGluZUNoYXJ0KCk7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnZGVhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogICAgdGhpcy5jaGFydCA9IE9iamVjdDsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2FjdGl2YXRlZCBjb21wb25lbnQ6JywgdGhpcy5vcGVyYXRvcik7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5jaGFydCA9IE9iamVjdDsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoYXJ0Q29uZmlnID0gewogICAgICB0eXBlOiAnc2NhdHRlcicsCiAgICAgIGRhdGE6IHsKICAgICAgICBsYWJlbHM6IFswXSwKICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgIGRhdGE6IFswXSwKICAgICAgICAgIGJvcmRlckNvbG9yOiAiIzNlOTVjZCIsCiAgICAgICAgICBib3JkZXJXaWR0aDogMywKICAgICAgICAgIGZpbGw6IGZhbHNlLAogICAgICAgICAgc2hvd0xpbmU6IGZhbHNlCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgb3B0aW9uczogewogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgdGV4dDogJycKICAgICAgICB9LAogICAgICAgIHRvb2x0aXBzOiB7CiAgICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSwKICAgICAgICBhc3BlY3RSYXRpbzogMS41LAogICAgICAgIHNjYWxlczogewogICAgICAgICAgeUF4ZXM6IFt7CiAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgIGZpeGVkU3RlcFNpemU6IDEsCiAgICAgICAgICAgIHNjYWxlTGFiZWw6IHsKICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiAnTGFiZWwgUXVhbnRpdHknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsCiAgICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICAgIHBhZGRpbmc6IDI1LAogICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayh2YWx1ZSkgewogICAgICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9XSwKICAgICAgICAgIHhBeGVzOiBbewogICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICBzY2FsZUxhYmVsOiB7CiAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJ1RpbWUgKG1tOnNzKScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGlja3M6IHsKICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZSwKICAgICAgICAgICAgICBtaW5Sb3RhdGlvbjogMzAsCiAgICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhtaWxsaXNlY29uZHMpIHsKICAgICAgICAgICAgICAgIGlmIChtaWxsaXNlY29uZHMgPj0gMzYwMDAwMCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWlsbGlzZWNvbmRzKS50b0lTT1N0cmluZygpLnN1YnN0cigxMSwgMTIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gZHJvcCBob3VycyBwb3J0aW9uIGlmIHRpbWUgaXMgbGVzcyB0aGFuIDEgaG91cgogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWlsbGlzZWNvbmRzKS50b0lTT1N0cmluZygpLnN1YnN0cigxNCwgOSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIFRPRE86IHNldCBjaGFydCBhbmQgY2FudmFzIHdpZHRoIGVxdWFsIHRvIHZpZGVvIHBsYXllciB3aWR0aAogICAgICAvLyBUT0RPOiBtYWtlIGNvbHVtbnMgcmVzaXplIGVxdWFsbHkgd2hlbiByZXNpemluZyB3aW5kb3cKICAgICAgLy8gVXBkYXRlIGNhbnZhcyBzaXplIHdoZW4gd2luZG93IGlzIHJlc2l6ZWQKICAgICAgdmFyIGNoYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmVDaGFydCcpOwogICAgICB2YXIgY2FudmFzX292ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVydGljYWxMaW5lQ2FudmFzJyk7CiAgICAgIGNhbnZhc19vdmVybGF5LndpZHRoID0gY2hhcnQud2lkdGg7CiAgICAgIGNhbnZhc19vdmVybGF5LmhlaWdodCA9IGNoYXJ0LmhlaWdodDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7CiAgICAgIHZhciBjYW52YXNfb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJ0aWNhbExpbmVDYW52YXMnKTsKICAgICAgaWYgKGNhbnZhc19vdmVybGF5KSB7CiAgICAgICAgdmFyIGNoYXJ0X3dpZHRoID0gdGhpcy5jaGFydC5jaGFydC5jaGFydEFyZWEucmlnaHQgLSB0aGlzLmNoYXJ0LmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0OwogICAgICAgIHZhciBjaGFydF9sZWZ0ID0gdGhpcy5jaGFydC5jaGFydC5jaGFydEFyZWEubGVmdDsKICAgICAgICAvLyBJZ25vcmUgY2xpY2tzIHRoYXQgYXJlIG9uIHRoZSBjaGFydCBidXQgdG8gdGhlIGxlZnQgb2YgdGhlIHktYXhpcwogICAgICAgIGlmIChldmVudC5vZmZzZXRYIDwgY2hhcnRfbGVmdCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kdXJhdGlvbiA+IDApIHsKICAgICAgICAgIC8vIENhbGN1bGF0ZSBjbGljayBwb3NpdGlvbiBhcyBhIHBlcmNlbnRhZ2Ugb2YgY2hhcnQgd2lkdGgsIHRvIDEvMTB0aCBwcmVjaXNpb24uCiAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKGV2ZW50Lm9mZnNldFggLSBjaGFydF9sZWZ0KSAvIGNoYXJ0X3dpZHRoICogMTAwMCkgLyAxMDsKICAgICAgICAgIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lKHRoaXMuZHVyYXRpb24gKiBwZXJjZW50YWdlIC8gMTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXREdXJhdGlvbjogZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7CiAgICAgIC8vIEdldCB0aGUgZHVyYXRpb24gZm9yIHRoZSB2aWRlbyBwbGF5ZXIgc291cmNlCiAgICAgIGlmICh0aGlzLnBsYXllcikgewogICAgICAgIHRoaXMucGxheWVyLm9uKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLnBsYXllci5kdXJhdGlvbigpOwogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRUaW1lVXBkYXRlOiBmdW5jdGlvbiBnZXRUaW1lVXBkYXRlKCkgewogICAgICAvLyBTZW5kIGN1cnJlbnQgdGltZSBwb3NpdGlvbiBmb3IgdGhlIHZpZGVvIHBsYXllciB0byB2ZXJ0aWNhbExpbmVDYW52YXMKICAgICAgdmFyIGxhc3RfcG9zaXRpb24gPSAwOwogICAgICBpZiAodGhpcy5wbGF5ZXIpIHsKICAgICAgICB0aGlzLnBsYXllci5vbigndGltZXVwZGF0ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBjdXJyZW50X3Bvc2l0aW9uID0gTWF0aC5yb3VuZCh0aGlzLnBsYXllci5jdXJyZW50VGltZSgpIC8gdGhpcy5wbGF5ZXIuZHVyYXRpb24oKSAqIDEwMDApOwogICAgICAgICAgaWYgKGN1cnJlbnRfcG9zaXRpb24gIT09IGxhc3RfcG9zaXRpb24pIHsKICAgICAgICAgICAgdGhpcy5kcmF3VmVydGljbGVMaW5lKGN1cnJlbnRfcG9zaXRpb24gLyAxMDAwKTsKICAgICAgICAgICAgbGFzdF9wb3NpdGlvbiA9IGN1cnJlbnRfcG9zaXRpb247CiAgICAgICAgICB9CiAgICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfSwKICAgIHJlbmRlckxpbmVDaGFydDogZnVuY3Rpb24gcmVuZGVyTGluZUNoYXJ0KCkgewogICAgICB2YXIgbGVuZ3RoT2ZWaWRlbyA9IHRoaXMuZHVyYXRpb247CiAgICAgIHZhciBkYXRhID0gdGhpcy5jaGFydF90dXBsZXM7CiAgICAgIHZhciBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluZUNoYXJ0Jyk7CiAgICAgIHRoaXMuY2hhcnRDb25maWcub3B0aW9ucy50aXRsZS50ZXh0ID0gdGhpcy5zZWxlY3RlZF9sYWJlbCA/IHRoaXMuc2VsZWN0ZWRfbGFiZWwgKyAiIChpbnN0YW5jZXMgLyBzZWMpIiA6ICJUb3RhbCBMYWJlbHMgKGluc3RhbmNlcyAvIHNlYykiOwogICAgICBpZiAodGhpcy5jaGFydCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5jaGFydCA9IG5ldyBDaGFydChjdHgsIHsKICAgICAgICAgIHR5cGU6IHRoaXMuY2hhcnRDb25maWcudHlwZSwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9XQogICAgICAgICAgfSwKICAgICAgICAgIG9wdGlvbnM6IHRoaXMuY2hhcnRDb25maWcub3B0aW9ucwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hhcnQub3B0aW9ucy50aXRsZS50ZXh0ID0gdGhpcy5zZWxlY3RlZF9sYWJlbCA/IHRoaXMuc2VsZWN0ZWRfbGFiZWwgKyAiIChpbnN0YW5jZXMgLyBzZWMpIiA6ICJUb3RhbCBMYWJlbHMgKGluc3RhbmNlcyAvIHNlYykiOwogICAgICAgIGlmIChsZW5ndGhPZlZpZGVvKSB7CiAgICAgICAgICB0aGlzLmNoYXJ0Lm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnRpY2tzLm1heCA9IGxlbmd0aE9mVmlkZW8gKiAxMDAwOwogICAgICAgIH0KICAgICAgICBpZiAobGVuZ3RoT2ZWaWRlbyA+IDM2MDApIHsKICAgICAgICAgIHRoaXMuY2hhcnQub3B0aW9ucy5zY2FsZXMueEF4ZXNbMF0uc2NhbGVMYWJlbC5sYWJlbFN0cmluZyA9ICJUaW1lIChoaDptbTpzcykiOwogICAgICAgIH0KICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YSA9IG51bGw7CiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMuY2hhcnQubGluZUF0SW5kZXggPSAuMjU7CiAgICAgICAgdGhpcy5jaGFydC51cGRhdGUoKTsKICAgICAgfQogICAgICAvLyBQbGFjZSBjYW52YXMgb3ZlciBsaW5lIGNoYXJ0CiAgICAgIHZhciBjYW52YXNfb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJ0aWNhbExpbmVDYW52YXMnKTsKICAgICAgY2FudmFzX292ZXJsYXkud2lkdGggPSB0aGlzLmNoYXJ0LndpZHRoOwogICAgICBjYW52YXNfb3ZlcmxheS5oZWlnaHQgPSB0aGlzLmNoYXJ0LmhlaWdodDsKICAgIH0sCiAgICBkcmF3VmVydGljbGVMaW5lOiBmdW5jdGlvbiBkcmF3VmVydGljbGVMaW5lKHBvc2l0aW9uKSB7CiAgICAgIHZhciBjYW52YXNfb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJ0aWNhbExpbmVDYW52YXMnKTsKICAgICAgaWYgKCFjYW52YXNfb3ZlcmxheSkgcmV0dXJuOwogICAgICB2YXIgY3R4ID0gY2FudmFzX292ZXJsYXkuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgaWYgKCFjdHggfHwgIXRoaXMuY2hhcnQpIHJldHVybjsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5jaGFydC5zY2FsZXNbJ3ktYXhpcy0xJ107CiAgICAgIHZhciBsaW5lTGVmdE9mZnNldCA9ICh0aGlzLmNoYXJ0LmNoYXJ0LmNoYXJ0QXJlYS5yaWdodCAtIHRoaXMuY2hhcnQuY2hhcnQuY2hhcnRBcmVhLmxlZnQpICogcG9zaXRpb24gKyB0aGlzLmNoYXJ0LmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0OwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhc19vdmVybGF5LndpZHRoLCBjYW52YXNfb3ZlcmxheS5oZWlnaHQpOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZmYwMDAwJzsKICAgICAgY3R4Lm1vdmVUbyhsaW5lTGVmdE9mZnNldCwgc2NhbGUudG9wKTsKICAgICAgY3R4LmxpbmVUbyhsaW5lTGVmdE9mZnNldCwgc2NhbGUuYm90dG9tICsgMTApOwogICAgICBjdHguc3Ryb2tlKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","Chart","Loading","name","components","data","duration","undefined","chartConfig","chart","isBusy","computed","_objectSpread","watch","chart_tuples","renderLineChart","player","getDuration","getTimeUpdate","deactivated","console","log","operator","Object","activated","beforeDestroy","mounted","type","labels","datasets","borderColor","borderWidth","fill","showLine","options","legend","display","title","text","tooltips","enabled","responsive","maintainAspectRatio","aspectRatio","scales","yAxes","fixedStepSize","scaleLabel","labelString","ticks","beginAtZero","min","padding","callback","value","Math","floor","xAxes","minRotation","milliseconds","Date","toISOString","substr","window","addEventListener","document","getElementById","canvas_overlay","width","height","methods","handleClick","event","chart_width","chartArea","right","left","chart_left","offsetX","percentage","round","currentTime","on","bind","last_position","current_position","drawVerticleLine","lengthOfVideo","ctx","selected_label","max","lineAtIndex","update","position","getContext","scale","lineLeftOffset","clearRect","beginPath","strokeStyle","moveTo","top","lineTo","bottom","stroke"],"sources":["src/components/LineChart.vue"],"sourcesContent":["<template>\n  <b-container>\n    <div v-if=\"isBusy\">\n      <Loading />\n    </div>\n    <div v-else>\n      <div id=\"container\">\n        <canvas id=\"lineChart\" @click=\"handleClick\"></canvas>\n        <canvas id=\"verticalLineCanvas\" class=\"canvas\"></canvas>\n      </div>\n    </div>\n  </b-container>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  import Chart from 'chart.js';\n  import Loading from '@/components/Loading.vue'\n\n  export default {\n    name: \"LineChart\",\n    components: {\n      Loading\n    },\n    data() {\n      return {\n        duration: undefined,\n        chartConfig: {},\n        chart: undefined,\n        isBusy: false\n      }\n    },\n    computed: {\n      ...mapState(['chart_tuples', 'selected_label', 'player']),\n    },\n    watch: {\n      chart_tuples: function() {\n        this.renderLineChart();\n      },\n      player: function() {\n        this.getDuration();\n        this.getTimeUpdate();\n        this.renderLineChart();\n      },\n    },\n    deactivated: function () {\n      console.log('deactivated component:', this.operator);\n      this.chart = Object\n    },\n    activated: function () {\n      console.log('activated component:', this.operator)\n    },\n    beforeDestroy: function () {\n      this.chart = Object\n    },\n    mounted: function () {\n      this.chartConfig = {\n        type: 'scatter',\n        data: {\n          labels: [0],\n          datasets: [{\n            data: [0],\n            borderColor: \"#3e95cd\",\n            borderWidth: 3,\n            fill: false,\n            showLine: false\n          }]\n        },\n        options: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: ''\n          },\n          tooltips: {\n            enabled: false\n          },\n          responsive: true,\n          maintainAspectRatio: false,\n          aspectRatio: 1.5,\n          scales: {\n            yAxes: [{\n              display: true,\n              fixedStepSize: 1,\n              scaleLabel: {\n                display: true,\n                labelString: 'Label Quantity'\n              },\n              ticks: {\n                beginAtZero: true,\n                min: 0,\n                padding: 25,\n                callback: function(value) {\n                  if (Math.floor(value) === value) {\n                    return value;\n                  }\n                }\n              }\n            }],\n            xAxes: [{\n              display: true,\n              scaleLabel: {\n                display: true,\n                labelString: 'Time (mm:ss)'\n              },\n              ticks: {\n                beginAtZero: true,\n                minRotation: 30,\n                min: 0,\n                callback: function(milliseconds) {\n                  if (milliseconds >= 3600000) {\n                    return new Date(milliseconds).toISOString().substr(11, 12);\n                  } else {\n                    // drop hours portion if time is less than 1 hour\n                    return new Date(milliseconds).toISOString().substr(14, 9);\n                  }\n                }\n              }\n            }]\n          },\n        }\n      };\n      window.addEventListener('resize', function () {\n        // TODO: set chart and canvas width equal to video player width\n        // TODO: make columns resize equally when resizing window\n        // Update canvas size when window is resized\n        var chart = document.getElementById('lineChart');\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        canvas_overlay.width=chart.width;\n        canvas_overlay.height=chart.height;\n\n      });\n    },\n    methods: {\n      handleClick(event) {\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        if (canvas_overlay){\n          const chart_width = this.chart.chart.chartArea.right - this.chart.chart.chartArea.left;\n          const chart_left = this.chart.chart.chartArea.left;\n          // Ignore clicks that are on the chart but to the left of the y-axis\n          if (event.offsetX < chart_left) {\n            return\n          }\n          if (this.duration > 0) {\n            // Calculate click position as a percentage of chart width, to 1/10th precision.\n            const percentage = Math.round((event.offsetX - chart_left) / chart_width * 1000) / 10;\n            this.player.currentTime(this.duration * percentage / 100)\n          }\n        }\n      },\n      getDuration() {\n        // Get the duration for the video player source\n        if (this.player) {\n          this.player.on('loadedmetadata', function () {\n            this.duration = this.player.duration();\n          }.bind(this));\n        }\n      },\n      getTimeUpdate() {\n        // Send current time position for the video player to verticalLineCanvas\n        var last_position = 0;\n        if (this.player) {\n          this.player.on('timeupdate', function () {\n            const current_position = Math.round(this.player.currentTime() / this.player.duration() * 1000);\n            if (current_position !== last_position) {\n              this.drawVerticleLine(current_position/1000);\n              last_position = current_position;\n            }\n          }.bind(this));\n        }\n      },\n      renderLineChart() {\n        const lengthOfVideo = this.duration;\n        const data = this.chart_tuples;\n        const ctx = document.getElementById('lineChart');\n        this.chartConfig.options.title.text = this.selected_label ? this.selected_label + \" (instances / sec)\" : \"Total Labels (instances / sec)\";\n        if (this.chart === undefined) {\n          this.chart = new Chart(ctx, {\n            type: this.chartConfig.type,\n            data: {\n              datasets: [{\n                data: data\n              }]\n            },\n            options: this.chartConfig.options,\n          });\n        } else {\n          this.chart.options.title.text = this.selected_label ? this.selected_label + \" (instances / sec)\" : \"Total Labels (instances / sec)\";\n          if (lengthOfVideo) {\n            this.chart.options.scales.xAxes[0].ticks.max = lengthOfVideo*1000;\n          }\n          if (lengthOfVideo > 3600) {\n            this.chart.options.scales.xAxes[0].scaleLabel.labelString = \"Time (hh:mm:ss)\";\n          }\n\n          this.chart.data.datasets[0].data = null;\n          this.chart.data.datasets[0].data = data;\n          this.chart.lineAtIndex = .25;\n          this.chart.update();\n        }\n        // Place canvas over line chart\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        canvas_overlay.width=this.chart.width;\n        canvas_overlay.height=this.chart.height;\n      },\n      drawVerticleLine(position) {\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        if (!canvas_overlay) return;\n        var ctx = canvas_overlay.getContext('2d');\n        if (!ctx || !this.chart) return;\n        var scale = this.chart.scales['y-axis-1'];\n        var lineLeftOffset = (this.chart.chart.chartArea.right - this.chart.chart.chartArea.left) * position + this.chart.chart.chartArea.left;\n        ctx.clearRect(0, 0, canvas_overlay.width, canvas_overlay.height);\n        ctx.beginPath();\n        ctx.strokeStyle = '#ff0000';\n        ctx.moveTo(lineLeftOffset, scale.top);\n        ctx.lineTo(lineLeftOffset, scale.bottom+10);\n        ctx.stroke();\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #container { position: relative; }\n  .canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}