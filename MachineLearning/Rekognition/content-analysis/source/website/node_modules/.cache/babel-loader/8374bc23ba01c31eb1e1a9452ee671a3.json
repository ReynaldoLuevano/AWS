{"remainingRequest":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/ComprehendKeyPhrases.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/src/components/ComprehendKeyPhrases.vue","mtime":1759685740382},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/babel.config.js","mtime":1759685740381},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1759686089126},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/babel-loader/lib/index.js","mtime":1759686089251},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1759686089217},{"path":"/home/reynaldo/Documents/AWS/MachineLearning/Rekognition/content-analysis-on-aws/source/website/node_modules/vue-loader/lib/index.js","mtime":1759686084280}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcmV5bmFsZG8vRG9jdW1lbnRzL0FXUy9NYWNoaW5lTGVhcm5pbmcvUmVrb2duaXRpb24vY29udGVudC1hbmFseXNpcy1vbi1hd3Mvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9yZXluYWxkby9Eb2N1bWVudHMvQVdTL01hY2hpbmVMZWFybmluZy9SZWtvZ25pdGlvbi9jb250ZW50LWFuYWx5c2lzLW9uLWF3cy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZy52dWUnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIktleVBocmFzZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBDb25maWRlbmNlOiA5MCwKICAgICAgc29ydEJ5OiAiQmVnaW5PZmZzZXQiLAogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAnUGhyYXNlVGV4dCcsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdDb25maWRlbmNlJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAnQmVnaW5PZmZzZXQnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdFbmRPZmZzZXQnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH1dLAogICAgICBrZXlfcGhyYXNlczogW10sCiAgICAgIGlzQnVzeTogZmFsc2UsCiAgICAgIG9wZXJhdG9yOiAia2V5X3BocmFzZXMiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsncGxheWVyJ10pKSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnZGVhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogICAgLy8gY2xlYXJpbmcgdGhpcyB2YWx1ZSBhZnRlciBldmVyeSBkZWFjdGl2YXRpb24gc28gd2UgZG9udCBjYXJyeSB0aGlzIGh1Z2UgYW1vdW50IG9mIGRhdGEgaW4gbWVtb3J5CiAgICB0aGlzLmtleV9waHJhc2VzID0gW107CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogICAgdGhpcy5mZXRjaEFzc2V0RGF0YSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMua2V5X3BocmFzZXMgPSBbXTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUNvbmZpZGVuY2U6IGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZGVuY2UoZXZlbnQpIHsKICAgICAgdGhpcy5pc0J1c3kgPSB0cnVlOwogICAgICB0aGlzLmtleV9waHJhc2VzID0gW107CiAgICAgIHRoaXMuQ29uZmlkZW5jZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgdGhpcy5mZXRjaEFzc2V0RGF0YSgpOwogICAgfSwKICAgIGZldGNoQXNzZXREYXRhOiBmdW5jdGlvbiBmZXRjaEFzc2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHF1ZXJ5LCBhcGlOYW1lLCBwYXRoLCBhcGlQYXJhbXMsIHJlc3BvbnNlLCByZXN1bHQsIGRhdGEsIGksIGxlbjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Lm4pIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHF1ZXJ5ID0gJ0Fzc2V0SWQ6JyArIF90aGlzLiRyb3V0ZS5wYXJhbXMuYXNzZXRfaWQgKyAnIENvbmZpZGVuY2U6PicgKyBfdGhpcy5Db25maWRlbmNlICsgJyBfaW5kZXg6bWlla2V5X3BocmFzZXMnOwogICAgICAgICAgICAgIGFwaU5hbWUgPSAnY29udGVudEFuYWx5c2lzRWxhc3RpY3NlYXJjaCc7CiAgICAgICAgICAgICAgcGF0aCA9ICcvX3NlYXJjaCc7CiAgICAgICAgICAgICAgYXBpUGFyYW1zID0gewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcXVlcnlTdHJpbmdQYXJhbWV0ZXJzOiB7CiAgICAgICAgICAgICAgICAgICdxJzogcXVlcnksCiAgICAgICAgICAgICAgICAgICdkZWZhdWx0X29wZXJhdG9yJzogJ0FORCcsCiAgICAgICAgICAgICAgICAgICdzaXplJzogMTAwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kQW1wbGlmeS5BUEkuZ2V0KGFwaU5hbWUsIHBhdGgsIGFwaVBhcmFtcyk7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnY7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uID0gMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpcy5zaG93RWxhc3RpY1NlYXJjaEFsZXJ0ID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnY7CiAgICAgICAgICAgICAgZGF0YSA9IHJlc3VsdC5oaXRzLmhpdHM7CiAgICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICAgICAgX3RoaXMua2V5X3BocmFzZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICJQaHJhc2VUZXh0IjogZGF0YVtpXS5fc291cmNlLlBocmFzZVRleHQsCiAgICAgICAgICAgICAgICAgICJDb25maWRlbmNlIjogZGF0YVtpXS5fc291cmNlLkNvbmZpZGVuY2UsCiAgICAgICAgICAgICAgICAgICJCZWdpbk9mZnNldCI6IGRhdGFbaV0uX3NvdXJjZS5CZWdpbk9mZnNldCwKICAgICAgICAgICAgICAgICAgIkVuZE9mZnNldCI6IGRhdGFbaV0uX3NvdXJjZS5FbmRPZmZzZXQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Loading","mapState","name","components","data","Confidence","sortBy","fields","key","sortable","key_phrases","isBusy","operator","computed","_objectSpread","deactivated","console","log","activated","fetchAssetData","beforeDestroy","methods","updateConfidence","event","target","value","_this","_asyncToGenerator","_regenerator","m","_callee","query","apiName","path","apiParams","response","result","i","len","w","_context","n","$route","params","asset_id","headers","queryStringParameters","$Amplify","API","get","v","showElasticSearchAlert","hits","length","push","_source","PhraseText","BeginOffset","EndOffset","a"],"sources":["src/components/ComprehendKeyPhrases.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"wrapper\">\n      Confidence Threshold<br>\n      <input\n        type=\"range\"\n        value=\"90\"\n        min=\"55\"\n        max=\"99\"\n        step=\"1\"\n        @click=\"updateConfidence\"\n      >\n      {{ Confidence }}%<br>\n    </div>\n    <div\n      v-if=\"isBusy\"\n      class=\"wrapper\"\n    >\n      <Loading />\n    </div>\n    <div\n      v-else\n      class=\"wrapper\"\n    >\n      <b-table\n        responsive\n        fixed\n        :items=\"key_phrases\"\n        :fields=\"fields\"\n        :sort-by=\"sortBy\"\n      >\n        <template #cell(Confidence)=\"data\">\n          {{ (data.item.Confidence * 1).toFixed(2) }}\n        </template>\n      </b-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from '@/components/Loading.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"KeyPhrases\",\n  components: {\n    Loading\n  },\n  data() {\n    return {\n      Confidence: 90,\n      sortBy: \"BeginOffset\",\n      fields: [\n        { key: 'PhraseText', sortable: false },\n        { key: 'Confidence', sortable: true },\n        { key: 'BeginOffset', sortable: true },\n        { key: 'EndOffset', sortable: true },\n      ],\n      key_phrases: [],\n      isBusy: false,\n      operator: \"key_phrases\"\n    }\n  },\n  computed: {\n    ...mapState(['player']),\n  },\n  deactivated: function () {\n    console.log('deactivated component:', this.operator);\n    // clearing this value after every deactivation so we dont carry this huge amount of data in memory\n    this.key_phrases = []\n  },\n  activated: function () {\n    console.log('activated component:', this.operator);\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n    this.key_phrases = []\n  },\n  methods: {\n    updateConfidence (event) {\n        this.isBusy = true;\n        this.key_phrases = [];\n        this.Confidence = event.target.value;\n        this.fetchAssetData()\n    },\n    async fetchAssetData () {\n      let query = 'AssetId:'+this.$route.params.asset_id+' Confidence:>'+this.Confidence+' _index:miekey_phrases';\n      let apiName = 'contentAnalysisElasticsearch';\n      let path = '/_search';\n      let apiParams = {\n        headers: {'Content-Type': 'application/json'},\n        queryStringParameters: {'q': query, 'default_operator': 'AND', 'size': 10000}\n      };\n      let response = await this.$Amplify.API.get(apiName, path, apiParams);\n      if (!response) {\n        this.showElasticSearchAlert = true\n      }\n      else {\n        let result = await response;\n        let data = result.hits.hits;\n        for (let i = 0, len = data.length; i < len; i++) {\n          this.key_phrases.push({ \"PhraseText\": data[i]._source.PhraseText, \"Confidence\": data[i]._source.Confidence, \"BeginOffset\": data[i]._source.BeginOffset, \"EndOffset\": data[i]._source.EndOffset})\n        }\n        this.isBusy = false\n      }\n    }\n  }\n}\n</script>\n"],"mappings":"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","ignoreList":[]}]}