(function(e){function t(t){for(var a,o,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},s=[];function o(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e5b70":"027625fc","chunk-2d225b5b":"1b4b202c","chunk-2d2374d9":"ca767e96","chunk-8058ea62":"f6509e18","chunk-05682929":"e00f7db6","chunk-1d10fd4a":"0e36bf4c","chunk-24df1537":"932ee925","chunk-2d0c5b53":"f4dc7a2b","chunk-2d2302c3":"9a781fb8","chunk-38fd0fae":"f260ddfd","chunk-597df2c4":"5848875d","chunk-f0ceb560":"4d91bb53"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.sriHashes={"chunk-2d0e5b70":"sha256-ghMdQl8CbiQbm/uNOomLdAWhDXoFT7VwMkt1MKN9PJw= sha384-RdRs0mvpEmnAwjmB5SPaEh1ZPkF9DQ7cTdF4cyKXs53pVXjPz/VWq9Y1RZuTOllI","chunk-2d225b5b":"sha256-7awxJC9JLzf+ROsd3sO2EUPUrcF0KnB6RN46GASBVVg= sha384-vGY+xVKlCSF0vZM/YS9dyVz9T9kIuLcIKCZ9FQB2Ui8f89Ldpk/GYgBulWg3Bp2c","chunk-2d2374d9":"sha256-zjpCgYGuQ6gOGDWojAgsHwpZxuxwHEAUeTwQaSwr2u4= sha384-vadIJmLBu0OnBvokzOlLO8jpAMhLBnb52rge75LjYny+qdFkuickRC0p9a873iKf","chunk-8058ea62":"sha256-OUFbir36Y+EzrinG8fBlcVNy+eYSnEYpuu+QZTzgJ6c= sha384-Vxp8bTqg1LuDlpe3dJc4AvuTLAq3ZnodQ8uRCmg3FV9K4fEghfp/38TqzHBoWp1I","chunk-24df1537":"sha256-jvZ4umRkffHkb2z+JJIVBk9DSY3j3DBZ8DikAcVvs9o= sha384-61xTqbbUxfLgk6P3Vslh+526GUN8zk212HOxgtyGN66HGAIh5+YKNZWwb58pTT7C","chunk-1d10fd4a":"sha256-GDbWQdhT6/jHUvJOAkr6xv4QHKReFXIHOGoa5bZLtPc= sha384-fce1FEBv+IzNM+YkyIeNsuWjpyjUw0gnrnoCZWqUofAU8m6bzcyuWkSppUK1fgqu","chunk-597df2c4":"sha256-0r0vTKCwrbAos6VCKwv/3cCwJaASiHee7EO7BGpnNh0= sha384-x2dMATKOykeiy78YivP24m03zOHHDXAow9kUHiCTiJ5Cw0uPYs9dsi7JOKyZ48rs","chunk-2d0c5b53":"sha256-bhiA0vCJcscWvjzMF4qVBOVrqfGc1WjJEToICgOhf48= sha384-dMDeCG9/Byhqg1+eGYLrJ0TegET3LIn0l1gRgVAy2IDi3XaP3YM15z45Hj84sl5T","chunk-2d2302c3":"sha256-PMGzYFEVlpQmQEBGdu4ifizFDFo3Y9hRnOpd4qCv6L0= sha384-tWdIeDajHBBckZvz8oEj2KNaTfVtzxiImB2Lq3D7cE1hvGvXXuT2+7ZnrEIyfzEO","chunk-38fd0fae":"sha256-2Z4gbqFDxIoPHRLIHn+yW/tofnyEIp7z/NnrigCSlf4= sha384-he0ILFrYb4WCk4GRhub/B0WV6A2UvrHqE+a+7zA+HHX+/RnnZREDlKX1Y7ePozJk","chunk-05682929":"sha256-q7S+GrUj5cX/xjYK+0kBt41vdw99+MVgRvE0E6rHUP4= sha384-vpSfURtjqErdvLAgaBWlx/zda0HoNi7gam/YId8YXMlhsTjFL8/btMC+kAUR1Pdx","chunk-f0ceb560":"sha256-fDzqZ/LPIEMt5PrPCjKbTqO6fRJAKvdhI4dRe8ZEgpQ= sha384-veNfigTk88zIX/OE4E7KCBRsUW6trrhmsnqT093XvutfC6cTg3gd4xEq3JRXb5I4"},r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(e),0!==l.src.indexOf(window.location.origin+"/")&&(l.crossOrigin="anonymous");var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",c.name="ChunkLoadError",c.type=a,c.request=s,n[1](c)}i[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,l.integrity=r.sriHashes[e],l.crossOrigin="anonymous",document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"007a":function(e,t,n){"use strict";n("1559")},"023d":function(e,t,n){"use strict";n("fa58")},"0bc4":function(e,t,n){"use strict";n("2f1c")},1:function(e,t){},1264:function(e,t,n){},1559:function(e,t,n){},2:function(e,t){},"2f1c":function(e,t,n){},3:function(e,t){},"30ee":function(e,t,n){},"38c3":function(e,t,n){},3974:function(e,t,n){"use strict";n("7495")},"3a5e":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-container",[n("b-spinner",{attrs:{label:"Loading..."}})],1)],1)},i=[],s={name:"Loading"},o=s,r=n("2877"),l=Object(r["a"])(o,a,i,!1,null,null,null);t["a"]=l.exports},4105:function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=s,e.exports=i,i.id="4678"},4703:function(e,t,n){"use strict";n("1264")},"4f9b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("c14f"),i=n("1da1"),s=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e9c4"),n("d3b7"),n("2b0e")),o=n("998c"),r=n.n(o),l=n("5f5b"),c=(n("f9e3"),n("2dd8"),n("66c4"),n("2c43"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),u=[],d=(n("3974"),n("2877")),h={},p=Object(d["a"])(h,c,u,!1,null,null,null),f=p.exports,m=n("2f62"),b={player:null,markers:[],display_asset_id:"",chart_tuples:[],selected_label:"",execution_history:[],current_time:0},v={updateAssetId:function(e,t){e.display_asset_id=t},updatePlayer:function(e,t){e.player=t},updateTimeseries:function(e,t){e.chart_tuples=t},updateCurrentTime:function(e,t){e.current_time=t},updateSelectedLabel:function(e,t){e.selected_label=t},updateExecutedAssets:function(e,t){e.execution_history=t}},g={},_=n("0e44");s["default"].use(m["a"]);var w=new m["a"].Store({state:b,mutations:v,actions:g,plugins:[Object(_["a"])({paths:["execution_history"]})]}),y=(n("0643"),n("9a9a"),n("8c4f")),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("b-container",{attrs:{fluid:""}},[n("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:e.showElasticSearchAlert,callback:function(t){e.showElasticSearchAlert=t},expression:"showElasticSearchAlert"}},[e._v("\n      Elasticsearch server denied access. Please check its access policy.\n    ")]),n("b-row",{staticClass:"dataColumns"},[n("b-col",[n("div",[n("b-row",{attrs:{"align-h":"center"}},[n("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[n("b-tab",{attrs:{title:"ML Vision",active:""},on:{click:function(t){e.currentView="LabelObjects",e.mlTabs=0}}},[n("b-container",{attrs:{fluid:""}},[n("b-row",[n("div",[n("b-tabs",{attrs:{"content-class":"mt-3",fill:""},model:{value:e.mlTabs,callback:function(t){e.mlTabs=t},expression:"mlTabs"}},[n("b-tab",{attrs:{title:"Objects"},on:{click:function(t){e.currentView="LabelObjects"}}}),n("b-tab",{attrs:{title:"Celebrities"},on:{click:function(t){e.currentView="Celebrities"}}}),n("b-tab",{attrs:{title:"Moderation"},on:{click:function(t){e.currentView="ContentModeration"}}}),n("b-tab",{attrs:{title:"Faces"},on:{click:function(t){e.currentView="FaceDetection"}}}),n("b-tab",{attrs:{title:"Words"},on:{click:function(t){e.currentView="TextDetection"}}}),"image"!==e.mediaType?n("b-tab",{attrs:{title:"Cues"},on:{click:function(t){e.currentView="TechnicalCues"}}}):e._e(),"image"!==e.mediaType?n("b-tab",{attrs:{title:"Shots"},on:{click:function(t){e.currentView="ShotDetection"}}}):e._e()],1)],1)])],1)],1),"image"!==e.mediaType?n("b-tab",{attrs:{title:"Speech Recognition"},on:{click:function(t){e.currentView="Transcript",e.speechTabs=0}}},[n("b-tabs",{attrs:{"content-class":"mt-3",fill:""},model:{value:e.speechTabs,callback:function(t){e.speechTabs=t},expression:"speechTabs"}},[n("b-tab",{attrs:{title:"Transcript"},on:{click:function(t){e.currentView="Transcript"}}}),n("b-tab",{attrs:{title:"Translation"},on:{click:function(t){e.currentView="Translation"}}}),n("b-tab",{attrs:{title:"KeyPhrases"},on:{click:function(t){e.currentView="KeyPhrases"}}}),n("b-tab",{attrs:{title:"Entities"},on:{click:function(t){e.currentView="Entities"}}})],1)],1):e._e()],1)],1)],1),n("div",[n("keep-alive",[n(e.currentView,{tag:"component",attrs:{mediaType:e.mediaType}})],1)],1)]),n("b-col",["image"===e.mediaType?n("div",[""===e.videoOptions.sources[0].src?n("div",[n("Loading")],1):n("div",[n("ImageFeature",{attrs:{options:e.videoOptions}})],1)]):n("div",[""===e.videoOptions.sources[0].src?n("div",[n("Loading")],1):n("div",[n("VideoPlayer",{attrs:{options:e.videoOptions}}),"ShotDetection"===e.currentView||"TechnicalCues"===e.currentView?n("div",[n("br")]):n("div",[n("LineChart")],1)],1)]),n("div",[n("b-row",{staticClass:"mediaSummary"},[n("MediaSummaryBox",{attrs:{s3Uri:e.s3_uri,filename:e.filename,videoUrl:e.videoOptions.sources[0].src,mediaType:e.mediaType}})],1)],1)])],1)],1)],1)},A=[],j=n("5530"),x=(n("caad"),n("a15b"),n("fb6a"),n("ac1f"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-brand",{attrs:{to:"/"}},[e._v("\n      AWS Content Analysis\n    ")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{class:{active:e.isUploadActive},attrs:{to:"/upload"}},[e._v("\n          Upload\n        ")]),n("b-nav-item",{class:{active:e.isCollectionActive},attrs:{to:"/collection"}},[e._v("\n          Collection\n        ")]),n("b-nav-item",{attrs:{href:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.openWindow("https://github.com/awslabs/aws-media-insights-engine/blob/master/IMPLEMENTATION_GUIDE.md")}}},[e._v("\n          Help\n        ")]),e.signedIn?n("b-nav-item",{on:{click:function(t){return e.signOut()}}},[n("p",{attrs:{id:"signOutBtn"}},[e._v("\n            Sign Out\n          ")])]):e._e()],1)],1)],1),n("br")],1)}),O=[],E=n("19b2"),S={name:"Header",props:["isCollectionActive","isUploadActive"],data:function(){return{signedIn:!1}},beforeCreate:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){return Object(a["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.$Amplify.Auth.currentAuthenticatedUser();case 1:e.signedIn=!0,t.n=3;break;case 2:t.p=2,t.v,e.signedIn=!1;case 3:E["AmplifyEventBus"].$on("authState",(function(t){e.signedIn="signedIn"===t}));case 4:return t.a(2)}}),t,null,[[0,2]])})))()},mounted:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:E["AmplifyEventBus"].$on("authState",(function(t){e.signedIn="signedOut"===t,e.$router.push({name:"Login"})}));case 1:return t.a(2)}}),t)})))()},methods:{openWindow:function(e){window.open(e,"noopener,noreferer")},signOut:function(){var e=this;this.$Amplify.Auth.signOut().then((function(){return e.$router.push({name:"Login"})})).catch((function(e){return console.log(e)}))}}},C=S,T=(n("dba0"),Object(d["a"])(C,x,O,!1,null,null,null)),z=T.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("video",{ref:"videoPlayer",staticClass:"video-js vjs-fluid vjs-default-skin",attrs:{id:"videoPlayer",width:"600",height:"300","data-setup":'{ "inactivityTimeout": 0 }',controls:"",playsinline:""}},[n("source",{attrs:{src:e.video_url,type:"video/mp4"}})]),n("canvas",{staticClass:"canvas",attrs:{id:"canvas"}})])},P=[],D=n("f0e2"),L=(n("fda2"),n("653c"),n("65bb"),n("1a7d"),{name:"VideoPlayer",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{video_url:"",player:null}},beforeDestroy:function(){this.player&&(this.player.dispose(),this.$store.commit("updatePlayer",null))},created:function(){this.video_url=this.options.sources[0].src},mounted:function(){var e=this;this.player=Object(D["default"])(this.$refs.videoPlayer,{playbackRates:[.5,1,1.5,2]}),this.player.ready((function(){e.player.hotkeys({volumeStep:.1,seekStep:1,enableVolumeScroll:!1,enableNumbers:!1,enableModifiersForNumbers:!1}),e.player.loop(!0),e.player.markers({breakOverlay:{display:!1},markerTip:{display:!0,text:function(e){return e.text}},markers:[]}),e.player.currentTime(2);var t=e;e.player.on("timeupdate",(function(){var e=this.currentTime();t.$store.commit("updateCurrentTime",e)})),e.$store.commit("updatePlayer",e.player)})),this.player.on("loadeddata",(function(){var e=document.getElementById("canvas"),t=document.getElementById("videoPlayer");e.width=t.clientWidth,e.height=t.clientHeight})),window.addEventListener("resize",(function(){console.log("resize");var e=document.getElementById("canvas"),t=document.getElementById("videoPlayer");e.width=t.clientWidth,e.height=t.clientHeight}))},beforeUpdate:function(){this.$store.commit("updatePlayer",this.player)}}),F=L,W=(n("94f4"),n("0bc4"),Object(d["a"])(F,I,P,!1,null,"977bcde8",null)),N=W.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-img",{attrs:{id:"imageFeature",fluid:"",src:e.image_url},on:{load:e.onImageLoad}}),n("canvas",{staticClass:"canvas",attrs:{id:"canvas"}})],1)},R=[],U={name:"ImageFeature",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{image_url:""}},beforeDestroy:function(){},created:function(){var e=this.options.sources[0].src;this.image_url=e},mounted:function(){window.addEventListener("resize",(function(){var e=document.getElementById("canvas"),t=document.getElementById("imageFeature");e.width=t.clientWidth,e.height=t.clientHeight}))},methods:{onImageLoad:function(){var e=document.getElementById("canvas"),t=document.getElementById("imageFeature");e.width=t.clientWidth,e.height=t.clientHeight}}},$=U,M=(n("007a"),Object(d["a"])($,B,R,!1,null,"323e4a3e",null)),V=M.exports,q=n("3a5e"),K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Uh oh, we were unable to retrieve all the selected data in time :( ")])},G=[],H={name:"ComponentLoadingError",data:function(){return{}}},J=H,Q=Object(d["a"])(J,K,G,!1,null,null,null),X=Q.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",{staticClass:"my-1",attrs:{"align-v":"center"}},[n("b-col",[n("label",[n("router-link",{attrs:{to:{name:"upload",query:{asset:e.$route.params.asset_id,mediaType:e.mediaType,s3key:e.s3Uri}}}},[e._v("Perform Additional Analysis")])],1),n("br"),n("label",[e._v("Asset ID:")]),e._v("\n      "+e._s(e.$route.params.asset_id)+"\n      "),n("br"),n("label",[e._v("Filename:Â ")]),n("a",{attrs:{href:e.videoUrl,rel:"noopener noreferrer",download:""}},[e._v("\n        "+e._s(e.filename)+"\n      ")]),n("br"),!1===e.isBusy?n("div",{staticClass:"wrapper"},[n("b-row",[n("b-col",["undefined"!==e.duration?n("div",[n("label",[e._v("Video duration:")]),e._v("\n              "+e._s(e.duration)+"\n            ")]):e._e(),"undefined"!==e.format?n("div",[n("label",[e._v("Video format:")]),e._v("\n              "+e._s(e.format)+"\n            ")]):e._e(),"undefined"!==e.file_size?n("div",[n("label",[e._v("Video file size:")]),e._v("\n              "+e._s(e.file_size)+" MB\n            ")]):e._e(),"undefined"!==e.overall_bit_rate?n("div",[n("label",[e._v("Video bit rate:")]),e._v("\n              "+e._s(e.overall_bit_rate)+" bps\n            ")]):e._e(),"undefined"!==e.frame_rate?n("div",[n("label",[e._v("Video frame rate:")]),e._v("\n              "+e._s(e.frame_rate)+" fps\n            ")]):e._e(),"undefined"!==e.width&&"undefined"!==e.height?n("div",[n("label",[e._v("Video resolution:")]),e._v("\n              "+e._s(e.width)+" x "+e._s(e.height)+"\n            ")]):e._e()]),n("b-col",["undefined"!==e.other_bit_rate?n("div",[n("label",[e._v("Audio bit rate:")]),e._v("\n              "+e._s(e.other_bit_rate)+"\n            ")]):e._e(),"undefined"!==e.other_sampling_rate?n("div",[n("label",[e._v("Audio sampling rate:")]),e._v("\n              "+e._s(e.other_sampling_rate)+"\n            ")]):e._e(),"undefined"!==e.other_language?n("div",[n("label",[e._v("Audio Language:")]),e._v("\n              "+e._s(e.other_language)+"\n            ")]):e._e(),"undefined"!==e.encoded_date?n("div",[n("label",[e._v("Encoded date:")]),e._v("\n              "+e._s(e.encoded_date)+"\n            ")]):e._e()])],1)],1):e._e()])],1)],1)},Z=[],ee=(n("4de4"),n("b680"),n("b64b"),n("2382"),{name:"MediaSummary",props:["s3Uri","filename","videoUrl","mediaType"],data:function(){return{duration:"undefined",elasticsearch_data:[],mediainfo_data:[],format:"undefined",file_size:"undefined",overall_bit_rate:"undefined",frame_rate:"undefined",width:"undefined",height:"undefined",other_bit_rate:"undefined",other_sampling_rate:"undefined",other_language:"undefined",encoded_date:"undefined",isBusy:!1}},deactivated:function(){this.lineChart=Object},mounted:function(){this.fetchAssetData()},beforeDestroy:function(){},methods:{fetchAssetData:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n,i,s,o,r,l,c,u,d,h,p,f;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return e.isBusy=!0,n="AssetId:"+e.$route.params.asset_id+" Operator:mediainfo",i="contentAnalysisElasticsearch",s="/_search",o={headers:{"Content-Type":"application/json"},queryStringParameters:{q:n,default_operator:"AND",size:1e4}},t.n=1,e.$Amplify.API.get(i,s,o);case 1:if(r=t.v,r){t.n=2;break}e.showElasticSearchAlert=!0,t.n=4;break;case 2:return l=[],t.n=3,r;case 3:for(c=t.v,u=c.hits.hits,d=0,h=u.length;d<h;d++)l.push(u[d]._source);e.elasticsearch_data=JSON.parse(JSON.stringify(l)),p={General:void 0,Video:void 0,Audio:void 0},p["General"]=e.elasticsearch_data.filter((function(e){return"General"===e.track_type})),p["Video"]=e.elasticsearch_data.filter((function(e){return"Video"===e.track_type})),p["Audio"]=e.elasticsearch_data.filter((function(e){return"Audio"===e.track_type})),void 0!==p["General"][0]&&("duration"in p["General"][0]&&(f=p["General"][0].duration/1e3,e.duration=f>=3600?new Date(1e3*f).toISOString().substr(11,8):new Date(1e3*f).toISOString().substr(14,5)),"format"in p["General"][0]&&(e.format=p["General"][0].format),"file_size"in p["General"][0]&&(e.file_size=(p["General"][0].file_size/1e3/1e3).toFixed(2)),"overall_bit_rate"in p["General"][0]&&(e.overall_bit_rate=p["General"][0].overall_bit_rate),"frame_rate"in p["General"][0]&&(e.frame_rate=p["General"][0].frame_rate)),void 0!==p["Video"][0]&&("width"in p["Video"][0]&&(e.width=p["Video"][0].width),"height"in p["Video"][0]&&(e.height=p["Video"][0].height)),void 0!==p["Audio"][0]&&(p["Audio"].length>0&&("other_bit_rate"in p["Audio"][0]&&(e.other_bit_rate=p["Audio"][0].other_bit_rate[0]),"other_sampling_rate"in p["Audio"][0]&&(e.other_sampling_rate=p["Audio"][0].other_sampling_rate[0]),"other_language"in p["Audio"][0]&&(e.other_language=p["Audio"][0].other_language[0]),"encoded_date"in p["Audio"][0]&&(e.encoded_date=p["Audio"][0].encoded_date)),"other_bit_rate"in p["Audio"][0]&&(e.other_bit_rate=p["Audio"][0].other_bit_rate[0]),"other_sampling_rate"in p["Audio"][0]&&(e.other_sampling_rate=p["Audio"][0].other_sampling_rate[0]),"other_language"in p["Audio"][0]&&(e.other_language=p["Audio"][0].other_language[0]),"encoded_date"in p["Audio"][0]&&(e.encoded_date=p["Audio"][0].encoded_date)),e.isBusy=!1;case 4:return t.a(2)}}),t)})))()}}}),te=ee,ne=Object(d["a"])(te,Y,Z,!1,null,null,null),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[e.isBusy?n("div",[n("Loading")],1):n("div",[n("div",{attrs:{id:"container"}},[n("canvas",{attrs:{id:"lineChart"},on:{click:e.handleClick}}),n("canvas",{staticClass:"canvas",attrs:{id:"verticalLineCanvas"}})])])])},se=[],oe=n("30ef"),re=n.n(oe),le={name:"LineChart",components:{Loading:q["a"]},data:function(){return{duration:void 0,chartConfig:{},chart:void 0,isBusy:!1}},computed:Object(j["a"])({},Object(m["b"])(["chart_tuples","selected_label","player"])),watch:{chart_tuples:function(){this.renderLineChart()},player:function(){this.getDuration(),this.getTimeUpdate(),this.renderLineChart()}},deactivated:function(){console.log("deactivated component:",this.operator),this.chart=Object},activated:function(){console.log("activated component:",this.operator)},beforeDestroy:function(){this.chart=Object},mounted:function(){this.chartConfig={type:"scatter",data:{labels:[0],datasets:[{data:[0],borderColor:"#3e95cd",borderWidth:3,fill:!1,showLine:!1}]},options:{legend:{display:!1},title:{display:!0,text:""},tooltips:{enabled:!1},responsive:!0,maintainAspectRatio:!1,aspectRatio:1.5,scales:{yAxes:[{display:!0,fixedStepSize:1,scaleLabel:{display:!0,labelString:"Label Quantity"},ticks:{beginAtZero:!0,min:0,padding:25,callback:function(e){if(Math.floor(e)===e)return e}}}],xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Time (mm:ss)"},ticks:{beginAtZero:!0,minRotation:30,min:0,callback:function(e){return e>=36e5?new Date(e).toISOString().substr(11,12):new Date(e).toISOString().substr(14,9)}}}]}}},window.addEventListener("resize",(function(){var e=document.getElementById("lineChart"),t=document.getElementById("verticalLineCanvas");t.width=e.width,t.height=e.height}))},methods:{handleClick:function(e){var t=document.getElementById("verticalLineCanvas");if(t){var n=this.chart.chart.chartArea.right-this.chart.chart.chartArea.left,a=this.chart.chart.chartArea.left;if(e.offsetX<a)return;if(this.duration>0){var i=Math.round((e.offsetX-a)/n*1e3)/10;this.player.currentTime(this.duration*i/100)}}},getDuration:function(){this.player&&this.player.on("loadedmetadata",function(){this.duration=this.player.duration()}.bind(this))},getTimeUpdate:function(){var e=0;this.player&&this.player.on("timeupdate",function(){var t=Math.round(this.player.currentTime()/this.player.duration()*1e3);t!==e&&(this.drawVerticleLine(t/1e3),e=t)}.bind(this))},renderLineChart:function(){var e=this.duration,t=this.chart_tuples,n=document.getElementById("lineChart");this.chartConfig.options.title.text=this.selected_label?this.selected_label+" (instances / sec)":"Total Labels (instances / sec)",void 0===this.chart?this.chart=new re.a(n,{type:this.chartConfig.type,data:{datasets:[{data:t}]},options:this.chartConfig.options}):(this.chart.options.title.text=this.selected_label?this.selected_label+" (instances / sec)":"Total Labels (instances / sec)",e&&(this.chart.options.scales.xAxes[0].ticks.max=1e3*e),e>3600&&(this.chart.options.scales.xAxes[0].scaleLabel.labelString="Time (hh:mm:ss)"),this.chart.data.datasets[0].data=null,this.chart.data.datasets[0].data=t,this.chart.lineAtIndex=.25,this.chart.update());var a=document.getElementById("verticalLineCanvas");a.width=this.chart.width,a.height=this.chart.height},drawVerticleLine:function(e){var t=document.getElementById("verticalLineCanvas");if(t){var n=t.getContext("2d");if(n&&this.chart){var a=this.chart.scales["y-axis-1"],i=(this.chart.chart.chartArea.right-this.chart.chart.chartArea.left)*e+this.chart.chart.chartArea.left;n.clearRect(0,0,t.width,t.height),n.beginPath(),n.strokeStyle="#ff0000",n.moveTo(i,a.top),n.lineTo(i,a.bottom+10),n.stroke()}}}}},ce=le,ue=(n("023d"),Object(d["a"])(ce,ie,se,!1,null,"60ea78ff",null)),de=ue.exports,he={name:"Home",components:{Header:z,ComponentLoadingError:X,MediaSummaryBox:ae,Loading:q["a"],VideoPlayer:N,ImageFeature:V,LineChart:de,LabelObjects:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-24df1537")]).then(n.bind(null,"e96b")))}),1e3)})),loading:q["a"]}},Celebrities:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-1d10fd4a")]).then(n.bind(null,"f2c3")))}),1e3)})),loading:q["a"]}},TextDetection:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-597df2c4")]).then(n.bind(null,"fb30")))}),1e3)})),loading:q["a"]}},TechnicalCues:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-2d0c5b53")]).then(n.bind(null,"3ff0")))}),1e3)})),loading:q["a"]}},ShotDetection:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-2d2302c3")]).then(n.bind(null,"eac4")))}),1e3)})),loading:q["a"]}},ContentModeration:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-38fd0fae")]).then(n.bind(null,"ee7b")))}),1e3)})),loading:q["a"]}},Transcript:function(){return{component:new Promise((function(e){setTimeout((function(){e(n.e("chunk-f0ceb560").then(n.bind(null,"6c4d")))}),1e3)})),loading:q["a"]}},Translation:function(){return{component:new Promise((function(e){setTimeout((function(){e(n.e("chunk-2d225b5b").then(n.bind(null,"e60d")))}),1e3)})),loading:q["a"]}},FaceDetection:function(){return{component:new Promise((function(e){setTimeout((function(){e(Promise.all([n.e("chunk-8058ea62"),n.e("chunk-05682929")]).then(n.bind(null,"fd6f")))}),1e3)})),loading:q["a"]}},Entities:function(){return{component:new Promise((function(e){setTimeout((function(){e(n.e("chunk-2d2374d9").then(n.bind(null,"fb18")))}),1e3)})),loading:q["a"]}},KeyPhrases:function(){return{component:new Promise((function(e){setTimeout((function(){e(n.e("chunk-2d0e5b70").then(n.bind(null,"9652")))}),1e3)})),loading:q["a"],error:X}}},data:function(){return{s3_uri:"",filename:"",currentView:"LabelObjects",showElasticSearchAlert:!1,mlTabs:0,speechTabs:0,videoLoaded:!1,supportedImageFormats:["jpg","jpeg","tif","tiff","png","gif"],mediaType:"",videoOptions:{preload:"auto",loop:!0,controls:!0,sources:[{src:"",type:"video/mp4"}]}}},computed:Object(j["a"])({},Object(m["b"])(["Confidence"])),created:function(){this.getAssetMetadata()},methods:{getAssetMetadata:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n,i,s,o,r,l,c,u;return Object(a["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return n=e.$route.params.asset_id,i="mieDataplaneApi",s="metadata/"+n,o={response:!0},t.p=1,t.n=2,e.$Amplify.API.get(i,s,o);case 2:r=t.v,e.s3_uri="s3://"+r.data.results.S3Bucket+"/"+r.data.results.S3Key,l=e.s3_uri.split("/").pop(),c=l.split(".").slice(-1)[0],e.supportedImageFormats.includes(c.toLowerCase())?e.mediaType="image":e.mediaType="video",e.filename=l,e.getVideoUrl(),t.n=4;break;case 3:t.p=3,u=t.v,alert(u),console.log(u);case 4:e.updateAssetId();case 5:return t.a(2)}}),t,null,[[1,3]])})))()},getVideoUrl:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n,i,s,o,r,l,c,u,d,h,p,f,m,b;return Object(a["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return n=e.s3_uri.split("/")[2],i="","image"===e.mediaType&&(i=e.s3_uri.split(e.s3_uri.split("/")[2]+"/")[1]),"video"===e.mediaType&&(s=e.s3_uri.split("/")[2],o=e.s3_uri.split(s)[1],r=o.split("/"),l=r[r.length-1],c=(l.split(".").slice(0,-1).join(".")+"_proxy.mp4").replace("/",""),u="private/assets/"+e.$route.params.asset_id+"/"+c,i=u),d={S3Bucket:n,S3Key:i},h="mieDataplaneApi",p="download",f={headers:{},body:d,response:!0,queryStringParameters:{},responseType:"text"},t.p=1,t.n=2,e.$Amplify.API.post(h,p,f);case 2:m=t.v,e.videoOptions.sources[0].src=m.data,e.videoLoaded=!0,t.n=4;break;case 3:t.p=3,b=t.v,alert(b);case 4:return t.a(2)}}),t,null,[[1,3]])})))()},updateAssetId:function(){this.$store.commit("updateAssetId",this.$route.params.asset_id)}}},pe=he,fe=(n("f5bd"),Object(d["a"])(pe,k,A,!1,null,null,null)),me=fe.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header",{attrs:{"is-upload-active":!0}}),n("br"),n("b-container",[n("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:"danger"},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v("\n      "+e._s(e.uploadErrorMessage)+"\n    ")]),n("b-alert",{attrs:{show:e.showInvalidFile,variant:"danger"}},[e._v("\n      "+e._s(e.invalidFileMessages[e.invalidFileMessages.length-1])+"\n    ")]),n("h1",[e._v("Upload Content")]),n("p",[e._v(e._s(e.description))]),n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",awss3:e.awss3,options:e.dropzoneOptions},on:{"vdropzone-s3-upload-error":e.s3UploadError,"vdropzone-file-added":e.fileAdded,"vdropzone-removed-file":e.fileRemoved,"vdropzone-success":e.runWorkflow,"vdropzone-sending":function(t){e.upload_in_progress=!0},"vdropzone-queue-complete":function(t){e.upload_in_progress=!1}}}),n("br"),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"m-1"},[e._v("\n      Configure Workflow\n    ")]),e.validForm&&!1===e.upload_in_progress?n("b-button",{attrs:{variant:"primary"},on:{click:e.uploadFiles}},[e._v("\n      Upload and Run Workflow\n    ")]):n("b-button",{attrs:{disabled:"",variant:"primary"},on:{click:e.uploadFiles}},[e._v("\n      Upload and Run Workflow\n    ")]),n("br"),n("b-button",{staticClass:"text-decoration-none",attrs:{pressed:!1,size:"sm",variant:"link"},on:{click:function(t){e.showExecuteApi=!0}}},[e._v("\n      Show API request to run workflow\n    ")]),n("b-modal",{attrs:{scrollable:"",title:"REST API","ok-only":""},model:{value:e.showExecuteApi,callback:function(t){e.showExecuteApi=t},expression:"showExecuteApi"}},[n("label",[e._v("Workflow Type:")]),n("b-form-group",[n("b-form-radio-group",{attrs:{id:"curlable-workflows",name:"curlable-workflows"},model:{value:e.curlWorkflow,callback:function(t){e.curlWorkflow=t},expression:"curlWorkflow"}},[n("b-form-radio",{attrs:{value:"Video"}},[e._v("Video")]),n("b-form-radio",{attrs:{value:"Image"}},[e._v("Image")])],1)],1),n("label",[e._v("Request URL:")]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[n("code",{staticClass:"bash"},[e._v("POST "+e._s(e.WORKFLOW_API_ENDPOINT)+"workflow/execution")])]),n("label",[e._v("Request data:")]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:JSON.stringify(e.workflowConfigWithInput),expression:"JSON.stringify(workflowConfigWithInput)"}]},[n("code",{staticClass:"json"})]),n("label",[e._v("Sample command:")]),n("p",[e._v('Be sure to replace "'+e._s(e.sample_file)+'" with the S3 key of an actual file.')]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.curlWorkflowExecution,expression:"curlWorkflowExecution"}]},[n("code",{staticClass:"bash"})])],1),n("br"),e.upload_in_progress?n("span",{staticClass:"text-secondary"},[e._v("Upload in progress")]):e._e(),e.upload_in_progress?n("b-container",[n("b-spinner",{attrs:{label:"upload_in_progress"}})],1):e._e(),n("br"),n("b-collapse",{attrs:{id:"collapse-2"}},[n("b-container",{staticClass:"text-left"},[n("b-card-group",{attrs:{deck:""}},[n("b-card",{attrs:{header:"Vision Operators"}},[n("b-form-group",[n("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.videoOperators,name:"flavour-1"},model:{value:e.enabledOperators,callback:function(t){e.enabledOperators=t},expression:"enabledOperators"}}),n("label",[e._v("Thumbnail position: ")]),n("b-form-input",{attrs:{type:"range",min:"1",max:"20",step:"1"},model:{value:e.thumbnail_position,callback:function(t){e.thumbnail_position=t},expression:"thumbnail_position"}}),e._v(" "+e._s(e.thumbnail_position)+" sec\n              "),e.enabledOperators.includes("genericDataLookup")?n("b-form-input",{attrs:{id:"generic_data_filename",placeholder:"Enter S3 key for data file"},model:{value:e.genericDataFilename,callback:function(t){e.genericDataFilename=t},expression:"genericDataFilename"}}):e._e(),e.enabledOperators.includes("genericDataLookup")?n("b-button",{staticClass:"text-decoration-none",attrs:{pressed:!1,size:"sm",variant:"link"},on:{click:function(t){e.showGenericOperatorHelp=!0}}},[e._v("\n                How do I use generic data?\n              ")]):e._e(),n("b-modal",{attrs:{scrollable:"",title:"Using generic metadata","ok-only":""},model:{value:e.showGenericOperatorHelp,callback:function(t){e.showGenericOperatorHelp=t},expression:"showGenericOperatorHelp"}},[e._v("\n                This option allows you to use a precomputed JSON dataset as metadata for a video. The file must be located in "),n("code",[e._v("s3://"+e._s(e.DATAPLANE_BUCKET)+"/")]),e._v(". Specify the S3 key for your JSON file in the workflow configuration form.\n                "),n("br"),n("br"),e._v("\n                You may upload json files alongside media files on this page. In that case, enter "),n("code",[e._v("public/upload/[filename.json]")]),e._v(" as the S3 key for the data file.\n                "),n("br"),n("br"),e._v("\n                The "),n("code",[e._v("generic_data_lookup.py")]),e._v(" operator loads the specified JSON data into the asset metadata table in DynamoDB. It requires that the JSON data be a dict, not a list. Don't forget to extend the OpenSearch (aka Elasticsearch) consumer (source/consumer/lambda_handler.py) if you want the generic data to be indexed so it can be searchable and rendered in this front-end application.\n              ")]),e.enabledOperators.includes("faceSearch")?n("b-form-input",{attrs:{id:"face_collection_id",placeholder:"Enter face collection id"},model:{value:e.faceCollectionId,callback:function(t){e.faceCollectionId=t},expression:"faceCollectionId"}}):e._e()],1),e.videoFormError?n("div",{staticStyle:{color:"red"}},[e._v("\n              "+e._s(e.videoFormError)+"\n            ")]):e._e()],1),n("b-card",{attrs:{header:"Audio Operators"}},[n("b-form-group",[n("b-form-checkbox-group",{attrs:{id:"checkbox-group-2",options:e.audioOperators,name:"flavour-2"},model:{value:e.enabledOperators,callback:function(t){e.enabledOperators=t},expression:"enabledOperators"}}),e.enabledOperators.includes("Transcribe")?n("div",[n("label",[e._v("Source Language")]),n("b-form-select",{attrs:{options:e.transcribeLanguages},model:{value:e.transcribeLanguage,callback:function(t){e.transcribeLanguage=t},expression:"transcribeLanguage"}})],1):e._e()],1),e.audioFormError?n("div",{staticStyle:{color:"red"}},[e._v("\n              "+e._s(e.audioFormError)+"\n            ")]):e._e()],1),n("b-card",{attrs:{header:"Text Operators"}},[n("b-form-group",[n("b-form-checkbox-group",{attrs:{id:"checkbox-group-3",options:e.textOperators,name:"flavour-3"},model:{value:e.enabledOperators,callback:function(t){e.enabledOperators=t},expression:"enabledOperators"}}),e.enabledOperators.includes("Translate")?n("div",[n("label",[e._v("Translation Source Language")]),n("b-form-select",{attrs:{options:e.transcribeLanguages},model:{value:e.transcribeLanguage,callback:function(t){e.transcribeLanguage=t},expression:"transcribeLanguage"}}),n("label",[e._v("Translation Target Language")]),n("b-form-select",{attrs:{options:e.translateLanguages},model:{value:e.targetLanguageCode,callback:function(t){e.targetLanguageCode=t},expression:"targetLanguageCode"}})],1):e._e(),e.enabledOperators.includes("ComprehendEntities")||e.enabledOperators.includes("ComprehendKeyPhrases")?n("b-form-checkbox",{model:{value:e.ComprehendEncryption,callback:function(t){e.ComprehendEncryption=t},expression:"ComprehendEncryption"}},[e._v("\n                Encrypt Comprehend job\n              ")]):e._e(),e.ComprehendEncryption&&(e.enabledOperators.includes("ComprehendEntities")||e.enabledOperators.includes("ComprehendKeyPhrases"))?n("b-form-input",{attrs:{placeholder:"Enter KMS key ID"},model:{value:e.kmsKeyId,callback:function(t){e.kmsKeyId=t},expression:"kmsKeyId"}}):e._e()],1),e.textFormError?n("div",{staticStyle:{color:"red"}},[e._v("\n              "+e._s(e.textFormError)+"\n            ")]):e._e()],1)],1),n("div",{attrs:{align:"right"}},[n("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:e.selectAll}},[e._v("\n            Select All\n          ")]),n("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:e.clearAll}},[e._v("\n            Clear All\n          ")])])],1)],1)],1),e.executed_assets.length>0?n("b-container",[n("label",[e._v("\n      Execution History\n    ")]),n("b-table",{attrs:{fields:e.fields,bordered:"",hover:"",small:"",responsive:"","show-empty":"",fixed:"",items:e.executed_assets},scopedSlots:e._u([{key:"cell(workflow_status)",fn:function(t){return["Queued"!==t.item.workflow_status?n("a",{attrs:{href:""},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.openWindow(t.item.state_machine_console_link)}}},[e._v(e._s(t.item.workflow_status))]):e._e(),"Queued"===t.item.workflow_status?n("div",[e._v("\n          "+e._s(t.item.workflow_status)+"\n        ")]):e._e()]}}],null,!1,3123579894)}),n("b-button",{attrs:{size:"sm"},on:{click:e.clearHistory}},[e._v("\n      Clear History\n    ")]),n("br"),n("b-button",{staticClass:"text-decoration-none",attrs:{pressed:!1,size:"sm",variant:"link"},on:{click:function(t){e.showWorkflowStatusApi=!0}}},[e._v("\n      Show API request to get execution history\n    ")]),n("b-modal",{attrs:{title:"REST API","ok-only":""},model:{value:e.showWorkflowStatusApi,callback:function(t){e.showWorkflowStatusApi=t},expression:"showWorkflowStatusApi"}},[n("label",[e._v("Request URL:")]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[n("code",{staticClass:"bash"},[e._v("GET "+e._s(e.WORKFLOW_API_ENDPOINT)+"workflow/execution/asset/{asset_id}")])]),n("label",[e._v("Sample command:")]),n("p",[e._v("Be sure to replace "),n("b",[e._v("{asset_id}")]),e._v(" with a valid asset ID.")]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.curlExecutionHistory,expression:"curlExecutionHistory"}]},[n("code",{staticClass:"bash"})])])],1):e._e()],1)},ve=[],ge=(n("4d63"),n("2c3e"),n("00b4"),n("25f0"),n("466d"),n("4e3e"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"dropzoneElement",class:{"vue-dropzone dropzone":e.includeStyling},attrs:{id:e.id}},[e.useCustomSlot?n("div",{staticClass:"dz-message"},[e._t("default",[e._v("Drop files here to upload")])],2):e._e()])}),_e=[],we=(n("b0c0"),n("79e3")),ye=n.n(we);ye.a.autoDiscover=!1;var ke={props:{id:{type:String,required:!0,default:"dropzone"},options:{type:Object,required:!0},includeStyling:{type:Boolean,default:!0,required:!1},awss3:{type:Object,required:!1,default:null},destroyDropzone:{type:Boolean,default:!0,required:!1},duplicateCheck:{type:Boolean,default:!1,required:!1},useCustomSlot:{type:Boolean,default:!1,required:!1}},data:function(){return{isS3:!1,isS3OverridesServerPropagation:!1,wasQueueAutoProcess:!0}},computed:{dropzoneSettings:function(){var e={thumbnailWidth:200,thumbnailHeight:200};return Object.keys(this.options).forEach((function(t){e[t]=this.options[t]}),this),null!==this.awss3&&(e["autoProcessQueue"]=!1,this.isS3=!0,this.isS3OverridesServerPropagation=!1===this.awss3.sendFileToServer,void 0!==this.options.autoProcessQueue&&(this.wasQueueAutoProcess=this.options.autoProcessQueue),this.isS3OverridesServerPropagation&&(e["url"]=function(e){return e[0].s3Url})),e}},mounted:function(){if(!this.$isServer||!this.hasBeenMounted){this.hasBeenMounted=!0,this.dropzone=new ye.a(this.$refs.dropzoneElement,this.dropzoneSettings);var e=this;this.dropzone.on("thumbnail",(function(t,n){e.$emit("vdropzone-thumbnail",t,n)})),this.dropzone.on("addedfile",(function(t){var n,a;if(e.duplicateCheck&&this.files.length)for(n=0,a=this.files.length;n<a-1;n++)this.files[n].name===t.name&&this.files[n].size===t.size&&this.files[n].lastModifiedDate.toString()===t.lastModifiedDate.toString()&&(this.removeFile(t),e.$emit("vdropzone-duplicate-file",t));e.$emit("vdropzone-file-added",t),e.isS3&&e.wasQueueAutoProcess&&!t.manuallyAdded&&e.getSignedAndUploadToS3(t)})),this.dropzone.on("addedfiles",(function(t){e.$emit("vdropzone-files-added",t)})),this.dropzone.on("removedfile",(function(t){e.$emit("vdropzone-removed-file",t),t.manuallyAdded&&null!==e.dropzone.options.maxFiles&&e.dropzone.options.maxFiles++})),this.dropzone.on("success",(function(t,n){if(e.$emit("vdropzone-success",t,n),e.isS3){if(e.isS3OverridesServerPropagation){var a=(new window.DOMParser).parseFromString(n,"text/xml"),i=a.firstChild.children[0].innerHTML;e.$emit("vdropzone-s3-upload-success",i)}e.wasQueueAutoProcess&&e.setOption("autoProcessQueue",!1)}})),this.dropzone.on("successmultiple",(function(t,n){e.$emit("vdropzone-success-multiple",t,n)})),this.dropzone.on("error",(function(t,n,a){e.$emit("vdropzone-error",t,n,a),this.isS3&&e.$emit("vdropzone-s3-upload-error")})),this.dropzone.on("errormultiple",(function(t,n,a){e.$emit("vdropzone-error-multiple",t,n,a)})),delete this.dropzone["submitRequest"],this.dropzone.submitRequest=function(){},this.dropzone.on("sendingmultiple",(function(t,n,a){e.$emit("vdropzone-sending-multiple",t,n,a)})),this.dropzone.on("complete",(function(t){e.$emit("vdropzone-complete",t)})),this.dropzone.on("completemultiple",(function(t){e.$emit("vdropzone-complete-multiple",t)})),this.dropzone.on("canceled",(function(t){e.$emit("vdropzone-canceled",t)})),this.dropzone.on("canceledmultiple",(function(t){e.$emit("vdropzone-canceled-multiple",t)})),this.dropzone.on("maxfilesreached",(function(t){e.$emit("vdropzone-max-files-reached",t)})),this.dropzone.on("maxfilesexceeded",(function(t){e.$emit("vdropzone-max-files-exceeded",t)})),this.dropzone.on("processing",(function(t){e.$emit("vdropzone-processing",t)})),this.dropzone.on("processingmultiple",(function(t){e.$emit("vdropzone-processing-multiple",t)})),this.dropzone.on("uploadprogress",(function(t,n,a){e.$emit("vdropzone-upload-progress",t,n,a)})),this.dropzone.on("totaluploadprogress",(function(t,n,a){e.$emit("vdropzone-total-upload-progress",t,n,a)})),this.dropzone.on("reset",(function(){e.$emit("vdropzone-reset")})),this.dropzone.on("queuecomplete",(function(){e.$emit("vdropzone-queue-complete")})),this.dropzone.on("drop",(function(t){e.$emit("vdropzone-drop",t)})),this.dropzone.on("dragstart",(function(t){e.$emit("vdropzone-drag-start",t)})),this.dropzone.on("dragend",(function(t){e.$emit("vdropzone-drag-end",t)})),this.dropzone.on("dragenter",(function(t){e.$emit("vdropzone-drag-enter",t)})),this.dropzone.on("dragover",(function(t){e.$emit("vdropzone-drag-over",t)})),this.dropzone.on("dragleave",(function(t){e.$emit("vdropzone-drag-leave",t)})),e.$emit("vdropzone-mounted")}},beforeDestroy:function(){this.destroyDropzone&&this.dropzone.destroy()},methods:{manuallyAddFile:function(e,t){e.manuallyAdded=!0,this.dropzone.emit("addedfile",e);var n=!1;if((t.indexOf(".svg")>-1||t.indexOf(".png")>-1||t.indexOf(".jpg")>-1||t.indexOf(".jpeg")>-1||t.indexOf(".gif")>-1)&&(n=!0),this.dropzone.options.createImageThumbnails&&n&&e.size<=1024*this.dropzone.options.maxThumbnailFilesize*1024){t&&this.dropzone.emit("thumbnail",e,t);for(var a=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0;i<a.length;i++)a[i].style.width=this.dropzoneSettings.thumbnailWidth+"px",a[i].style.height=this.dropzoneSettings.thumbnailHeight+"px",a[i].style["object-fit"]="contain"}this.dropzone.emit("complete",e),this.dropzone.options.maxFiles&&this.dropzone.options.maxFiles--,this.dropzone.files.push(e),this.$emit("vdropzone-file-added-manually",e)},setOption:function(e,t){this.dropzone.options[e]=t},removeAllFiles:function(e){this.dropzone.removeAllFiles(e)},processQueue:function(){var e=this,t=this,n=this.dropzone;this.$emit("vdropzone-sending"),this.isS3&&!this.wasQueueAutoProcess?this.getQueuedFiles().forEach((function(t){e.getSignedAndUploadToS3(t)})):this.dropzone.processQueue(),this.dropzone.on("success",(function(e){n.options.autoProcessQueue=!0,t.$emit("success",e)})),this.dropzone.on("queuecomplete",(function(){n.options.autoProcessQueue=!1,t.$emit("vdropzone-queue-complete")})),this.dropzone.on("removedfile",(function(e){0===this.getFilesWithStatus().length&&t.$emit("vdropzone-queue-complete"),t.$Amplify.Storage.cancel(e.send_promise,"The user canceled this upload.")}))},init:function(){return this.dropzone.init()},destroy:function(){return this.dropzone.destroy()},updateTotalUploadProgress:function(){return this.dropzone.updateTotalUploadProgress()},getFallbackForm:function(){return this.dropzone.getFallbackForm()},getExistingFallback:function(){return this.dropzone.getExistingFallback()},setupEventListeners:function(){return this.dropzone.setupEventListeners()},removeEventListeners:function(){return this.dropzone.removeEventListeners()},disable:function(){return this.dropzone.disable()},enable:function(){return this.dropzone.enable()},filesize:function(e){return this.dropzone.filesize(e)},accept:function(e,t){return this.dropzone.accept(e,t)},addFile:function(e){return this.dropzone.addFile(e)},removeFile:function(e){this.dropzone.removeFile(e)},getAcceptedFiles:function(){return this.dropzone.getAcceptedFiles()},getRejectedFiles:function(){return this.dropzone.getRejectedFiles()},getFilesWithStatus:function(){return this.dropzone.getFilesWithStatus()},getQueuedFiles:function(){return this.dropzone.getQueuedFiles()},getUploadingFiles:function(){return this.dropzone.getUploadingFiles()},getAddedFiles:function(){return this.dropzone.getAddedFiles()},getActiveFiles:function(){return this.dropzone.getActiveFiles()},getSignedAndUploadToS3:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:return i="upload/"+e.name,s=t,t.dropzone.emit("processing",e),e.status=t.dropzone.UPLOADING,e.processing=!0,o=null,n.p=1,o=t.$Amplify.Storage.put(i,e,{level:"public",progressCallback:function(t){s.isUploading=!0,s.uploadValue=0;var n=t.loaded/t.total*100,a=t.loaded;e.send_promise=o,s.dropzone.emit("uploadprogress",e,n,a)}}),n.n=2,o;case 2:o.then((function(t){void 0!==t.key?(console.log("upload complete"),e.s3_key="public/"+t.key,s.dropzone.emit("success",e),s.dropzone.emit("complete",e),s.dropzone.emit("vdropzone-s3-upload-success","upload success")):s.dropzone.emit("vdropzone-s3-upload-error","upload error")})),n.n=4;break;case 3:n.p=3,r=n.v,console.log("Error: "+r),s.isUploading=null,s.uploadValue=null,s.file=null;case 4:return n.a(2)}}),n,null,[[1,3]])})))()}}},Ae=ke,je=(n("dfe1"),Object(d["a"])(Ae,ge,_e,!1,null,null,null)),xe=je.exports,Oe={components:{vueDropzone:xe,Header:z},data:function(){return{restApi2:"",curlWorkflow:"Video",curlWorkflowTypes:["Image","Video"],showWorkflowStatusApi:!1,showExecuteApi:!1,showGenericOperatorHelp:!1,requestURL:"",requestBody:"",requestType:"",fields:[{asset_id:{label:"Asset Id",sortable:!1}},{file_name:{label:"File Name",sortable:!1}},{workflow_status:{label:"Workflow Status",sortable:!1}}],thumbnail_position:10,invalid_file_types:0,upload_in_progress:!1,enabledOperators:["labelDetection","celebrityRecognition","textDetection","contentModeration","faceDetection","thumbnail","TranscribeVideo","Translate","ComprehendKeyPhrases","ComprehendEntities","shotDetection","technicalCueDetection"],videoOperators:[{text:"Object Detection",value:"labelDetection"},{text:"Technical Cue Detection",value:"technicalCueDetection"},{text:"Shot Detection",value:"shotDetection"},{text:"Celebrity Recognition",value:"celebrityRecognition"},{text:"Content Moderation",value:"contentModeration"},{text:"Face Detection",value:"faceDetection"},{text:"Word Detection",value:"textDetection"},{text:"Face Search",value:"faceSearch"},{html:"Generic Data Lookup",value:"genericDataLookup"}],audioOperators:[{text:"Transcribe",value:"TranscribeVideo"}],textOperators:[{text:"Comprehend Key Phrases",value:"ComprehendKeyPhrases"},{text:"Comprehend Entities",value:"ComprehendEntities"},{text:"Translate",value:"Translate"}],faceCollectionId:"",genericDataFilename:"",ComprehendEncryption:!1,kmsKeyId:"",transcribeLanguage:"en-US",transcribeLanguages:[{text:"Arabic, Gulf",value:"ar-AE"},{text:"Arabic, Modern Standard",value:"ar-SA"},{text:"Chinese Mandarin",value:"zh-CN"},{text:"Dutch",value:"nl-NL"},{text:"English, Australian",value:"en-AU"},{text:"English, British",value:"en-GB"},{text:"English, Indian-accented",value:"en-IN"},{text:"English, Irish",value:"en-IE"},{text:"English, Scottish",value:"en-AB"},{text:"English, US",value:"en-US"},{text:"English, Welsh",value:"en-WL"},{text:"French",value:"fr-FR"},{text:"French, Canadian",value:"fr-CA"},{text:"German",value:"de-DE"},{text:"German, Swiss",value:"de-CH"},{text:"Hebrew",value:"he-IL"},{text:"Hindi",value:"hi-IN"},{text:"Indonesian",value:"id-ID"},{text:"Italian",value:"it-IT"},{text:"Japanese",value:"ja-JP"},{text:"Korean",value:"ko-KR"},{text:"Malay",value:"ms-MY"},{text:"Portuguese",value:"pt-PT"},{text:"Portuguese, Brazilian",value:"pt-BR"},{text:"Russian",value:"ru-RU"},{text:"Spanish",value:"es-ES"},{text:"Spanish, US",value:"es-US"},{text:"Tamil",value:"ta-IN"},{text:"Turkish",value:"tr-TR"}],translateLanguages:[{text:"Afrikaans",value:"af"},{text:"Albanian",value:"sq"},{text:"Amharic",value:"am"},{text:"Arabic",value:"ar"},{text:"Azerbaijani",value:"az"},{text:"Bengali",value:"bn"},{text:"Bosnian",value:"bs"},{text:"Bulgarian",value:"bg"},{text:"Chinese (Simplified)",value:"zh"},{text:"Croatian",value:"hr"},{text:"Czech",value:"cs"},{text:"Danish",value:"da"},{text:"Dari",value:"fa-AF"},{text:"Dutch",value:"nl"},{text:"English",value:"en"},{text:"Estonian",value:"et"},{text:"Finnish",value:"fi"},{text:"French",value:"fr"},{text:"French (Canadian)",value:"fr-CA"},{text:"Georgian",value:"ka"},{text:"German",value:"de"},{text:"Greek",value:"el"},{text:"Hausa",value:"ha"},{text:"Hebrew",value:"he"},{text:"Hindi",value:"hi"},{text:"Hungarian",value:"hu"},{text:"Indonesian",value:"id"},{text:"Italian",value:"it"},{text:"Japanese",value:"ja"},{text:"Korean",value:"ko"},{text:"Latvian",value:"lv"},{text:"Malay",value:"ms"},{text:"Norwegian",value:"no"},{text:"Persian",value:"fa"},{text:"Pashto",value:"ps"},{text:"Polish",value:"pl"},{text:"Portuguese",value:"pt"},{text:"Romanian",value:"ro"},{text:"Russian",value:"ru"},{text:"Serbian",value:"sr"},{text:"Slovak",value:"sk"},{text:"Slovenian",value:"sl"},{text:"Somali",value:"so"},{text:"Spanish",value:"es"},{text:"Swahili",value:"sw"},{text:"Swedish",value:"sv"},{text:"Tagalog",value:"tl"},{text:"Tamil",value:"ta"},{text:"Thai",value:"th"},{text:"Turkish",value:"tr"},{text:"Ukrainian",value:"uk"},{text:"Urdu",value:"ur"},{text:"Vietnamese",value:"vi"}],sourceLanguageCode:"en",targetLanguageCode:"es",uploadErrorMessage:"",invalidFileMessage:"",invalidFileMessages:[],showInvalidFile:!1,dismissSecs:8,dismissCountDown:0,executed_assets:[],workflow_status_polling:null,workflow_config:{},description:"Click start to begin. Media analysis status will be shown after upload completes.",s3_destination:"s3://"+this.DATAPLANE_BUCKET,dropzoneOptions:{url:"https://"+this.DATAPLANE_BUCKET+".s3.amazonaws.com",thumbnailWidth:200,addRemoveLinks:!0,autoProcessQueue:!1,timeout:0,maxFilesize:5e3},awss3:{signingURL:"",headers:{},params:{}}}},computed:Object(j["a"])(Object(j["a"])({},Object(m["b"])(["execution_history"])),{},{textFormError:function(){return""},audioFormError:function(){return!this.enabledOperators.includes("TranscribeVideo")&&(this.enabledOperators.includes("Translate")||this.enabledOperators.includes("ComprehendEntities")||this.enabledOperators.includes("ComprehendKeyPhrases"))?"Transcribe must be enabled if any text operator is enabled.":""},videoFormError:function(){if(this.enabledOperators.includes("faceSearch")){if(""===this.faceCollectionId)return"Face collection name is required.";if(new RegExp("[^a-zA-Z0-9_.\\-]").test(this.faceCollectionId))return"Face collection name must match pattern [a-zA-Z0-9_.\\\\-]+";if(this.faceCollectionId.length>255)return"Face collection name must have fewer than 255 characters."}if(this.enabledOperators.includes("genericDataLookup")){if(""===this.genericDataFilename)return"Generic data filename is required.";if(!new RegExp("^.+\\.json$").test(this.genericDataFilename))return"Generic data filename must have .json extension.";if(this.genericDataFilename.length>255)return"Generic data filename must have fewer than 255 characters."}return""},validForm:function(){var e=!0;return(this.invalid_file_types||this.textFormError||this.audioFormError||this.videoFormError)&&(e=!1),e},imageWorkflowConfig:function(){var e={MediainfoImage:{Enabled:!0}},t={faceSearchImage:{Enabled:this.enabledOperators.includes("faceSearch"),CollectionId:""===this.faceCollectionId?"undefined":this.faceCollectionId},labelDetectionImage:{Enabled:this.enabledOperators.includes("labelDetection")},textDetectionImage:{Enabled:this.enabledOperators.includes("textDetection")},celebrityRecognitionImage:{Enabled:this.enabledOperators.includes("celebrityRecognition")},contentModerationImage:{Enabled:this.enabledOperators.includes("contentModeration")},faceDetectionImage:{Enabled:this.enabledOperators.includes("faceDetection")}},n={Name:"CasImageWorkflow",Configuration:{}};return n["Configuration"]["ValidationStage"]=e,n["Configuration"]["RekognitionStage"]=t,n},videoWorkflowConfig:function(){var e={Thumbnail:{ThumbnailPosition:this.thumbnail_position.toString(),Enabled:!0},Mediainfo:{Enabled:!0}},t={faceDetection:{Enabled:this.enabledOperators.includes("faceDetection")},technicalCueDetection:{Enabled:this.enabledOperators.includes("technicalCueDetection")},shotDetection:{Enabled:this.enabledOperators.includes("shotDetection")},celebrityRecognition:{Enabled:this.enabledOperators.includes("celebrityRecognition")},labelDetection:{Enabled:this.enabledOperators.includes("labelDetection")},contentModeration:{Enabled:this.enabledOperators.includes("contentModeration")},faceSearch:{Enabled:this.enabledOperators.includes("faceSearch"),CollectionId:""===this.faceCollectionId?"undefined":this.faceCollectionId},textDetection:{Enabled:this.enabledOperators.includes("textDetection")},GenericDataLookup:{Enabled:this.enabledOperators.includes("genericDataLookup"),Bucket:this.DATAPLANE_BUCKET,Key:""===this.genericDataFilename?"undefined":this.genericDataFilename}},n={TranscribeVideo:{Enabled:this.enabledOperators.includes("TranscribeVideo"),TranscribeLanguage:this.transcribeLanguage}},a={Translate:{Enabled:this.enabledOperators.includes("Translate"),SourceLanguageCode:this.transcribeLanguage.split("-")[0],TargetLanguageCode:this.targetLanguageCode},ComprehendEntities:{Enabled:this.enabledOperators.includes("ComprehendEntities")},ComprehendKeyPhrases:{Enabled:this.enabledOperators.includes("ComprehendKeyPhrases")}};!0===this.ComprehendEncryption&&this.kmsKeyId.length>0&&(a["ComprehendEntities"]["KmsKeyId"]=this.kmsKeyId,a["ComprehendKeyPhrases"]["KmsKeyId"]=this.kmsKeyId);var i={Polly:{Enabled:!1}},s={Name:"CasVideoWorkflow",Configuration:{}};return s["Configuration"]["defaultPrelimVideoStage"]=e,s["Configuration"]["defaultVideoStage"]=t,s["Configuration"]["defaultAudioStage"]=n,s["Configuration"]["defaultTextStage"]=a,s["Configuration"]["defaultTextSynthesisStage"]=i,s},curlWorkflowExecution:function(){return"awsscurl -X POST --region "+this.AWS_REGION+' -H "Content-Type: application/json" --data \''+JSON.stringify(this.workflowConfigWithInput)+"' "+this.WORKFLOW_API_ENDPOINT+"workflow/execution"},sample_file:function(){return"Video"===this.curlWorkflow?"SAMPLE_VIDEO.MP4":"Image"===this.curlWorkflow?"SAMPLE_IMAGE.PNG":void 0},curlExecutionHistory:function(){return"awscurl -X GET --region "+this.AWS_REGION+' -H "Content-Type: application/json" '+this.WORKFLOW_API_ENDPOINT+"workflow/execution/asset/{asset_id}"},workflowConfigWithInput:function(){var e={};return"Video"===this.curlWorkflow?(e=JSON.parse(JSON.stringify(this.videoWorkflowConfig)),e["Name"]="CasVideoWorkflow"):"Image"===this.curlWorkflow&&(e=JSON.parse(JSON.stringify(this.imageWorkflowConfig)),e["Name"]="CasImageWorkflow"),e["Input"]={Media:{Video:{S3Bucket:this.DATAPLANE_BUCKET,S3Key:this.sample_file}}},e}}),created:function(){this.$route.query.asset&&(this.hasAssetParam=!0,this.assetIdParam=this.$route.query.asset)},mounted:function(){this.executed_assets=this.execution_history,this.pollWorkflowStatus()},beforeDestroy:function(){clearInterval(this.workflow_status_polling)},methods:{selectAll:function(){this.enabledOperators=["labelDetection","textDetection","celebrityRecognition","contentModeration","faceDetection","thumbnail","TranscribeVideo","Translate","ComprehendKeyPhrases","ComprehendEntities","technicalCueDetection","shotDetection"],console.log(this.enabledOperators)},clearAll:function(){this.enabledOperators=[]},openWindow:function(e){window.open(e,"noopener,noreferer")},countDownChanged:function(e){this.dismissCountDown=e},s3UploadError:function(e){console.log(e),this.uploadErrorMessage=e,this.dismissCountDown=this.dismissSecs},fileAdded:function(e){var t="";e.type.match(/image\/.+|video\/.+|application\/mxf|application\/json/g)||(t=""===e.type?"Unsupported file type: unknown":"Unsupported file type: "+e.type,this.invalidFileMessages.push(t),this.showInvalidFile=!0)},fileRemoved:function(e){var t="";e.type.match(/image\/.+|video\/.+|application\/mxf|application\/json/g)||(t=""===e.type?"Unsupported file type: unknown":"Unsupported file type: "+e.type),this.invalidFileMessages=this.invalidFileMessages.filter((function(e){return e!=t})),0===this.invalidFileMessages.length&&(this.showInvalidFile=!1)},runWorkflow:function(){var e=Object(i["a"])(Object(a["a"])().m((function e(t){var n,i,s,o,r,l,c,u,d,h,p;return Object(a["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(n=this,i=null,s=null,"s3_key"in t?(i=t.type,s=t.s3_key):(i=this.$route.query.mediaType,s=this.$route.query.s3key.split("/").pop()),!this.hasAssetParam){e.n=1;break}"video"===i?(this.workflow_config=n.videoWorkflowConfig,this.workflow_config["Input"]={AssetId:this.assetIdParam,Media:{Video:{}}}):"image"===i?(this.workflow_config=n.imageWorkflowConfig,this.workflow_config["Input"]={AssetId:this.assetIdParam,Media:{Image:{}}}):n.s3UploadError("Unsupported media type, "+this.$route.query.mediaType+"."),e.n=5;break;case 1:if(!i.match(/image/g)){e.n=2;break}this.workflow_config=n.imageWorkflowConfig,this.workflow_config["Input"]={Media:{Image:{S3Bucket:this.DATAPLANE_BUCKET,S3Key:s}}},e.n=5;break;case 2:if(!i.match(/video/g)&&"application/mxf"!==i){e.n=3;break}this.workflow_config=n.videoWorkflowConfig,this.workflow_config["Input"]={Media:{Video:{S3Bucket:this.DATAPLANE_BUCKET,S3Key:s}}},e.n=5;break;case 3:if("application/json"!==i){e.n=4;break}return e.a(2);case 4:n.s3UploadError("Unsupported media type: "+i+".");case 5:return console.log("workflow execution configuration:"),console.log(JSON.stringify(this.workflow_config)),o="mieWorkflowApi",r="workflow/execution",l={headers:{"Content-Type":"application/json"},response:!0,body:this.workflow_config,queryStringParameters:{}},e.p=6,e.n=7,this.$Amplify.API.post(o,r,l);case 7:c=e.v,u=c.data.AssetId,d=c.data.Id,h={asset_id:u,file_name:s.replace("public/upload/",""),workflow_status:"",state_machine_console_link:"",wf_id:d},n.executed_assets.push(h),n.getWorkflowStatus(d),this.hasAssetParam=!1,this.assetIdParam="",e.n=9;break;case 8:e.p=8,p=e.v,console.log("ERROR: Failed to start workflow. Check Workflow API logs."),console.log(p);case 9:return e.a(2)}}),e,this,[[6,8]])})));function t(t){return e.apply(this,arguments)}return t}(),getWorkflowStatus:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r,l,c,u;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:return i=t,s="mieWorkflowApi",o="workflow/execution/"+e,r={headers:{},response:!0,queryStringParameters:{}},n.p=1,n.n=2,t.$Amplify.API.get(s,o,r);case 2:l=n.v,c=0;case 3:if(!(c<i.executed_assets.length)){n.n=5;break}if(i.executed_assets[c].wf_id!==e){n.n=4;break}return i.executed_assets[c].workflow_status=l.data.Status,i.executed_assets[c].state_machine_console_link="https://"+t.AWS_REGION+".console.aws.amazon.com/states/home?region="+t.AWS_REGION+"#/executions/details/"+l.data.StateMachineExecutionArn,n.a(3,5);case 4:c++,n.n=3;break;case 5:t.$store.commit("updateExecutedAssets",i.executed_assets),n.n=7;break;case 6:n.p=6,u=n.v,console.log("ERROR: Failed to get workflow status"),console.log(u);case 7:return n.a(2)}}),n,null,[[1,6]])})))()},pollWorkflowStatus:function(){var e=this,t=5e3;this.workflow_status_polling=setInterval((function(){e.executed_assets.forEach((function(t){""!==t.workflow_status&&"Started"!==t.workflow_status&&"Queued"!==t.workflow_status||e.getWorkflowStatus(t.wf_id)}))}),t)},uploadFiles:function(){console.log("Uploading to s3://"+this.DATAPLANE_BUCKET),this.$refs.myVueDropzone.processQueue()},clearHistory:function(){this.executed_assets=[],this.$store.commit("updateExecutedAssets",this.executed_assets)}}},Ee=Oe,Se=(n("4703"),Object(d["a"])(Ee,be,ve,!1,null,null,null)),Ce=Se.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"headerTextBackground"},[n("Header",{attrs:{"is-collection-active":!0}}),n("b-container",{attrs:{fluid:""}},[n("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:e.showElasticSearchAlert,callback:function(t){e.showElasticSearchAlert=t},expression:"showElasticSearchAlert"}},[e._v("\n        Elasticsearch error. Please check browser and elasticsearch access logs.\n      ")]),n("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:e.showDataplaneAlert,callback:function(t){e.showDataplaneAlert=t},expression:"showDataplaneAlert"}},[e._v("\n        Dataplane Error. Please check browser and dataplane logs.\n      ")]),n("b-alert",{attrs:{variant:"success",dismissible:"",fade:""},model:{value:e.showDeletedAlert,callback:function(t){e.showDeletedAlert=t},expression:"showDeletedAlert"}},[e._v("\n        Successfully Deleted Asset\n      ")]),n("b-row",{attrs:{"align-h":"center"}},[n("h1",[e._v("Media Collection")])]),n("b-row",{staticClass:"tagline",attrs:{"align-h":"center"}},[n("b",[e._v("Discover insights in your media by searching for keywords, objects, or even people.")])]),n("b-row",{staticClass:"my-1",attrs:{"align-v":"center","align-h":"center"}},[n("b-col",{attrs:{sm:"5"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user_defined_query,expression:"user_defined_query"}],attrs:{type:"text",placeholder:"Search Collection..."},domProps:{value:e.user_defined_query},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchCollection(t)},input:function(t){t.target.composing||(e.user_defined_query=t.target.value)}}})]),n("b-col",{attrs:{sm:"1"}},[n("b-button",{attrs:{size:"lg"},on:{click:e.searchCollection}},[e._v("\n            Search\n          ")])],1)],1)],1)],1),n("b-container",{staticClass:"resultsTable",attrs:{fluid:""}},[n("b-row",[n("b-col",[n("div",[n("div",{staticClass:"column"},[n("b-row",{staticClass:"my-1"},[n("b-col",[n("b-table",{attrs:{striped:"",hover:"",fixed:"",responsive:"","show-empty":"",fields:e.fields,items:e.asset_list,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"current-page":e.currentPage,"per-page":e.perPage},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(Thumbnail)",fn:function(e){return[n("VideoThumbnail",{attrs:{"thumbnail-i-d":e.item.thumbnailID,"signed-url":e.item.signedUrl}})]}},{key:"cell(Created)",fn:function(t){return[e._v("\n                    "+e._s(t.item.Created.toLocaleDateString())),n("br"),e._v("\n                    "+e._s(t.item.Created.toLocaleTimeString())+"\n                  ")]}},{key:"cell(status)",fn:function(t){return["Queued"!==t.item.status?n("a",{attrs:{href:""},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.openWindow(t.item.state_machine_console_link)}}},[e._v(e._s(t.item.status))]):e._e(),"Queued"===t.item.status?n("div",[e._v("\n                      "+e._s(t.item.status)+"\n                    ")]):e._e()]}},{key:"cell(Actions)",fn:function(t){return[n("b-link",{attrs:{href:"/analysis/"+t.item.asset_id}},[e._v("\n                      Analyze\n                    ")]),n("br"),n("b-link",{staticClass:"text-danger",on:{click:function(n){return e.deleteAsset(""+t.item.asset_id)}}},[e._v("\n                      Delete\n                    ")])]}}])}),e.noAssets?n("div",[n("p",[e._v("\n                    Looks like no assets have been uploaded! Try uploading "),n("a",{attrs:{href:"upload",rel:"noopener noreferrer"}},[e._v("here")]),e._v(".\n                  ")])]):e._e(),e.isBusy?n("div",{staticClass:"wrapper"},[e.isBusy?n("Loading"):e._e(),n("p",{staticClass:"text-muted"},[e._v("\n                    (Loading...)\n                  ")])],1):e._e()],1)],1),n("b-row",{attrs:{"align-h":"center"}},[n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)])])],1)],1)],1)},ze=[],Ie=n("3835"),Pe=n("53ca"),De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative"}},[n("b-container",[n("b-img",{attrs:{id:e.thumbnailID,rounded:"",fluid:"",src:e.signedUrl,alt:"Thumbnail image"}})],1)],1)},Le=[],Fe={name:"VideoThumbnail",props:["thumbnailID","signedUrl"]},We=Fe,Ne=Object(d["a"])(We,De,Le,!1,null,"6f73fdca",null),Be=Ne.exports,Re={name:"Run",components:{Header:z,Loading:q["a"],VideoThumbnail:Be},data:function(){return{showElasticSearchAlert:!1,showDataplaneAlert:!1,showDeletedAlert:0,noAssets:null,currentPage:1,perPage:10,isBusy:!1,user_defined_query:"",asset_list:[],sortBy:"Created",sortDesc:!0,fields:[{Thumbnail:{label:"Thumbnail",sortable:!1}},{Filename:{label:"File Name",sortable:!0,tdClass:["tableWordWrap"]}},{status:{label:"Status",sortable:!0,tdClass:["tableWordWrap"]}},{asset_id:{label:"Asset ID",sortable:!1,tdClass:["tableWordWrap"]}},{Created:{label:"Created",sortable:!0,tdClass:["tableWordWrap"]}},{Actions:{label:"Actions",sortable:!1}}]}},computed:{totalRows:function(){return this.asset_list.length}},created:function(){this.isBusy=!0,this.retrieveAndFormatAsssets()},methods:{openWindow:function(e){window.open(e,"_blank","noopener,noreferer")},deleteAsset:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:return i="mieDataplaneApi",s="metadata/"+e,o={response:!0},n.p=1,n.n=2,t.$Amplify.API.del(i,s,o);case 2:t.showDeletedAlert=5,t.asset_list=[],t.retrieveAndFormatAsssets(),n.n=4;break;case 3:n.p=3,r=n.v,t.showDataplaneAlert=!0,console.log(r);case 4:return n.a(2)}}),n,null,[[1,3]])})))()},elasticsearchQuery:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:return i="contentAnalysisElasticsearch",s="/_search",o={headers:{"Content-Type":"application/json"},body:{aggs:{distinct_assets:{terms:{field:"AssetId.keyword",size:1e4}}}},queryStringParameters:{q:e,_source:"AssetId"}},n.n=1,t.$Amplify.API.post(i,s,o);case 1:if(r=n.v,r){n.n=2;break}t.showElasticSearchAlert=!0,n.n=4;break;case 2:return t.noAssets=!1,n.n=3,r;case 3:return n.a(2,n.v);case 4:return n.a(2)}}),n)})))()},searchCollection:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n,i,s,o,r,l,c,u;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:if(e.noSearchResults=!1,e.isBusy=!0,n=e.user_defined_query,""!==n){t.n=1;break}e.showElasticSearchAlert=!1,e.asset_list=[],e.retrieveAndFormatAsssets(),e.isBusy=!1,t.n=8;break;case 1:return t.n=2,e.elasticsearchQuery(n);case 2:if(i=t.v,0!==i.hits.total){t.n=3;break}e.asset_list=[],e.noSearchResults=!0,e.isBusy=!1,t.n=8;break;case 3:s=[],e.asset_list=[],e.noSearchResults=!1,o=i.aggregations.distinct_assets.buckets,r=0,l=o.length;case 4:if(!(r<l)){t.n=7;break}return c=o[r].key,t.n=5,e.getAssetInformation(c);case 5:u=t.v,null!==u&&s.push(u);case 6:r++,t.n=4;break;case 7:0===s.length?(e.noSearchResults=!0,e.isBusy=!1):(e.pushAssetsToTable(s),e.isBusy=!1);case 8:return t.a(2)}}),t)})))()},getAssetWorkflowStatus:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r,l;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:return i="mieWorkflowApi",s="workflow/execution/asset/"+e,o={response:!0},n.p=1,n.n=2,t.$Amplify.API.get(i,s,o);case 2:return r=n.v,n.a(2,r.data);case 3:n.p=3,l=n.v,console.log(l);case 4:return n.a(2)}}),n,null,[[1,3]])})))()},getAssetThumbnail:function(e,t){var n=this;return Object(i["a"])(Object(a["a"])().m((function i(){var s,o,r,l,c,u;return Object(a["a"])().w((function(a){while(1)switch(a.p=a.n){case 0:return s={S3Bucket:e,S3Key:t},o="mieDataplaneApi",r="download",l={body:s,response:!0,responseType:"text"},a.p=1,a.n=2,n.$Amplify.API.post(o,r,l);case 2:return c=a.v,a.a(2,c.data);case 3:a.p=3,u=a.v,n.showDataplaneAlert=!0,console.log(u);case 4:return a.a(2)}}),i,null,[[1,3]])})))()},getAssetInformation:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r,l;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:return i="mieDataplaneApi",s="metadata/"+e,o={response:!0},n.p=1,n.n=2,t.$Amplify.API.get(i,s,o);case 2:return r=n.v,n.a(2,r.data);case 3:n.p=3,l=n.v,t.showDataplaneAlert=!0,console.log(l);case 4:return n.a(2)}}),n,null,[[1,3]])})))()},fetchAssets:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n,i,s,o,r;return Object(a["a"])().w((function(t){while(1)switch(t.p=t.n){case 0:return n="mieDataplaneApi",i="metadata",s={response:!0},t.p=1,t.n=2,e.$Amplify.API.get(n,i,s);case 2:return o=t.v,t.a(2,o.data);case 3:t.p=3,r=t.v,e.showDataplaneAlert=!0,console.log(r);case 4:return t.a(2)}}),t,null,[[1,3]])})))()},pushAssetsToTable:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:for(i=0,s=e.length;i<s;i++)o="object"===Object(Pe["a"])(e[i])?e[i].asset_id:e[i],t.pushAssetToTable(o);case 1:return n.a(2)}}),n)})))()},pushAssetToTable:function(e){var t=this;return Object(i["a"])(Object(a["a"])().m((function n(){var i,s,o,r,l,c,u,d,h,p,f,m,b,v,g;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:return n.n=1,t.getAssetInformation(e);case 1:return i=n.v,s=new Date(0),s.setUTCSeconds(i.results.Created),o="/private/assets/"+e,r=i.results.S3Bucket,l=i.results.S3Key,c="s3://"+t.DATAPLANE_BUCKET+"/"+o,u=l.split("/").pop(),d="private/assets/"+e+"/"+u.substring(0,u.lastIndexOf("."))+"_thumbnail.0000001.jpg",h=t.DATAPLANE_BUCKET,p=[".jpg",".jpeg",".tif",".tiff",".png",".apng",".gif",".bmp",".s gvg"],f=u.substring(u.lastIndexOf(".")).toLowerCase(),p.includes(f)&&(d=l,h=r),n.n=2,Promise.all([t.getAssetThumbnail(h,d),t.getAssetWorkflowStatus(e)]);case 2:m=n.v,b=Object(Ie["a"])(m,2),v=b[0],g=b[1],g[0]&&v&&t.asset_list.push({asset_id:e,Created:s,Filename:u,status:g[0].Status,state_machine_console_link:"https://"+t.AWS_REGION+".console.aws.amazon.com/states/home?region="+t.AWS_REGION+"#/executions/details/"+g[0].StateMachineExecutionArn,s3_uri:c,signedUrl:v,thumbnailID:"_"+e,Thumbnail:"",Actions:"Run"});case 3:return n.a(2)}}),n)})))()},retrieveAndFormatAsssets:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n,i;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.fetchAssets();case 1:n=t.v,i=n.assets,0===i.length?(e.noAssets=!0,e.noSearchResults=!1,e.isBusy=!1):(e.noAssets=!1,e.pushAssetsToTable(i),e.isBusy=!1);case 2:return t.a(2)}}),t)})))()}}},Ue=Re,$e=(n("bdc2"),Object(d["a"])(Ue,Te,ze,!1,null,null,null)),Me=$e.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("amplify-authenticator")],1)},qe=[];function Ke(){var e=s["default"].component("amplify-username-field"),t=e.options.watch=e.options.watch||{};t.username=function(){this.usernameChanged()},t.email=function(){this.emailChanged()}}Ke();var Ge={name:"Login",data:function(){return{}},mounted:function(){var e=this;E["AmplifyEventBus"].$on("authState",(function(t){"signedIn"===t?e.$router.push({name:"collection"}):"signedOut"===t&&e.$router.push({name:"Login"})}))},created:function(){this.getLoginStatus()},methods:{getLoginStatus:function(){var e=this;this.$Amplify.Auth.currentSession().then((function(t){e.session=t,null==e.session?console.log("user must login"):e.$router.push({name:"collection"})}))}}},He=Ge,Je=Object(d["a"])(He,Ve,qe,!1,null,"f4fa86c4",null),Qe=Je.exports;s["default"].use(y["a"]);var Xe=new y["a"]({mode:"history",base:"/",routes:[{path:"/collection",name:"collection",component:Me,meta:{requiresAuth:!0}},{path:"/upload",name:"upload",component:Ce,meta:{requiresAuth:!0}},{path:"/analysis/:asset_id",name:"analysis",component:me,meta:{requiresAuth:!0}},{path:"/",name:"Login",component:Qe,meta:{requiresAuth:!1}}]});Xe.beforeResolve(function(){var e=Object(i["a"])(Object(a["a"])().m((function e(t,n,i){var o;return Object(a["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(!t.matched.some((function(e){return e.meta.requiresAuth}))){e.n=4;break}return e.p=1,e.n=2,s["default"].prototype.$Amplify.Auth.currentAuthenticatedUser();case 2:i(),e.n=4;break;case 3:e.p=3,o=e.v,console.log(o),i({path:"/",query:{redirect:t.fullPath}});case 4:console.log(i),i();case 5:return e.a(2)}}),e,null,[[1,3]])})));return function(t,n,a){return e.apply(this,arguments)}}());var Ye=Xe,Ze=n("00bd"),et=function(){var e=Object(i["a"])(Object(a["a"])().m((function e(){var t;return Object(a["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,fetch("/runtimeConfig.json");case 1:return t=e.v,e.n=2,t.json();case 2:return e.a(2,e.v)}}),e)})));return function(){return e.apply(this,arguments)}}();et().then((function(e){var t={Auth:{region:e.AWS_REGION,userPoolId:e.USER_POOL_ID,userPoolWebClientId:e.USER_POOL_CLIENT_ID,identityPoolId:e.IDENTITY_POOL_ID},Storage:{AWSS3:{bucket:e.DATAPLANE_BUCKET,region:e.AWS_REGION}},API:{endpoints:[{name:"contentAnalysisElasticsearch",endpoint:e.SEARCH_ENDPOINT,service:"es",region:e.AWS_REGION},{name:"mieWorkflowApi",endpoint:e.WORKFLOW_API_ENDPOINT,service:"execute-api",region:e.AWS_REGION},{name:"mieDataplaneApi",endpoint:e.DATAPLANE_API_ENDPOINT,service:"execute-api",region:e.AWS_REGION}]}};console.log("Runtime config: "+JSON.stringify(e)),Ze["default"].configure(t),s["default"].config.productionTip=!1,s["default"].mixin({data:function(){return{SEARCH_ENDPOINT:e.SEARCH_ENDPOINT,DATAPLANE_API_ENDPOINT:e.DATAPLANE_API_ENDPOINT,DATAPLANE_BUCKET:e.DATAPLANE_BUCKET,WORKFLOW_API_ENDPOINT:e.WORKFLOW_API_ENDPOINT,AWS_REGION:e.AWS_REGION}}}),s["default"].use(E["AmplifyPlugin"],Ze),s["default"].use(l["a"]),s["default"].use(r.a),new s["default"]({router:Ye,store:w,render:function(e){return e(f)}}).$mount("#app")}))},"56ea":function(e,t,n){},7495:function(e,t,n){},"94f4":function(e,t,n){"use strict";n("4105")},bdc2:function(e,t,n){"use strict";n("4f9b")},dba0:function(e,t,n){"use strict";n("30ee")},dfe1:function(e,t,n){"use strict";n("56ea")},f5bd:function(e,t,n){"use strict";n("38c3")},fa58:function(e,t,n){}});
//# sourceMappingURL=app.b7b1c1b7.js.map