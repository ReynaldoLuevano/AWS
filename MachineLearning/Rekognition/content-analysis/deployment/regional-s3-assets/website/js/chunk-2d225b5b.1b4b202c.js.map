{"version":3,"sources":["webpack:///./src/components/Translation.vue?f195","webpack:///src/components/Translation.vue","webpack:///./src/components/Translation.vue?e80a","webpack:///./src/components/Translation.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","noTranslation","_v","_e","staticClass","attrs","_s","source_language","target_language","translated_text","staticRenderFns","name","data","isBusy","operator","deactivated","console","log","activated","fetchAssetData","beforeDestroy","methods","_this","_asyncToGenerator","_regenerator","m","_callee","query","apiName","path","apiParams","response","result","i","len","w","_context","n","$route","params","asset_id","headers","queryStringParameters","$Amplify","API","get","v","showElasticSearchAlert","hits","length","_source","TranslatedText","SourceLanguageCode","TargetLanguageCode","a","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,EAAwB,IAAtBJ,EAAIM,cAAwBF,EAAG,MAAM,CAACJ,EAAIO,GAAG,mDAAmDP,EAAIQ,KAAMR,EAAU,OAAEI,EAAG,MAAM,CAACK,YAAY,WAAW,CAACL,EAAG,YAAY,CAACM,MAAM,CAAC,QAAU,YAAY,MAAQ,gBAAgBN,EAAG,IAAI,CAACK,YAAY,cAAc,CAACT,EAAIO,GAAG,iCAAiC,IAA0B,IAAtBP,EAAIM,cAAyBF,EAAG,MAAM,CAACK,YAAY,WAAW,CAACL,EAAG,QAAQ,CAACJ,EAAIO,GAAG,sBAAsBP,EAAIO,GAAG,IAAIP,EAAIW,GAAGX,EAAIY,kBAAkBR,EAAG,MAAMA,EAAG,QAAQ,CAACJ,EAAIO,GAAG,sBAAsBP,EAAIO,GAAG,IAAIP,EAAIW,GAAGX,EAAIa,kBAAkBT,EAAG,MAAMJ,EAAIO,GAAG,SAASP,EAAIW,GAAGX,EAAIc,iBAAiB,UAAUd,EAAIQ,QAChsBO,EAAkB,G,wBC4BP,GACfC,KAAA,cACAC,KAAA,WACA,OACAH,gBAAA,GACAF,gBAAA,GACAC,gBAAA,GACAK,QAAA,EACAC,SAAA,cACAb,eAAA,IAGAc,YAAA,WACAC,QAAAC,IAAA,8BAAAH,WAEAI,UAAA,WACAF,QAAAC,IAAA,4BAAAH,UACA,KAAAK,kBAEAC,cAAA,WACA,KAAAX,gBAAA,GACA,KAAAF,gBAAA,GACA,KAAAC,gBAAA,IAEAa,QAAA,CACAF,eAAA,eAAAG,EAAA,YAAAC,eAAAC,iBAAAC,GAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAApB,EAAAqB,EAAAC,EAAA,OAAAV,iBAAAW,GAAA,SAAAC,GAAA,eAAAA,EAAAC,GAAA,OAOA,OANAV,EAAA,WAAAL,EAAAgB,OAAAC,OAAAC,SAAA,yBACAZ,EAAA,+BACAC,EAAA,WACAC,EAAA,CACAW,QAAA,oCACAC,sBAAA,GAAAf,EAAA,kCACAS,EAAAC,EAAA,EACAf,EAAAqB,SAAAC,IAAAC,IAAAjB,EAAAC,EAAAC,GAAA,UAAAC,EAAAK,EAAAU,EACAf,EAAA,CAAAK,EAAAC,EAAA,QACAf,EAAAyB,wBAAA,EAAAX,EAAAC,EAAA,sBAAAD,EAAAC,EAAA,EAGAN,EAAA,OAEA,GAFAC,EAAAI,EAAAU,EACAlC,EAAAoB,EAAAgB,UACA,IAAApC,EAAAqC,OACA3B,EAAArB,eAAA,OAIA,IADAqB,EAAArB,eAAA,EACAgC,EAAA,EAAAC,EAAAtB,EAAAqC,OAAAhB,EAAAC,EAAAD,IACAX,EAAAb,gBAAAG,EAAAqB,GAAAiB,QAAAC,eACA7B,EAAAf,gBAAAK,EAAAqB,GAAAiB,QAAAE,mBACA9B,EAAAd,gBAAAI,EAAAqB,GAAAiB,QAAAG,mBAGA/B,EAAAT,QAAA,gBAAAuB,EAAAkB,EAAA,MAAA5B,MA1BAH,MCtDoV,I,YCOhVgC,EAAY,eACd,EACA7D,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAA6C,E","file":"js/chunk-2d225b5b.1b4b202c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.noTranslation === true)?_c('div',[_vm._v(\"\\n    No translation found for this asset\\n  \")]):_vm._e(),(_vm.isBusy)?_c('div',{staticClass:\"wrapper\"},[_c('b-spinner',{attrs:{\"variant\":\"secondary\",\"label\":\"Loading...\"}}),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"\\n      (Loading...)\\n    \")])],1):(_vm.noTranslation === false)?_c('div',{staticClass:\"wrapper\"},[_c('label',[_vm._v(\"Source Language:\")]),_vm._v(\" \"+_vm._s(_vm.source_language)),_c('br'),_c('label',[_vm._v(\"Target Language:\")]),_vm._v(\" \"+_vm._s(_vm.target_language)),_c('br'),_vm._v(\"\\n    \"+_vm._s(_vm.translated_text)+\"\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"noTranslation === true\">\n      No translation found for this asset\n    </div>\n    <div\n      v-if=\"isBusy\"\n      class=\"wrapper\"\n    >\n      <b-spinner\n        variant=\"secondary\"\n        label=\"Loading...\"\n      />\n      <p class=\"text-muted\">\n        (Loading...)\n      </p>\n    </div>\n    <div\n      v-else-if=\"noTranslation === false\"\n      class=\"wrapper\"\n    >\n      <label>Source Language:</label> {{ source_language }}<br>\n      <label>Target Language:</label> {{ target_language }}<br>\n      {{ translated_text }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Translation\",\n  data() {\n    return {\n      translated_text: \"\",\n      source_language: \"\",\n      target_language: \"\",\n      isBusy: false,\n      operator: \"translation\",\n      noTranslation: false\n    }\n  },\n  deactivated: function () {\n    console.log('deactivated component:', this.operator)\n  },\n  activated: function () {\n    console.log('activated component:', this.operator);\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n      this.translated_text = \"\";\n      this.source_language = \"\";\n      this.target_language = \"\";\n    },\n  methods: {\n    async fetchAssetData () {\n      let query = 'AssetId:'+this.$route.params.asset_id+ ' _index:mietranslation';\n      let apiName = 'contentAnalysisElasticsearch';\n      let path = '/_search';\n      let apiParams = {\n        headers: {'Content-Type': 'application/json'},\n        queryStringParameters: {'q': query, 'default_operator': 'AND', 'size': 10000}\n      };\n      let response = await this.$Amplify.API.get(apiName, path, apiParams);\n      if (!response) {\n        this.showElasticSearchAlert = true\n      }\n      else {\n        let result = await response;\n        let data = result.hits.hits;\n        if (data.length === 0) {\n          this.noTranslation = true\n        }\n        else {\n          this.noTranslation = false;\n          for (let i = 0, len = data.length; i < len; i++) {\n            this.translated_text = data[i]._source.TranslatedText;\n            this.source_language = data[i]._source.SourceLanguageCode;\n            this.target_language = data[i]._source.TargetLanguageCode\n          }\n        }\n        this.isBusy = false\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Translation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Translation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Translation.vue?vue&type=template&id=223b71ee\"\nimport script from \"./Translation.vue?vue&type=script&lang=js\"\nexport * from \"./Translation.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}