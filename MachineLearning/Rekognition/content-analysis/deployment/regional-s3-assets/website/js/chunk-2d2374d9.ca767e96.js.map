{"version":3,"sources":["webpack:///./src/components/ComprehendEntities.vue?b566","webpack:///src/components/ComprehendEntities.vue","webpack:///./src/components/ComprehendEntities.vue?f088","webpack:///./src/components/ComprehendEntities.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","updateConfidence","_s","Confidence","_e","entities","fields","sortBy","scopedSlots","_u","key","fn","data","item","toFixed","staticRenderFns","name","components","Loading","sortable","isBusy","operator","computed","_objectSpread","mapState","deactivated","console","log","activated","fetchAssetData","beforeDestroy","methods","event","target","value","_this","_asyncToGenerator","_regenerator","m","_callee","query","apiName","path","apiParams","response","result","i","len","w","_context","n","$route","params","asset_id","headers","queryStringParameters","$Amplify","API","get","v","showElasticSearchAlert","hits","length","push","_source","EntityText","EntityType","BeginOffset","EndOffset","a","component"],"mappings":"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","file":"js/chunk-2d2374d9.ca767e96.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"wrapper\"},[_vm._v(\"\\n    Confidence Threshold\"),_c('br'),_c('input',{attrs:{\"type\":\"range\",\"value\":\"90\",\"min\":\"55\",\"max\":\"99\",\"step\":\"1\"},on:{\"click\":_vm.updateConfidence}}),_vm._v(\"\\n    \"+_vm._s(_vm.Confidence)+\"%\"),_c('br')]),(_vm.isBusy)?_c('div',{staticClass:\"wrapper\"},[_c('Loading')],1):_vm._e(),_c('div',{staticClass:\"wrapper\"},[_c('b-table',{attrs:{\"responsive\":\"\",\"fixed\":\"\",\"items\":_vm.entities,\"fields\":_vm.fields,\"sort-by\":_vm.sortBy},scopedSlots:_vm._u([{key:\"cell(Confidence)\",fn:function(data){return [_vm._v(\"\\n        \"+_vm._s((data.item.Confidence * 1).toFixed(2))+\"\\n      \")]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"wrapper\">\n      Confidence Threshold<br>\n      <input\n        type=\"range\"\n        value=\"90\"\n        min=\"55\"\n        max=\"99\"\n        step=\"1\"\n        @click=\"updateConfidence\"\n      >\n      {{ Confidence }}%<br>\n    </div>\n    <div\n      v-if=\"isBusy\"\n      class=\"wrapper\"\n    >\n      <Loading />\n    </div>\n    <div class=\"wrapper\">\n      <b-table\n        responsive\n        fixed\n        :items=\"entities\"\n        :fields=\"fields\"\n        :sort-by=\"sortBy\"\n      >\n        <template #cell(Confidence)=\"data\">\n          {{ (data.item.Confidence * 1).toFixed(2) }}\n        </template>\n      </b-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from '@/components/Loading.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"Entities\",\n  components: {\n    Loading\n    },\n  data() {\n    return {\n      Confidence: 90,\n      sortBy: \"BeginOffset\",\n      fields: [\n        { key: 'EntityText', sortable: true },\n        { key: 'EntityType', sortable: true },\n        { key: 'Confidence', sortable: true },\n        { key: 'BeginOffset', sortable: true },\n        { key: 'EndOffset', sortable: true },\n      ],\n      entities: [],\n      isBusy: false,\n      operator: \"entities\"\n    }\n  },\n  computed: {\n    ...mapState(['player']),\n  },\n  deactivated: function () {\n    console.log('deactivated component:', this.operator)\n    // clearing this value after every deactivation so we dont carry this huge amount of data in memory\n    this.entities = []\n  },\n  activated: function () {\n    console.log('activated component:', this.operator);\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n    this.entities = []\n  },\n  methods: {\n    updateConfidence (event) {\n      this.isBusy = true;\n      this.entities = [];\n      this.Confidence = event.target.value;\n      this.fetchAssetData()\n    },\n    async fetchAssetData () {\n      let query = 'AssetId:'+this.$route.params.asset_id+' Confidence:>'+this.Confidence+' _index:mieentities';\n      let apiName = 'contentAnalysisElasticsearch';\n      let path = '/_search';\n      let apiParams = {\n        headers: {'Content-Type': 'application/json'},\n        queryStringParameters: {'q': query, 'default_operator': 'AND', 'size': 10000}\n      };\n      let response = await this.$Amplify.API.get(apiName, path, apiParams);\n      if (!response) {\n        this.showElasticSearchAlert = true\n      }\n      else {\n        let result = await response;\n        let data = result.hits.hits;\n        for (var i = 0, len = data.length; i < len; i++) {\n          this.entities.push({ \"EntityText\": data[i]._source.EntityText, \"EntityType\": data[i]._source.EntityType, \"Confidence\": data[i]._source.Confidence, \"BeginOffset\": data[i]._source.BeginOffset, \"EndOffset\": data[i]._source.EndOffset})\n        }\n        this.isBusy = false\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComprehendEntities.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComprehendEntities.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ComprehendEntities.vue?vue&type=template&id=5f5e4d73\"\nimport script from \"./ComprehendEntities.vue?vue&type=script&lang=js\"\nexport * from \"./ComprehendEntities.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}